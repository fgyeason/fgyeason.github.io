<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[æµ…è°ˆHbase]]></title>
    <url>%2F2018%2F06%2F25%2F%E6%B5%85%E8%B0%88Hbase%2F</url>
    <content type="text"><![CDATA[ä»ITæ—¶ä»£èµ°å‘DTæ—¶ä»£ ç›®å½• æ¦‚è¿° HBaseè®¿é—®å€Ÿå£ HBaseæ•°æ®æ¨¡å‹ HBaseå®ç°åŸç† HBaseè¿è¡Œæœºåˆ¶ HBaseåº”ç”¨æ–¹æ¡ˆ æ¦‚è¿°ç®€ä»‹HBaseæ˜¯ä¸€ä¸ªé«˜å¯é ã€é«˜æ€§èƒ½ã€é¢å‘å’§ã€å¯ä¼¸ç¼©çš„åˆ†å¸ƒå¼æ•°æ®åº“ã€‚æ˜¯è°·æ­ŒBigTableçš„å¼€æºå®ç°ï¼Œä¸»è¦ç”¨æ¥å­˜å‚¨éç»“æ„åŒ–å’ŒåŠç»“æ„åŒ–çš„æ¾æ•£æ•°æ®ã€‚ ä¸ºä»€ä¹ˆè¦HBaseï¼Ÿ å—é™äºHadoop MRç¼–ç¨‹æ¡†æ¶çš„é«˜å»¶è¿Ÿæ•°æ®å¤„ç†æœºåˆ¶ï¼Œæ— æ³•æ»¡è¶³å¤§è§„æ¨¡æ•°æ®å®æ—¶å¤„ç†çš„éœ€æ±‚ã€‚ HDFSä¸èƒ½éšæœºè®¿é—® ä¼ ç»Ÿå…³ç³»å‹æ•°æ®æ— æ³•åº”å¯¹å‰§å¢çš„æµ·é‡æ•°æ® ä¼ ç»Ÿå…³ç³»å‹æ•°æ®åº“åœ¨æ•°æ®ç»“æ„å˜åŒ–æ—¶éœ€è¦åœæœºç»´æŠ¤ï¼›å­”è£‚æµªè´¹å­˜å‚¨ç©ºé—´ å› æ­¤ï¼Œä¸šç•Œå‡ºç°äº†ä¸€ç±»é¢ç›¸åŠç»“æ„åŒ–æ•°æ®å­˜å‚¨å’Œå¤„ç†çš„é«˜å¯æ‰©å±•ã€ä½å†™å…¥ã€æŸ¥è¯¢å»¶è¿Ÿçš„ç³»ç»Ÿã€‚å¦‚é”®å€¼æ•°æ®åº“ã€æ–‡æ¡£æ•°æ®åº“å’Œåˆ—æ—æ•°æ®åº“ï¼ˆå¦‚BitTableå’ŒHBaseï¼‰ã€‚å¦‚ä»ŠHBaseå·²ç»æˆåŠŸåº”ç”¨äºäº’è”ç½‘æœåŠ¡é¢†åŸŸå’Œä¼ ç»Ÿè¡Œä¸šçš„ä¼—å¤šåœ¨çº¿å¼æ•°æ®åˆ†æå¤„ç†ç³»ç»Ÿä¸­ã€‚ HBaseä¸ä¼ ç»Ÿå…³ç³»æ•°æ®åº“çš„å¯¹æ¯” ç‰¹æ€§ ä¼ ç»Ÿå…³ç³»æ•°æ®åº“ HBase æ•°æ®ç±»å‹ å…³ç³»æ¨¡å¼ï¼Œå…·æœ‰ä¸°å¯Œçš„æ•°æ®ç±»å‹åå’Œå­˜å‚¨æ–¹å¼ é‡‡ç”¨æ›´ç®€æ´çš„æ•°æ®æ¨¡å‹ï¼Œå§æ•°æ®å­˜å‚¨ä¸ºæœªç»è§£é‡Šçš„å­—ç¬¦ä¸² æ•°æ®æ“ä½œ åŒ…å«ä¸°å¯Œçš„æ“ä½œï¼Œæ¶‰åŠå¤æ‚çš„å¤ºæ ‡é“¾æ¥ ä¸å­˜åœ¨å¤æ‚çš„è¡¨äºè¡¨ä¹‹é—´çš„å…³ç³»ï¼Œåªæœ‰ç®€å•çš„å¢ã€åˆ ã€æŸ¥ã€æ¸…ç©ºç­‰ï¼Œé¿å…è¡¨äºè¡¨é—´å¤æ‚å…³ç³» å­˜å‚¨æ¨¡å¼ åŸºäºè¡Œå­˜å‚¨ åŸºäºåˆ—å­˜å‚¨ï¼Œæ¯ä¸ªåˆ—æ—æœ‰å‡ ä¸ªæ–‡ä»¶ä¿å­˜ï¼Œä¸åŒåˆ—æ—çš„æ–‡ä»¶æ˜¯åˆ†ç¦»çš„ æ•°æ®ç´¢å¼• é€šè¿‡é’ˆå¯¹ä¸åŒåˆ—æ„å»ºå¤æ‚å¤šä¸ªç´¢å¼•ä»¥æé«˜è®¿é—®æ€§èƒ½ åªæœ‰ä¸€ä¸ªç´¢å¼•ï¼ˆè¡Œé”®ï¼‰ï¼Œè®¿é—®æ–¹æ³•ä¸ºæˆ–è¡Œé”®è®¿é—®æˆ–è¡Œé”®æ‰«é¢ï¼Œé€šè¿‡å·§å¦™çš„è®¾è®¡ï¼Œé€Ÿåº¦ä¸ä¼šæ…¢ä¸‹æ¥ æ•°æ®ç»´æŠ¤ æ›´æ–°æ“ä½œç”¨æœ€æ–°çš„æ•°æ®è¦†ç›–æ—§çš„ æ›´æ–°æ“ä½œç”Ÿæˆä¸€ä¸ªæ–°çš„ç‰ˆæœ¬ï¼Œä¹…çš„ç‰ˆæœ¬ä»ç„¶ä¿ç•™ å¯ä¼¸ç¼©æ€§ å¾ˆéš¾å®ç°æ¨ªå‘æ‹“å±•ï¼Œçºµå‘æ‹“å±•ç©ºé—´ä¹Ÿæœ‰é™ å¯ä»¥è½»æ˜“é€šè¿‡åœ¨é›†ç¾¤ä¸­å¢åŠ æˆ–å‡å°‘ç¡¬ä»¶æ•°é‡å®ç°æ€§èƒ½ä¼¸ç¼© HBaseè®¿é—®æ¥å£ HBaseæ•°æ®æ¨¡å‹ æ•°æ®æ¨¡å‹æ¦‚è¿° æ•°æ®æ¨¡å‹ç›¸å…³æ¦‚å¿µ æ¦‚å¿µè§†å›¾ ç‰©ç†è§†å›¾ é¢å‘åˆ—çš„å­˜å‚¨ æ•°æ®æ¨¡å‹æ¦‚è¿° HBaseæ˜¯ä¸€ä¸ªç¨€ç–ã€å¤šç»´åº¦ã€æ’åºçš„æ˜ å°„è¡¨ï¼Œè¿™å¼ è¡¨çš„ç´¢å¼•æ—¶è¡Œé”®ã€åˆ—æ—ã€åˆ—é™å®šç¬¦ã€ã€æ—¶é—´æˆ³ã€‚ æ¯ä¸€ä¸ªå€¼æ˜¯ä¸€ä¸ªæœªç»è§£é‡Šçš„å­—ç¬¦ä¸²ï¼Œæ²¡æœ‰æ•°æ®ç±»å‹ã€‚ æ¯ä¸€è¡Œéƒ½æœ‰ä¸€ä¸ªå¯æ’åºçš„è¡Œé”®å’Œä»»æ„å¤šçš„åˆ— è¡¨åœ¨æ°´å¹³æ–¹å‘ç”±ä¸€ä¸ªæˆ–è€…å¤šä¸ªåˆ—æ—ç»„æˆï¼Œä¸€ä¸ªåˆ—æ—å¯ä»¥åŒ…å«ä»»æ„å¤šä¸ªåˆ—ï¼ŒåŒä¸€ä¸ªåˆ—æ—é‡Œé¢çš„æ•°æ®å­˜å‚¨åœ¨ä¸€èµ· åˆ—æ—æ”¯æŒåŠ¨æ€æ‰©å±•ï¼Œè½»æ¾çš„æ·»åŠ åˆ—æ—æˆ–åˆ—ï¼Œæ— é¢„å…ˆå®šä¹‰åˆ—çš„æ•°é‡å’Œç±»å‹ã€‚æ‰€æœ‰åˆ—å‡ä»¥å­—ç¬¦ä¸²å½¢å¼å­˜å‚¨ï¼Œç”¨æˆ·éœ€è‡ªè¡Œè¿›è¡Œæ•°æ®ç±»å‹è½¬æ¢ã€‚ HBaseä¸­æ‰§è¡Œæ›´æ–°æ“ä½œæ—¶ï¼Œç”Ÿæˆæ–°ç‰ˆæœ¬ï¼Œä¿ç•™æ—§ç‰ˆæœ¬ï¼ŒæŸ¥è¯¢æ—¶é»˜è®¤è¿”å›æœ€æ–°ç‰ˆæœ¬ã€‚åˆ›å»ºæ—¶å¯ä»¥è®¾ç½®æœ€å¤šä¿ç•™ç‰ˆæœ¬æ•°é‡ã€‚ æ•°æ®æ¨¡å‹ç›¸å…³æ¦‚å¿µ è¡¨ï¼šHBaseé‡‡ç”¨è¡¨æ¥ç»„ç»‡æ•°æ®ï¼Œè¡¨ç”±è¡Œå’Œåˆ—ç»„æˆï¼Œåˆ—æ¢åˆ†ä¸ºè‹¥å¹²ä¸ªåˆ—æ—ï¼Œé¿å…å¤ºæ ‡é“¾æ¥æ“ä½œï¼Œè¿½æ±‚åˆ†ææ•ˆç‡ã€‚ è¡Œï¼šæ¯ä¸ªHBAseè¡¨ç”±è‹¥å¹²è¡Œç»„æˆï¼Œæ¯ä¸ªè¡Œç”±è¡Œé”®ï¼ˆRow Keyï¼‰æ¥æ ‡ç¤ºã€‚ä¸ç»™è¡Œé”®æ‰€åœ¨çš„åˆ—è¿›è¡Œå‘½åï¼Œè®©å…¶æ‹¥æœ‰çºµå‘å¯æ‹“å±•æ€§ã€‚ åˆ—æ—ï¼šä¸€ä¸ªHBaseè¡¨è¢«åˆ†ç»„æˆè®¸å¤šâ€œåˆ—æ—â€çš„é›†åˆï¼Œå®ƒæ˜¯åŸºæœ¬çš„è®¿é—®æ§åˆ¶å•å…ƒï¼Œä¹Ÿæ˜¯åŸºæœ¬å­˜å‚¨å•å…ƒã€‚ åˆ—é™å®šç¬¦ï¼šç›¸å½“äºåˆ—å å•å…ƒæ ¼ï¼šåœ¨HBaaeè¡¨ä¸­ï¼Œé€šè¿‡è¡Œã€åˆ—æ—å’Œåˆ—é™å®šç¬¦ç¡®å®šä¸€ä¸ªâ€œå•å…ƒæ ¼â€ï¼Œï¼ˆæ—¶é—´æˆ³å®šä¹‰å…¶ç‰ˆæœ¬ï¼‰å•å…ƒæ ¼ä¸­å­˜å‚¨çš„æ•°æ®æ²¡æœ‰æ•°æ®ç±»å‹ï¼Œæ€»è¢«è§†ä¸ºå­—èŠ‚æ•°ç»„byte[] HBaseä¸­éœ€è¦æ ¹æ®è¡Œé”®ã€åˆ—æ—ã€åˆ—é™å®šç¬¦å’Œæ—¶é—´æˆ³ç¡®å®šä¸€ä¸ªå•å…ƒæ ¼ï¼Œå› æ­¤æ˜¯ä¸€ä¸ªâ€œå››ç»´â€åæ ‡ã€‚ğŸ’¡ï¼šä¸Šæ–‡ä¸­æåˆ°HBaseæ•°æ®åªæœ‰ä¸€ä¸ªç´¢å¼•ï¼ˆè¡Œé”®ï¼‰ï¼Œ æ¦‚å¿µè§†å›¾ ç‰©ç†è§†å›¾ é¢å‘åˆ—çš„å­˜å‚¨ ğŸ’¡ä¸åŒå­˜å‚¨æ¨¡å‹ä¼˜åŠ£å¯¹æ¯” é¢å‘è¡Œå­˜å‚¨çš„æ•°æ®åº“ä¸»è¦é‡‡ç”¨NSMï¼ˆN-ary Storage Modelï¼‰å­˜å‚¨æ¨¡å‹ï¼Œå³ä¸€ä¸ªå…ƒç»„ï¼ˆè¡Œï¼‰ä¼šè¢«è¿ç»­å­˜å‚¨åœ¨ç£ç›˜é¡µä¸­ï¼Œæ•°æ®æ˜¯ä¸€è¡Œè¡Œè¿›è¡Œå­˜å‚¨ï¼Œè¯»å–ä¹Ÿæ˜¯ä¸€è¡Œè¡Œè¿›è¡Œè¯»å–ã€‚å½“è¦é€‰å–æŸå±æ€§è¿›è¡Œåˆ†ææ—¶ï¼Œä¹Ÿéœ€è¦é¦–å…ˆæ‰«é¢å®Œæ•´å…ƒç»„å†…å®¹ã€‚ ä¼˜ç‚¹ï¼šé€‚ç”¨äºè”æœºäº‹åŠ¡æ€§æ•°æ®å¤„ç†ï¼Œå³å°†åˆ†å¸ƒäºä¸åŒåœ°ç†ä½ç½®çš„æ•°æ®åˆ©ç”¨ç½‘ç»œè¿›è¡Œè¿æ¥ï¼Œè¿›è€Œè¿›è¡Œç»Ÿä¸€çš„å­˜å‚¨å’Œç®¡ç†ã€‚ ç¼ºç‚¹ï¼šé„™è§†å’Œåˆ†ææ€§æ“ä½œ é¢å‘åˆ—å­˜å‚¨çš„æ•°æ®åº“ä¸»è¦é‡‡ç”¨DSMï¼ˆDecompostion Storage Modelï¼‰å­˜å‚¨æ¨¡å‹ï¼Œè¯¥æ¨¡å‹ä¼šå¯¹å…³ç³»è¿›è¡Œå‚ç›´åˆ†è§£ï¼Œå¹¶ä¸ºæ¯ä¸ªå±æ€§åˆ†é…ä¸€ä¸ªå­å…³ç³»ï¼Œæ¯ä¸ªå­å…³ç³»å•ç‹¬å­˜å‚¨ã€‚ ä¼˜ç‚¹ï¼šåœ¨æ‰¹å¤„ç†å’Œå³å…´æŸ¥è¯¢ç­‰åˆ†ææ“ä½œä¸­èƒ½å¤Ÿç›´æ¥å®šä½ç›®æ ‡åˆ—ï¼Œèƒ½å¤Ÿæœ‰æœ‰æ•ˆI/Oå¼€é”€ï¼›åŒä¸€åˆ—æ•°æ®ç±»å‹ç›¸åŒï¼Œå­˜å‚¨è¿‡ç¨‹èƒ½å¤Ÿæ‹¥æœ‰å¾ˆé«˜çš„æ•°æ®å‹ç¼©æ—…ï¼Œä»è€ŒèŠ‚çœå­˜å‚¨ç©ºé—´ã€‚ ç¼ºç‚¹ï¼šæ‰§è¡Œè¿ç»­æ“ä½œæ—¶è¦ä»˜å‡ºæ˜‚è´µçš„å…ƒç»„é‡æ„ä»£ä»·ã€‚ ğŸ’¡ æ€»ç»“ï¼šNSMå­˜å‚¨æ¨¡å‹æ›´åŠ é€‚åˆäº‹åŠ¡å‹åº”ç”¨ï¼ŒDSMå­˜å‚¨æ¨¡å‹æ›´åŠ é€‚åˆåˆ†ææ€§åº”ç”¨ HBaseå®ç°åŸç†HBaseåŠŸèƒ½ç»„ä»¶ åº“å‡½æ•° ä¸€ä¸ªMasterä¸»æœåŠ¡å™¨ è®¸å¤šä¸ªRegionæœåŠ¡å™¨ Masterè´Ÿè´£ç®¡ç†å’Œç»´æŠ¤Hbaseè¡¨çš„åˆ†åŒºä¿¡æ¯ï¼Œç»´æŠ¤RegionæœåŠ¡å™¨åˆ—è¡¨ï¼Œåˆ†é…Regionï¼Œè´Ÿè´£å‡è¡¡ï¼Œå’ŒNamenodeåŠŸèƒ½ç±»ä¼¼ã€‚ RegionæœåŠ¡å™¨è´Ÿè´£å­˜å‚¨å’Œç»´æŠ¤åˆ†é…ç»™è‡ªå·±çš„Regionï¼Œå¤„ç†æ¥è‡ªå®¢æˆ·ç«¯çš„è¯»å†™è¯·æ±‚ï¼Œå’ŒDatanodeåŠŸèƒ½ç±»ä¼¼ã€‚ å®¢æˆ·ç«¯å¹¶ä¸æ˜¯ç›´æ¥ä»Masterä¸»æœåŠ¡å™¨è¯»å–æ•°æ®ï¼Œè€Œæ˜¯åœ¨è·å¾—Regionçš„å­˜å‚¨ä½ç½®åï¼Œç›´æ¥ä»RegionæœåŠ¡å™¨ä¸Šè¯»å–æ•°æ®ã€‚ å®¢æˆ·ç«¯å¹¶ä¸ä¾èµ–Masterï¼Œè€Œæ˜¯é€šè¿‡Zookeeperæ¥è·å¾—Regionä½ç½®ä¿¡æ¯ï¼Œå¤§å¤šæ•°å®¢æˆ·ç«¯ç”šè‡³ä»æ¥ä¸å’ŒMasteré€šä¿¡ï¼Œè¿™ç§è®¾è®¡æ˜¯çš„Masterè´Ÿè½½å¾ˆå°ã€‚ è¡¨å’ŒRegion ä¸€ä¸ªè¡¨åŒ…å«å¤šä¸ªRegion å¼€å§‹åªæœ‰ä¸€ä¸ªRegionï¼Œåæ¥ä¸æ–­åˆ†è£‚ Reginæ‹†åˆ†æ“ä½œéå¸¸å¿«ï¼ˆå¼€å§‹åªæ˜¯ä¿®æ”¹æ–‡ä»¶æŒ‡å‘ï¼‰ï¼Œæ¥è¿‘ç¬é—´ã€‚å› ä¸ºæ‹†åˆ†ä¹‹åçš„Regionè¯»å–çš„ä»ç„¶æ˜¯åŸå­˜å‚¨æ–‡ä»¶ï¼ŒçŸ¥é“â€œåˆå¹¶â€è¿‡ç¨‹å§å­˜å‚¨æ–‡ä»¶å¼‚æ­¥å†™åˆ°ç‹¬ç«‹çš„æ–‡ä»¶ä¹‹åï¼Œæ‰ä¼šè¯»å–æ–°æ–‡ä»¶ã€‚ æ¯ä¸ªRegioné»˜è®¤å¤§å°æ˜¯100MBåˆ°200MBï¼ˆ2006ä¹‹å‰ï¼‰ æ¯ä¸ªRegionçš„æœ€ä½³å¤§å°å–å†³äºä¸¹å°æœæ›²å¥‡çš„æœ‰æ•ˆå¤„ç†èƒ½åŠ› ç›®å‰æ¯ä¸ªRegionçš„æœ€ä½³å¤§å°å»ºè®®1Gï½2Gï¼ˆ2013ä»¥åï¼‰ æ¯ä¸ªRegionä¸ä¼šè¢«åˆ†æ‹†åˆ°å¤šä¸ªRegionæœåŠ¡å™¨ï¼ˆRegionæœ€å°ä¸å¯åˆ†ï¼‰ æ¯ä¸ªRegionæœåŠ¡å™¨å­˜å‚¨10ï½1000ä¸ªRegion Regionçš„å®šä½ å…ƒæ•°æ®è¡¨ï¼ŒåˆåMETAè¡¨ï¼Œå­˜å‚¨äº†Regionå’ŒRegionæœåŠ¡å™¨çš„æ˜ å°„å…³ç³»ã€‚ å½“HBaseè¡¨å¾ˆå¤§æ—¶ï¼ŒMETAè¡¨ä¹Ÿä¼šè¢«åˆ†è£‚æˆå¤šä¸ªRegion æ ¹æ•°æ®è¡¨ï¼Œæœ‰æ˜ROOTè¡¨ï¼Œè®°å½•æ‰€æœ‰å…ƒæ•°æ®çš„å…·ä½“ä½ç½® ROOTè¡¨åªæœ‰å”¯ä¸€ä¸€ä¸ªRegionï¼Œåå­—æ˜¯åœ¨ç¨‹åºä¸­è¢«å†™æ­»çš„ Zookeeperæ–‡ä»¶è®°å½•äº†ROOTè¡¨çš„ä½ç½® ä¸ºäº†åŠ å¿«è®¿é—®é€Ÿåº¦ï¼ŒMETAè¡¨çš„å…¨éƒ¨Regionéƒ½ä¼šè¢«ä¿å­˜åœ¨å†…å­˜ä¸­ å‡è®¾METAè¡¨çš„æ¯è¡Œï¼ˆä¸€ä¸ªæ˜ å°„æ¡ç›®ï¼‰åœ¨å†…å­˜ä¸­å¤§çº¦å ç”¨1KBï¼Œæ¯ä¸ªRegioné™åˆ¶ä¸º128MBï¼Œé‚£ä¹ˆä¸Šé¢ä¸‰å±‚ç»“æ„å¯ä»¥æ›¹æ‘çš„ç”¨æˆ·æ•°æ®è¡¨çš„Regionæ•°ç›®çš„è®¡ç®—æ–¹æ³•æ˜¯ï¼š ROOTè¡¨èƒ½å¤Ÿå¯»å€METAè¡¨çš„Regionä¸ªæ•° X æ¯ä¸ªMETAè¡¨èƒ½å¯»å€çš„ä¸ªæ•° ä¸€ä¸ªROOTè¡¨æœ€å¤šåªèƒ½æœ‰ä¸€ä¸ªRegionå¤§å°ï¼Œä¹Ÿå°±æ˜¯æœ€å¤šåªèƒ½æœ‰128MBï¼ŒæŒ‰ç…§æ¯è¡Œå ç”¨1KBå†…å­˜è®¡ç®—ï¼Œ128MBç©ºé—´å¯ä»¥å®¹çº³128MBÃ·1kb=217128MBÃ·1kb=217ã€‚ä¹Ÿå°±æ˜¯ä¸€ä¸ªROOTå¯ä»¥å¯»å€217217ä¸ª.METAè¡¨çš„Regionã€‚ åŒç†æ¯ä¸ªMETAè¡¨çš„Regionå¯ä»¥å­˜ä¹‹çš„ç”¨æˆ·æ•°æ®è¡¨çš„Regionä¸ªæ•°ä¹Ÿæ˜¯217217ä¸ª å®¢æˆ·è®¿é—®æ•°æ®æ—¶çš„â€œä¸‰çº§å¯»å€â€ï¼š ä¸ºäº†åŠ é€Ÿå¯»å€ï¼Œå®¢æˆ·ç«¯ä¼šç¼“å­˜ä½ç½®ä¿¡æ¯ï¼ŒåŒæ—¶éœ€è¦è§£å†³ç¼“å­˜å¤±æ•ˆçš„é—®é¢˜ å¯»å€è¿‡ç¨‹å®¢æˆ·ç«¯éœ€è¦è¯¢é—®ZookeeperæœåŠ¡å™¨ï¼Œä¸éœ€è¦é“¾æ¥MasteræœåŠ¡å™¨ã€‚ HBaseè¿è¡Œæœºåˆ¶ HBaseç³»ç»Ÿæ¶æ„ RegionæœåŠ¡å™¨å·¥ä½œåŸç† Storeå·¥ä½œåŸç† HLogå·¥ä½œåŸç† HBaseç³»ç»Ÿæ¶æ„ å®¢æˆ·ç«¯å®¢æˆ·ç«¯åŒ…å«è®¿é—®HBaseçš„æ¥å£,åŒæ—¶åœ¨ç¼“å­˜ä¸­ç»´æŠ¤è€…å·²ç»å¥½è®¿é—®è¿‡çš„Regionä½ç½®ä¿¡æ¯,ç”¨æ¥åŠ å¿«åç»­æ•°æ®è®¿é—®çš„è¿‡ç¨‹ ZookeeperæœåŠ¡å™¨Zookeeperå¯ä»¥å¸®åŠ©é€‰å‡ºä¸€ä¸ªMasterä½œä¸ºé›†ç¾¤çš„æ€»ç®¡,å¹¶ä¿è¯åœ¨ä»»ä½•æ—¶åˆ»æ€»æœ‰å”¯ä¸€ä¸€ä¸ªMasteråœ¨è¿è¡Œ,è¿™å°±é¿å…äº†Masterâ€œå•ç‚¹å¤±æ•ˆâ€é—®é¢˜. ğŸ’¡Zookeeperæ˜¯ä¸€ä¸ªå¾ˆå¥½çš„é›†ç¾¤ç®¡ç†å·¥å…·,è¢«å¤§é‡ç”¨äºåˆ†å¸ƒå¼è®¡ç®—,æä¾›é…ç½®ç»´æŠ¤ã€åŸŸåæœåŠ¡ã€åˆ†å¸ƒå¼åŒæ­¥ã€ç»„æœåŠ¡ç­‰ MasteræœåŠ¡å™¨: ä¸»æœåŠ¡å™¨ä¸»è¦è´Ÿè´£å’ŒRegionçš„ç®¡ç†å·¥ä½œ ç®¡ç†ç”¨æˆ·å¯¹è¡¨çš„å¢åˆ æ”¹æŸ¥ å®ç°ä¸åŒRegionæœåŠ¡å™¨ä¹‹é—´çš„è´Ÿè½½å‡è¡¡ åœ¨Regionåˆ†è£‚æˆ–åˆå¹¶å,è´Ÿè´£é‡æ–°è°ƒæ•´Regionçš„åˆ†å¸ƒ å¯¹å‘ç”Ÿæ•…éšœæ—¶æ™“å¾—RegionæœåŠ¡å™¨ä¸Šçš„Regionè¿›è¡Œè¿ç§» RegionæœåŠ¡å™¨: RegionæœåŠ¡å™¨æ—¶HBaseæœ€æ ¸å¿ƒçš„æ¨¡å—,è´Ÿè´£ç»´æŠ¤åˆ†é…ç»™è‡ªå·±çš„Region,å¹¶å“åº”ç”¨æˆ·çš„è¯»å†™è¯·æ±‚ RegionæœåŠ¡å™¨çš„å·¥ä½œåŸç†1.ç”¨æˆ·è¯»å†™æ•°æ®è¿‡ç¨‹ ç”¨æˆ·å†™å…¥æ•°æ®æ—¶ï¼Œè¢«åˆ†é…åˆ°ç›¸åº”RegionæœåŠ¡å™¨å»æ‰§è¡Œ ç”¨æˆ·æ•°æ®é¦–å…ˆè¢«å†™å…¥åˆ°MemStoreå’ŒHlogä¸­ åªæœ‰å½“æ“ä½œå†™å…¥Hlogä¹‹åï¼Œcommit()è°ƒç”¨æ‰ä¼šå°†å…¶è¿”å›ç»™å®¢æˆ·ç«¯ å½“ç”¨æˆ·è¯»å–æ•°æ®æ—¶ï¼ŒRegionæœåŠ¡å™¨ä¼šé¦–å…ˆè®¿é—®MemStoreç¼“å­˜ï¼Œå¦‚æœæ‰¾ä¸åˆ°ï¼Œå†å»ç£ç›˜ä¸Šé¢çš„StoreFileä¸­å¯»æ‰¾ 2.ç¼“å­˜çš„åˆ·æ–° ç³»ç»Ÿä¼šå‘¨æœŸæ€§åœ°æŠŠMemStoreç¼“å­˜é‡Œçš„å†…å®¹åˆ·å†™åˆ°ç£ç›˜çš„StoreFileæ–‡ä»¶ä¸­ï¼Œæ¸…ç©ºç¼“å­˜ï¼Œå¹¶åœ¨Hlogé‡Œé¢å†™å…¥ä¸€ä¸ªæ ‡è®° æ¯æ¬¡åˆ·å†™éƒ½ç”Ÿæˆä¸€ä¸ªæ–°çš„StoreFileæ–‡ä»¶ï¼Œå› æ­¤ï¼Œæ¯ä¸ªStoreåŒ…å«å¤šä¸ªStoreFileæ–‡ä»¶ æ¯ä¸ªRegionæœåŠ¡å™¨éƒ½æœ‰ä¸€ä¸ªè‡ªå·±çš„HLog æ–‡ä»¶ï¼Œæ¯æ¬¡å¯åŠ¨éƒ½æ£€æŸ¥è¯¥æ–‡ä»¶ï¼Œç¡®è®¤æœ€è¿‘ä¸€æ¬¡æ‰§è¡Œç¼“å­˜åˆ·æ–°æ“ä½œä¹‹åæ˜¯å¦å‘ç”Ÿæ–°çš„å†™å…¥æ“ä½œï¼›å¦‚æœå‘ç°æ›´æ–°ï¼Œåˆ™å…ˆå†™å…¥MemStoreï¼Œå†åˆ·å†™åˆ°StoreFileï¼Œæœ€ååˆ é™¤æ—§çš„Hlogæ–‡ä»¶ï¼Œå¼€å§‹ä¸ºç”¨æˆ·æä¾›æœåŠ¡ 3.StoreFileçš„åˆå¹¶ æ¯æ¬¡åˆ·å†™éƒ½ç”Ÿæˆä¸€ä¸ªæ–°çš„StoreFileï¼Œæ•°é‡å¤ªå¤šï¼Œå½±å“æŸ¥æ‰¾é€Ÿåº¦ è°ƒç”¨Store.compact()æŠŠå¤šä¸ªåˆå¹¶æˆä¸€ä¸ª åˆå¹¶æ“ä½œæ¯”è¾ƒè€—è´¹èµ„æºï¼Œåªæœ‰æ•°é‡è¾¾åˆ°ä¸€ä¸ªé˜ˆå€¼æ‰å¯åŠ¨åˆå¹¶ ğŸ’¡è¿™ä¹ˆåšæ˜¯ä¸ºäº†å°½é‡ä¸€æ¬¡æ€§åˆ·åˆ°ç£ç›˜,ä»¥æ­¤æé«˜é€Ÿåº¦.ä½†æ˜¯å¦‚æœStoreFileæ•°é‡å¤ªå¤šå½±å“æŸ¥æ‰¾é€Ÿåº¦ Storeå·¥ä½œåŸç† Storeæ˜¯RegionæœåŠ¡å™¨çš„æ ¸å¿ƒ å¤šä¸ªStoreFileåˆå¹¶æˆä¸€ä¸ª å•ä¸ªStoreFileè¿‡å¤§æ—¶ï¼Œåˆè§¦å‘åˆ†è£‚æ“ä½œï¼Œ1ä¸ªçˆ¶Regionè¢«åˆ†è£‚æˆä¸¤ä¸ªå­Region HLogå·¥ä½œåŸç† åˆ†å¸ƒå¼ç¯å¢ƒå¿…é¡»è¦è€ƒè™‘ç³»ç»Ÿå‡ºé”™ã€‚HBaseé‡‡ç”¨HLogä¿è¯ç³»ç»Ÿæ¢å¤ HBaseç³»ç»Ÿä¸ºæ¯ä¸ªRegionæœåŠ¡å™¨é…ç½®äº†ä¸€ä¸ªHLogæ–‡ä»¶ï¼Œå®ƒæ˜¯ä¸€ç§é¢„å†™å¼æ—¥å¿—ï¼ˆWrite Ahead Logï¼‰ ç”¨æˆ·æ›´æ–°æ•°æ®å¿…é¡»é¦–å…ˆå†™å…¥æ—¥å¿—åï¼Œæ‰èƒ½å†™å…¥MemStoreç¼“å­˜ï¼Œå¹¶ä¸”ï¼Œç›´åˆ°MemStoreç¼“å­˜å†…å®¹å¯¹åº”çš„æ—¥å¿—å·²ç»å†™å…¥ç£ç›˜ï¼Œè¯¥ç¼“å­˜å†…å®¹æ‰èƒ½è¢«åˆ·å†™åˆ°ç£ç›˜ Zookeeperä¼šå®æ—¶ç›‘æµ‹æ¯ä¸ªRegionæœåŠ¡å™¨çš„çŠ¶æ€ï¼Œå½“æŸä¸ªRegionæœåŠ¡å™¨å‘ç”Ÿæ•…éšœæ—¶ï¼ŒZookeeperä¼šé€šçŸ¥Master Masteré¦–å…ˆä¼šå¤„ç†è¯¥æ•…éšœRegionæœåŠ¡å™¨ä¸Šé¢é—ç•™çš„HLogæ–‡ä»¶ï¼Œè¿™ä¸ªé—ç•™çš„HLogæ–‡ä»¶ä¸­åŒ…å«äº†æ¥è‡ªå¤šä¸ªRegionå¯¹è±¡çš„æ—¥å¿—è®°å½• ç³»ç»Ÿä¼šæ ¹æ®æ¯æ¡æ—¥å¿—è®°å½•æ‰€å±çš„Regionå¯¹è±¡å¯¹HLogæ•°æ®è¿›è¡Œæ‹†åˆ†ï¼Œåˆ†åˆ«æ”¾åˆ°ç›¸åº”Regionå¯¹è±¡çš„ç›®å½•ä¸‹ï¼Œç„¶åï¼Œå†å°†å¤±æ•ˆçš„Regioné‡æ–°åˆ†é…åˆ°å¯ç”¨çš„RegionæœåŠ¡å™¨ä¸­ï¼Œå¹¶æŠŠä¸è¯¥Regionå¯¹è±¡ç›¸å…³çš„HLogæ—¥å¿—è®°å½•ä¹Ÿå‘é€ç»™ç›¸åº”çš„RegionæœåŠ¡å™¨ RegionæœåŠ¡å™¨é¢†å–åˆ°åˆ†é…ç»™è‡ªå·±çš„Regionå¯¹è±¡ä»¥åŠä¸ä¹‹ç›¸å…³çš„HLogæ—¥å¿—è®°å½•ä»¥åï¼Œä¼šé‡æ–°åšä¸€éæ—¥å¿—è®°å½•ä¸­çš„å„ç§æ“ä½œï¼ŒæŠŠæ—¥å¿—è®°å½•ä¸­çš„æ•°æ®å†™å…¥åˆ°MemStoreç¼“å­˜ä¸­ï¼Œç„¶åï¼Œåˆ·æ–°åˆ°ç£ç›˜çš„StoreFileæ–‡ä»¶ä¸­ï¼Œå®Œæˆæ•°æ®æ¢å¤ å…±ç”¨æ—¥å¿—ä¼˜ç‚¹ï¼šæé«˜å¯¹è¡¨çš„å†™æ“ä½œæ€§èƒ½ï¼›ç¼ºç‚¹ï¼šæ¢å¤æ—¶éœ€è¦åˆ†æ‹†æ—¥å¿— åº”ç”¨æ–¹æ¡ˆ HBaseå®é™…åº”ç”¨ä¸­çš„æ€§èƒ½ä¼˜åŒ–æ–¹æ³• HBaseæ€§èƒ½ç›‘è§† åœ¨HBaseä¹‹ä¸Šæ„å»ºSQLå¼•æ“ æ„å»ºHBaseäºŒçº§ç´¢å¼• HBaseå®é™…åº”ç”¨ä¸­çš„æ€§èƒ½ä¼˜åŒ–æ–¹æ³•è¡Œé”®è¡Œé”®æ˜¯æŒ‰ç…§å­—å…¸åºå­˜å‚¨ï¼Œå› æ­¤ï¼Œè®¾è®¡è¡Œé”®æ—¶ï¼Œè¦å……åˆ†åˆ©ç”¨è¿™ä¸ªæ’åºç‰¹ç‚¹ï¼Œå°†ç»å¸¸ä¸€èµ·è¯»å–çš„æ•°æ®å­˜å‚¨åˆ°ä¸€å—ï¼Œå°†æœ€è¿‘å¯èƒ½ä¼šè¢«è®¿é—®çš„æ•°æ®æ”¾åœ¨ä¸€å—ã€‚ä¸¾ä¸ªä¾‹å­ï¼šå¦‚æœæœ€è¿‘å†™å…¥HBaseè¡¨ä¸­çš„æ•°æ®æ˜¯æœ€å¯èƒ½è¢«è®¿é—®çš„ï¼Œå¯ä»¥è€ƒè™‘å°†æ—¶é—´æˆ³ä½œä¸ºè¡Œé”®çš„ä¸€éƒ¨åˆ†ï¼Œç”±äºæ˜¯å­—å…¸åºæ’åºï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç”¨Long.MAX_VALUE - timestampä½œä¸ºè¡Œé”®ï¼Œè¿™æ ·èƒ½ä¿è¯æ–°å†™å…¥çš„æ•°æ®åœ¨è¯»å–æ—¶å¯ä»¥è¢«å¿«é€Ÿå‘½ä¸­ã€‚InMemoryåˆ›å»ºè¡¨çš„æ—¶å€™ï¼Œå¯ä»¥é€šè¿‡HColumnDescriptor.setInMemory(true)å°†è¡¨æ”¾åˆ°RegionæœåŠ¡å™¨çš„ç¼“å­˜ä¸­ï¼Œä¿è¯åœ¨è¯»å–çš„æ—¶å€™è¢«cacheå‘½ä¸­ã€‚Max Versionåˆ›å»ºè¡¨çš„æ—¶å€™ï¼Œå¯ä»¥é€šè¿‡HColumnDescriptor.setMaxVersions(int maxVersions)è®¾ç½®è¡¨ä¸­æ•°æ®çš„æœ€å¤§ç‰ˆæœ¬ï¼Œå¦‚æœåªéœ€è¦ä¿å­˜æœ€æ–°ç‰ˆæœ¬çš„æ•°æ®ï¼Œé‚£ä¹ˆå¯ä»¥è®¾ç½®setMaxVersions(1)ã€‚Time to Liveåˆ›å»ºè¡¨çš„æ—¶å€™ï¼Œå¯ä»¥é€šè¿‡HColumnDescriptor.setTimeToLive(int timeToLive)è®¾ç½®è¡¨ä¸­æ•°æ®çš„å­˜å‚¨ç”Ÿå‘½æœŸï¼Œè¿‡æœŸæ•°æ®å°†è‡ªåŠ¨è¢«åˆ é™¤ï¼Œä¾‹å¦‚å¦‚æœåªéœ€è¦å­˜å‚¨æœ€è¿‘ä¸¤å¤©çš„æ•°æ®ï¼Œé‚£ä¹ˆå¯ä»¥è®¾ç½®setTimeToLive(2 _24 _60 * 60)ã€‚ HBaseæ€§èƒ½ç›‘è§† Master-status(è‡ªå¸¦) Ganglia OpenTSDB Ambari Master-statusHBase Masteré»˜è®¤åŸºäºWebçš„UIæœåŠ¡ç«¯å£ä¸º60010ï¼ŒHBase regionæœåŠ¡å™¨é»˜è®¤åŸºäºWebçš„UIæœåŠ¡ç«¯å£ä¸º60030.å¦‚æœmasterè¿è¡Œåœ¨åä¸ºmaster.foo.comçš„ä¸»æœºä¸­ï¼Œmaterçš„ä¸»é¡µåœ°å€å°±æ˜¯http://master.foo.com:60010ï¼Œç”¨æˆ·å¯ä»¥é€šè¿‡Webæµè§ˆå™¨è¾“å…¥è¿™ä¸ªåœ°å€æŸ¥çœ‹è¯¥é¡µé¢å¯ä»¥æŸ¥çœ‹HBaseé›†ç¾¤çš„å½“å‰çŠ¶æ€GangliaGangliaæ˜¯UC Berkeleyå‘èµ·çš„ä¸€ä¸ªå¼€æºé›†ç¾¤ç›‘è§†é¡¹ç›®ï¼Œç”¨äºç›‘æ§ç³»ç»Ÿæ€§èƒ½OpenTSDBOpenTSDBå¯ä»¥ä»å¤§è§„æ¨¡çš„é›†ç¾¤ï¼ˆåŒ…æ‹¬é›†ç¾¤ä¸­çš„ç½‘ç»œè®¾å¤‡ã€æ“ä½œç³»ç»Ÿã€åº”ç”¨ç¨‹åºï¼‰ä¸­è·å–ç›¸åº”çš„metricså¹¶è¿›è¡Œå­˜å‚¨ã€ç´¢å¼•ä»¥åŠæœåŠ¡ï¼Œä»è€Œä½¿å¾—è¿™äº›æ•°æ®æ›´å®¹æ˜“è®©äººç†è§£ï¼Œå¦‚webåŒ–ï¼Œå›¾å½¢åŒ–ç­‰AmbariAmbari çš„ä½œç”¨å°±æ˜¯åˆ›å»ºã€ç®¡ç†ã€ç›‘è§† Hadoop çš„é›†ç¾¤ (æ¨èHDP CDH) åœ¨HBaseä¹‹ä¸Šæ„å»ºSQLå¼•æ“NoSQLåŒºåˆ«äºå…³ç³»å‹æ•°æ®åº“çš„ä¸€ç‚¹å°±æ˜¯NoSQLä¸ä½¿ç”¨SQLä½œä¸ºæŸ¥è¯¢è¯­è¨€ï¼Œè‡³äºä¸ºä½•åœ¨NoSQLæ•°æ®å­˜å‚¨HBaseä¸Šæä¾›SQLæ¥å£ï¼Œæœ‰å¦‚ä¸‹åŸå› ï¼š 1.æ˜“ä½¿ç”¨ã€‚ä½¿ç”¨è¯¸å¦‚SQLè¿™æ ·æ˜“äºç†è§£çš„è¯­è¨€ï¼Œä½¿äººä»¬èƒ½å¤Ÿæ›´åŠ è½»æ¾åœ°ä½¿ç”¨HBaseã€‚2.å‡å°‘ç¼–ç ã€‚ä½¿ç”¨è¯¸å¦‚SQLè¿™æ ·æ›´é«˜å±‚æ¬¡çš„è¯­è¨€æ¥ç¼–å†™ï¼Œå‡å°‘äº†ç¼–å†™çš„ä»£ç é‡ã€‚ æ–¹æ¡ˆï¼š1.Hiveæ•´åˆHBase2.Phoenix HIVEå’ŒHBASEåŒºåˆ« ä¸¤è€…åˆ†åˆ«æ˜¯ä»€ä¹ˆï¼ŸApache Hiveæ˜¯ä¸€ä¸ªæ„å»ºåœ¨HadoopåŸºç¡€è®¾æ–½ä¹‹ä¸Šçš„æ•°æ®ä»“åº“ã€‚é€šè¿‡Hiveå¯ä»¥ä½¿ç”¨HQLè¯­è¨€æŸ¥è¯¢å­˜æ”¾åœ¨HDFSä¸Šçš„æ•°æ®ã€‚HQLæ˜¯ä¸€ç§ç±»SQLè¯­è¨€ï¼Œè¿™ç§è¯­è¨€æœ€ç»ˆè¢«è½¬åŒ–ä¸ºMap/Reduce. è™½ç„¶Hiveæä¾›äº†SQLæŸ¥è¯¢åŠŸèƒ½ï¼Œä½†æ˜¯Hiveä¸èƒ½å¤Ÿè¿›è¡Œäº¤äº’æŸ¥è¯¢â€”å› ä¸ºå®ƒåªèƒ½å¤Ÿåœ¨Haoopä¸Šæ‰¹é‡çš„æ‰§è¡ŒHadoopã€‚Apache HBaseæ˜¯ä¸€ç§Key/Valueç³»ç»Ÿï¼Œå®ƒè¿è¡Œåœ¨HDFSä¹‹ä¸Šã€‚å’ŒHiveä¸ä¸€æ ·ï¼ŒHbaseçš„èƒ½å¤Ÿåœ¨å®ƒçš„æ•°æ®åº“ä¸Šå®æ—¶è¿è¡Œï¼Œè€Œä¸æ˜¯è¿è¡ŒMapReduceä»»åŠ¡ã€‚Hiveè¢«åˆ†åŒºä¸ºè¡¨æ ¼ï¼Œè¡¨æ ¼åˆè¢«è¿›ä¸€æ­¥åˆ†å‰²ä¸ºåˆ—ç°‡ã€‚åˆ—ç°‡å¿…é¡»ä½¿ç”¨schemaå®šä¹‰ï¼Œåˆ—ç°‡å°†æŸä¸€ç±»å‹åˆ—é›†åˆèµ·æ¥ï¼ˆåˆ—ä¸è¦æ±‚schemaå®šä¹‰ï¼‰ã€‚ä¾‹å¦‚ï¼Œâ€œmessageâ€åˆ—ç°‡å¯èƒ½åŒ…å«ï¼šâ€œtoâ€, â€fromâ€ â€œdateâ€, â€œsubjectâ€, å’Œâ€bodyâ€. æ¯ä¸€ä¸ª key/valueå¯¹åœ¨Hbaseä¸­è¢«å®šä¹‰ä¸ºä¸€ä¸ªcellï¼Œæ¯ä¸€ä¸ªkeyç”±row-keyï¼Œåˆ—ç°‡ã€åˆ—å’Œæ—¶é—´æˆ³ã€‚åœ¨Hbaseä¸­ï¼Œè¡Œæ˜¯key/valueæ˜ å°„çš„é›†åˆï¼Œè¿™ä¸ªæ˜ å°„é€šè¿‡row-keyæ¥å”¯ä¸€æ ‡è¯†ã€‚Hbaseåˆ©ç”¨Hadoopçš„åŸºç¡€è®¾æ–½ï¼Œå¯ä»¥åˆ©ç”¨é€šç”¨çš„è®¾å¤‡è¿›è¡Œæ°´å¹³çš„æ‰©å±•ã€‚ ä¸¤è€…çš„ç‰¹ç‚¹Hiveå¸®åŠ©ç†Ÿæ‚‰SQLçš„äººè¿è¡ŒMapReduceä»»åŠ¡ã€‚å› ä¸ºå®ƒæ˜¯JDBCå…¼å®¹çš„ï¼ŒåŒæ—¶ï¼Œå®ƒä¹Ÿèƒ½å¤Ÿå’Œç°å­˜çš„SQLå·¥å…·æ•´åˆåœ¨ä¸€èµ·ã€‚è¿è¡ŒHiveæŸ¥è¯¢ä¼šèŠ±è´¹å¾ˆé•¿æ—¶é—´ï¼Œå› ä¸ºå®ƒä¼šé»˜è®¤éå†è¡¨ä¸­æ‰€æœ‰çš„æ•°æ®ã€‚è™½ç„¶æœ‰è¿™æ ·çš„ç¼ºç‚¹ï¼Œä¸€æ¬¡éå†çš„æ•°æ®é‡å¯ä»¥é€šè¿‡Hiveçš„åˆ†åŒºæœºåˆ¶æ¥æ§åˆ¶ã€‚åˆ†åŒºå…è®¸åœ¨æ•°æ®é›†ä¸Šè¿è¡Œè¿‡æ»¤æŸ¥è¯¢ï¼Œè¿™äº›æ•°æ®é›†å­˜å‚¨åœ¨ä¸åŒçš„æ–‡ä»¶å¤¹å†…ï¼ŒæŸ¥è¯¢çš„æ—¶å€™åªéå†æŒ‡å®šæ–‡ä»¶å¤¹ï¼ˆåˆ†åŒºï¼‰ä¸­çš„æ•°æ®ã€‚è¿™ç§æœºåˆ¶å¯ä»¥ç”¨æ¥ï¼Œä¾‹å¦‚ï¼Œåªå¤„ç†åœ¨æŸä¸€ä¸ªæ—¶é—´èŒƒå›´å†…çš„æ–‡ä»¶ï¼Œåªè¦è¿™äº›æ–‡ä»¶åä¸­åŒ…æ‹¬äº†æ—¶é—´æ ¼å¼ã€‚HBaseé€šè¿‡å­˜å‚¨key/valueæ¥å·¥ä½œã€‚å®ƒæ”¯æŒå››ç§ä¸»è¦çš„æ“ä½œï¼šå¢åŠ æˆ–è€…æ›´æ–°è¡Œï¼ŒæŸ¥çœ‹ä¸€ä¸ªèŒƒå›´å†…çš„cellï¼Œè·å–æŒ‡å®šçš„è¡Œï¼Œåˆ é™¤æŒ‡å®šçš„è¡Œã€åˆ—æˆ–è€…æ˜¯åˆ—çš„ç‰ˆæœ¬ã€‚ç‰ˆæœ¬ä¿¡æ¯ç”¨æ¥è·å–å†å²æ•°æ®ï¼ˆæ¯ä¸€è¡Œçš„å†å²æ•°æ®å¯ä»¥è¢«åˆ é™¤ï¼Œç„¶åé€šè¿‡Hbase compactionså°±å¯ä»¥é‡Šæ”¾å‡ºç©ºé—´ï¼‰ã€‚è™½ç„¶HBaseåŒ…æ‹¬è¡¨æ ¼ï¼Œä½†æ˜¯schemaä»…ä»…è¢«è¡¨æ ¼å’Œåˆ—ç°‡æ‰€è¦æ±‚ï¼Œåˆ—ä¸éœ€è¦schemaã€‚Hbaseçš„è¡¨æ ¼åŒ…æ‹¬å¢åŠ /è®¡æ•°åŠŸèƒ½ã€‚ é™åˆ¶Hiveç›®å‰ä¸æ”¯æŒæ›´æ–°æ“ä½œã€‚å¦å¤–ï¼Œç”±äºhiveåœ¨hadoopä¸Šè¿è¡Œæ‰¹é‡æ“ä½œï¼Œå®ƒéœ€è¦èŠ±è´¹å¾ˆé•¿çš„æ—¶é—´ï¼Œé€šå¸¸æ˜¯å‡ åˆ†é’Ÿåˆ°å‡ ä¸ªå°æ—¶æ‰å¯ä»¥è·å–åˆ°æŸ¥è¯¢çš„ç»“æœã€‚Hiveå¿…é¡»æä¾›é¢„å…ˆå®šä¹‰å¥½çš„schemaå°†æ–‡ä»¶å’Œç›®å½•æ˜ å°„åˆ°åˆ—ï¼Œå¹¶ä¸”Hiveä¸ACIDä¸å…¼å®¹ã€‚HBaseæŸ¥è¯¢æ˜¯é€šè¿‡ç‰¹å®šçš„è¯­è¨€æ¥ç¼–å†™çš„ï¼Œè¿™ç§è¯­è¨€éœ€è¦é‡æ–°å­¦ä¹ ã€‚ç±»SQLçš„åŠŸèƒ½å¯ä»¥é€šè¿‡Apache Phonenixå®ç°ï¼Œä½†è¿™æ˜¯ä»¥å¿…é¡»æä¾›schemaä¸ºä»£ä»·çš„ã€‚å¦å¤–ï¼ŒHbaseä¹Ÿå¹¶ä¸æ˜¯å…¼å®¹æ‰€æœ‰çš„ACIDç‰¹æ€§ï¼Œè™½ç„¶å®ƒæ”¯æŒæŸäº›ç‰¹æ€§ã€‚æœ€åä½†ä¸æ˜¯æœ€é‡è¦çš„â€”ä¸ºäº†è¿è¡ŒHbaseï¼ŒZookeeperæ˜¯å¿…é¡»çš„ï¼Œzookeeperæ˜¯ä¸€ä¸ªç”¨æ¥è¿›è¡Œåˆ†å¸ƒå¼åè°ƒçš„æœåŠ¡ï¼Œè¿™äº›æœåŠ¡åŒ…æ‹¬é…ç½®æœåŠ¡ï¼Œç»´æŠ¤å…ƒä¿¡æ¯å’Œå‘½åç©ºé—´æœåŠ¡ã€‚ åº”ç”¨åœºæ™¯Hiveé€‚åˆç”¨æ¥å¯¹ä¸€æ®µæ—¶é—´å†…çš„æ•°æ®è¿›è¡Œåˆ†ææŸ¥è¯¢ï¼Œä¾‹å¦‚ï¼Œç”¨æ¥è®¡ç®—è¶‹åŠ¿æˆ–è€…ç½‘ç«™çš„æ—¥å¿—ã€‚Hiveä¸åº”è¯¥ç”¨æ¥è¿›è¡Œå®æ—¶çš„æŸ¥è¯¢ã€‚å› ä¸ºå®ƒéœ€è¦å¾ˆé•¿æ—¶é—´æ‰å¯ä»¥è¿”å›ç»“æœã€‚Hbaseéå¸¸é€‚åˆç”¨æ¥è¿›è¡Œå¤§æ•°æ®çš„å®æ—¶æŸ¥è¯¢ã€‚Facebookç”¨Hbaseè¿›è¡Œæ¶ˆæ¯å’Œå®æ—¶çš„åˆ†æã€‚å®ƒä¹Ÿå¯ä»¥ç”¨æ¥ç»Ÿè®¡Facebookçš„è¿æ¥æ•°ã€‚ æ€»ç»“Hiveå’ŒHbaseæ˜¯ä¸¤ç§åŸºäºHadoopçš„ä¸åŒæŠ€æœ¯â€”Hiveæ˜¯ä¸€ç§ç±»SQLçš„å¼•æ“ï¼Œå¹¶ä¸”è¿è¡ŒMapReduceä»»åŠ¡ï¼ŒHbaseæ˜¯ä¸€ç§åœ¨Hadoopä¹‹ä¸Šçš„NoSQL çš„Key/valeæ•°æ®åº“ã€‚å½“ç„¶ï¼Œè¿™ä¸¤ç§å·¥å…·æ˜¯å¯ä»¥åŒæ—¶ä½¿ç”¨çš„ã€‚å°±åƒç”¨Googleæ¥æœç´¢ï¼Œç”¨FaceBookè¿›è¡Œç¤¾äº¤ä¸€æ ·ï¼ŒHiveå¯ä»¥ç”¨æ¥è¿›è¡Œç»Ÿè®¡æŸ¥è¯¢ï¼ŒHBaseå¯ä»¥ç”¨æ¥è¿›è¡Œå®æ—¶æŸ¥è¯¢ï¼Œæ•°æ®ä¹Ÿå¯ä»¥ä»Hiveå†™åˆ°Hbaseï¼Œè®¾ç½®å†ä»Hbaseå†™å›Hiveã€‚]]></content>
      <categories>
        <category>å¤§æ•°æ®</category>
      </categories>
      <tags>
        <tag>å¤§æ•°æ®</tag>
        <tag>Hbase</tag>
        <tag>æ•°æ®åº“</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¸¸ç”¨æ­£åˆ™è¡¨è¾¾å¼]]></title>
    <url>%2F2018%2F06%2F24%2F%E5%B8%B8%E7%94%A8%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%2F</url>
    <content type="text"><![CDATA[æ­£åˆ™åœ¨çº¿æ£€æµ‹: http://www.regexpal.com/ æ­£åˆ™è¡¨è¾¾å¼.png ä¸€ã€æ ¡éªŒæ•°å­—çš„è¡¨è¾¾å¼1.æ•°å­—ï¼š^[0-9]*$2.nä½çš„æ•°å­—ï¼š^\d{n}$3.è‡³å°‘nä½çš„æ•°å­—ï¼š^\d{n,}$4.m-nä½çš„æ•°å­—ï¼š^\d{m,n}$ 12345671. \d æ•°å­—:[0-9]2. &#123;m,n&#125; åŒ¹é…å‰ä¸€ä¸ªå­—ç¬¦mè‡³næ¬¡ &#123;ï¼Œn&#125; åŒ¹é…å‰ä¸€ä¸ªå­—ç¬¦0è‡³næ¬¡ &#123;m,&#125; åŒ¹é…å‰ä¸€ä¸ªå­—ç¬¦mè‡³æ— ç©·æ¬¡3. * åŒ¹é…å‰ä¸€ä¸ªå­—ç¬¦0æˆ–æ— é™æ¬¡4. ^ åŒ¹é…å­—ç¬¦ä¸²å¼€å¤´ $ åŒ¹é…å­—ç¬¦ä¸²ç»“å°¾ 5.é›¶å’Œéé›¶å¼€å¤´çš„æ•°å­—ï¼š^(0|[1-9][0-9]*)$ 11\. å·¦å³è¡¨è¾¾å¼ä»»æ„ä¸€ä¸ª 6.éé›¶å¼€å¤´çš„æœ€å¤šå¸¦ä¸¤ä½å°æ•°çš„æ•°å­—ï¼š^([1-9][0-9]*)+(.[0-9]{1,2})?$ 121\. ()è¢«æ‹¬èµ·æ¥çš„è¡¨è¾¾å¼å°†ä½œä¸ºåˆ†ç»„2\. ï¼ŸåŒ¹é…å‰ä¸€ä¸ªå­—ç¬¦0æ¬¡æˆ–1æ¬¡ 7 å¸¦1-2ä½å°æ•°çš„æ­£æ•°æˆ–è´Ÿæ•°ï¼š^(-)?\d+(.\d{1,2})?$ 121\. \è½¬ä¹‰å­—ç¬¦2\. ï¼Ÿé‡å¤0æ¬¡æˆ–1æ¬¡ 8 æ­£æ•°ã€è´Ÿæ•°ã€å’Œå°æ•°ï¼š^(-|+)?\d+(.\d+)?$9 æœ‰ä¸¤ä½å°æ•°çš„æ­£å®æ•°ï¼š^[0-9]+(.[0-9]{2})?$10 æœ‰1~3ä½å°æ•°çš„æ­£å®æ•°ï¼š^[0-9]+(.[0-9]{1,3})?$11 éé›¶çš„æ­£æ•´æ•°ï¼š^[1-9]\d_$12 éé›¶çš„è´Ÿæ•´æ•°ï¼š ^-[1-9]\d_$13 éè´Ÿæ•´æ•°ï¼š^\d+$ 11\. åŒ¹é…å‰ä¸€ä¸ªå­—ç¬¦1æ¬¡æˆ–æ— é™æ¬¡ 14 éæ­£æ•´æ•°ï¼š^((-\d+)|(0+))$15 éè´Ÿæµ®ç‚¹æ•°ï¼š^\d+(.\d+)?$16 éæ­£æµ®ç‚¹æ•°ï¼š^((-\d+(.\d+)?)|(0+(.0+)?))$17 æ­£æµ®ç‚¹æ•°ï¼š^[0-9]\d_.\d_$ äºŒã€æ ¡éªŒå­—ç¬¦çš„è¡¨è¾¾å¼1 æ±‰å­—ï¼š^[\u4e00-\u9fa5]{0,}$, å¯¹åº”çš„æ˜¯ä¸­æ–‡çš„unicodeç¼–ç  2 è‹±æ–‡å’Œæ•°å­—ï¼š^[A-Za-z0-9]+$3 é•¿åº¦ä¸º3-20çš„æ‰€æœ‰å­—ç¬¦ï¼š^.{3,20}$4 ç”±26ä¸ªè‹±æ–‡å­—æ¯ç»„æˆçš„å­—ç¬¦ä¸²ï¼š^[A-Za-z]+$5 ç”±26ä¸ªå¤§å†™è‹±æ–‡å­—æ¯ç»„æˆçš„å­—ç¬¦ä¸²ï¼š^[A-Z]+$6 ç”±26ä¸ªå°å†™è‹±æ–‡å­—æ¯ç»„æˆçš„å­—ç¬¦ä¸²ï¼š^[a-z]+$7 ç”±æ•°å­—å’Œ26ä¸ªè‹±æ–‡å­—æ¯ç»„æˆçš„å­—ç¬¦ä¸²ï¼š^[A-Za-z0-9]+$8 ç”±æ•°å­—ã€26ä¸ªè‹±æ–‡å­—æ¯æˆ–è€…ä¸‹åˆ’çº¿ç»„æˆçš„å­—ç¬¦ä¸²ï¼š^\w+$9 ä¸­æ–‡ã€è‹±æ–‡ã€æ•°å­—åŒ…æ‹¬ä¸‹åˆ’çº¿ï¼š^[\u4E00-\u9FA5A-Za-z0-9_]+$10 ä¸­æ–‡ã€è‹±æ–‡ã€æ•°å­—ä½†ä¸åŒ…æ‹¬ä¸‹åˆ’çº¿ç­‰ç¬¦å·ï¼š^[\u4E00-\u9FA5A-Za-z0-9]+$11 å¯ä»¥è¾“å…¥å«æœ‰^%&amp;&#39;,;=?$&quot; :[^%&amp;&#39;,;=?$]+ 12 ç¦æ­¢è¾“å…¥å«æœ‰çš„å­—ç¬¦ï¼š[^\x22]+ ä¸‰ã€ç‰¹æ®Šéœ€æ±‚è¡¨è¾¾å¼123456789101112131415161718191 Emailåœ°å€ï¼š^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$2 åŸŸåï¼š[a-zA-Z0-9][-a-zA-Z0-9]&#123;0,62&#125;(/.[a-zA-Z0-9][-a-zA-Z0-9]&#123;0,62&#125;)+/.?3 InternetURLï¼š[a-zA-z]+://[^\s]* 4 æ‰‹æœºå·ç :^(13[0-9]|14[5|7]|15[0-9])\d&#123;8&#125;$5 ç”µè¯å·ç  ^(\(\d&#123;3,4&#125;-)|\d&#123;3.4&#125;-)?\d&#123;7,8&#125;$ 6 å›½å†…ç”µè¯å·ç (0511-4405222ã€021-87888822)ï¼š\d&#123;3&#125;-\d&#123;8&#125;|\d&#123;4&#125;-\d&#123;7&#125;7 èº«ä»½è¯å·(15ä½ã€18ä½æ•°å­—)ï¼š^\d&#123;15&#125;|\d&#123;18&#125;$8 çŸ­èº«ä»½è¯å·ç (æ•°å­—ã€å­—æ¯xç»“å°¾)ï¼š^([0-9])&#123;7,18&#125;(x|X)?$ æˆ– ^\d&#123;8,18&#125;|[0-9x]&#123;8,18&#125;|[0-9X]&#123;8,18&#125;?$9 å¸å·æ˜¯å¦åˆæ³•(å­—æ¯å¼€å¤´ï¼Œå…è®¸5-16å­—èŠ‚ï¼Œå…è®¸å­—æ¯æ•°å­—ä¸‹åˆ’çº¿)ï¼š^[a-zA-Z][a-zA-Z0-9_]&#123;4,15&#125;$10 å¯†ç (ä»¥å­—æ¯å¼€å¤´ï¼Œé•¿åº¦åœ¨6~18ä¹‹é—´ï¼Œåªèƒ½åŒ…å«å­—æ¯ã€æ•°å­—å’Œä¸‹åˆ’çº¿)ï¼š^[a-zA-Z]\w&#123;5,17&#125;$11 å¼ºå¯†ç (å¿…é¡»åŒ…å«å¤§å°å†™å­—æ¯å’Œæ•°å­—çš„ç»„åˆï¼Œä¸èƒ½ä½¿ç”¨ç‰¹æ®Šå­—ç¬¦ï¼Œé•¿åº¦åœ¨8-10ä¹‹é—´)ï¼š^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).&#123;8,10&#125;$ 12 æ—¥æœŸæ ¼å¼ï¼š^\d&#123;4&#125;-\d&#123;1,2&#125;-\d&#123;1,2&#125;13 ä¸€å¹´çš„12ä¸ªæœˆ(01ï½09å’Œ1ï½12)ï¼š^(0?[1-9]|1[0-2])$14 ä¸€ä¸ªæœˆçš„31å¤©(01ï½09å’Œ1ï½31)ï¼š^((0?[1-9])|((1|2)[0-9])|30|31)$ 15 ç©ºç™½è¡Œçš„æ­£åˆ™è¡¨è¾¾å¼ï¼š\n\s*\r (å¯ä»¥ç”¨æ¥åˆ é™¤ç©ºç™½è¡Œ)16 é¦–å°¾ç©ºç™½å­—ç¬¦çš„æ­£åˆ™è¡¨è¾¾å¼ï¼š^\s*|\s*$17è…¾è®¯QQå·ï¼š[1-9][0-9]&#123;4,&#125; (è…¾è®¯QQå·ä»10000å¼€å§‹)18 ä¸­å›½é‚®æ”¿ç¼–ç ï¼š[1-9]\d&#123;5&#125;(?!\d) (ä¸­å›½é‚®æ”¿ç¼–ç ä¸º6ä½æ•°å­—)19 IPåœ°å€ï¼š\d+\.\d+\.\d+\.\d+ (æå–IPåœ°å€æ—¶æœ‰ç”¨) å‚è€ƒï¼šhttp://www.cnblogs.com/zxin/archive/2013/01/26/2877765.html]]></content>
      <categories>
        <category>æ­£åˆ™è¡¨è¾¾å¼</category>
      </categories>
      <tags>
        <tag>æ­£åˆ™è¡¨è¾¾å¼</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æœºå™¨å­¦ä¹ ä¹‹é£æ§è¯„åˆ†å¡æ¨¡å‹]]></title>
    <url>%2F2018%2F06%2F20%2F%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E4%B9%8B%E9%A3%8E%E6%8E%A7%E8%AF%84%E5%88%86%E5%8D%A1%E6%A8%A1%E5%9E%8B%2F</url>
    <content type="text"><![CDATA[ä»ITæ—¶ä»£èµ°å‘DTæ—¶ä»£ ä¸€èˆ¬æ¥è¯´é£æ§é¢†åŸŸåœ¨æ„çš„æ˜¯å‰ä¸¤ä¸ªæ¨¡å‹ç§ç±»ï¼Œæ’åºç±»ä»¥åŠå†³ç­–ç±»ã€‚å…¶ä¸­ï¼šå·´å¡å°”åè®®å®šä¹‰äº†é‡‘èé£é™©ç±»å‹ï¼šå¸‚åœºé£é™©ã€ä½œä¸šé£é™©ã€ä¿¡ç”¨é£é™©ã€‚ä¿¡ç”¨é£é™©ABCæ¨¡å‹æœ‰è¿›ä»¶ç”³è¯·è¯„åˆ†ã€è¡Œä¸ºè¯„åˆ†ã€å‚¬æ”¶è¯„åˆ†ã€‚ æ¨¡å‹ è§£é‡Š åº”ç”¨åœºæ™¯ Logisticså›å½’ å½±å“ç¨‹åº¦å¤§å°ä¸æ˜¾è‘—æ€§ï¼Œè§£é‡ŠåŠ›åº¦å¼ºï¼Œä½†åªæ˜¯çº¿æ€§ï¼Œæ²¡æœ‰é¡¾åŠåˆ°éçº¿æ€§ï¼Œé¢„æµ‹ç²¾åº¦è¾ƒä½ ç”³è¯·è¯„åˆ†ã€æµå¤±é¢„æµ‹ å†³ç­–æ ‘ 1ã€æè¿°æ€§ï¼Œé‡å»ºç”¨æˆ·åœºæ™¯ï¼Œå¯åšå˜é‡æå–ä¸ç”¨æˆ·ç”»åƒ 2ã€æ ‘çš„ç»“æ„ä¸ç¨³å®šï¼Œå¯ä»¥å¾—å‡ºå˜é‡é‡è¦æ€§ï¼Œå¯ä»¥ä½œä¸ºå˜é‡ç­›é€‰ æµå¤±æ¨¡å¼è¯†åˆ« éšæœºæ£®æ— éšæœºæ£®æ—æ¯”å†³ç­–æ ‘åœ¨å˜é‡ç­›é€‰ä¸­ï¼Œå˜é‡æ’åºæ¯”è¾ƒä¼˜ç§€ ç¥ç»ç½‘ç»œ 1ã€ä¸å¯è§£é‡Šï¼Œå†…éƒ¨ä½¿ç”¨ï¼Œé¢„æµ‹ç²¾åº¦è¾ƒé«˜ã€‚å¯ä»¥ä½œä¸ºåˆå§‹æ¨¡å‹çš„é‡‘æ¨¡å‹ï¼ˆç”¨ä»¥è¯„ä¼°åœ¨ç»™å®šæ•°æ®æ¡ä»¶ä¸‹ï¼Œé€»è¾‘å›å½’å¯è¾¾åˆ°çš„æœ€ç²¾ç¡®ç¨‹åº¦ï¼‰2ã€çº¿æ€§ï¼ˆé€»è¾‘å›å½’ï¼‰+éçº¿æ€§å…³ç³»ï¼Œå¯ç”¨äºè¡Œä¸ºè¯„åˆ†çš„é¢„æµ‹æ¨¡å‹ï¼ˆè¡Œä¸ºè¯„åˆ†å¯¹æ¨¡å‹å¯è§£é‡Šæ€§ä¸å¼ºï¼‰ï¼Œå¯ç”¨äºç”³è¯·è¯„åˆ†çš„é‡‘æ¨¡å‹3ã€ä½¿ç”¨åœºæ™¯ï¼šå…ˆåšä¸€ä¸ªç¥ç»ç½‘ç»œï¼Œè®©é¢„æµ‹ç²¾åº¦ï¼ˆAUCï¼‰è¾¾åˆ°æœ€å¤§æ—¶ï¼Œå†ç”¨é€»è¾‘å›å½’ ç”³è¯·è¯„åˆ†çš„é‡‘æ¨¡å‹ï¼›è¡Œä¸ºè¯„åˆ†çš„é¢„æµ‹æ¨¡å‹ ç›‘æ§æ¨¡å‹æŒ‡æ ‡å†³ç­–ç±»ï¼šå‡†ç¡®ç‡/è¯¯åˆ†ç‡ã€åˆ©æ¶¦/æˆæœ¬æ’åºç±»ï¼šROCæŒ‡æ ‡ï¼ˆä¸€è‡´æ€§ï¼‰ã€GiniæŒ‡æ•°ã€KSç»Ÿè®¡é‡ã€æå‡åº¦ æ··æ·†çŸ©é˜µï¼ˆconfusion matrixï¼‰ å‡†ç¡®ç‡ï¼ˆAccuracyï¼‰å‡†ç¡®ç‡æ˜¯é¢„æµ‹å’Œæ ‡ç­¾ä¸€è‡´çš„æ ·æœ¬åœ¨æ‰€æœ‰æ ·æœ¬ä¸­æ‰€å çš„æ¯”ä¾‹ ç²¾ç¡®ç‡ï¼ˆPrecisionï¼‰ç²¾ç¡®ç‡æ˜¯ä½ é¢„æµ‹ä¸ºæ­£ç±»çš„æ•°æ®ä¸­ï¼Œæœ‰å¤šå°‘ç¡®å®æ˜¯æ­£ç±» æŸ¥å…¨ç‡ï¼ˆRecallï¼‰æŸ¥å…¨ç‡æ˜¯æ‰€æœ‰æ­£ç±»çš„æ•°æ®ä¸­ï¼Œä½ é¢„æµ‹ä¸ºæ­£ç±»çš„æ•°æ®å æ¯” ä¸åŒçš„é—®é¢˜ï¼Œåˆ¤åˆ«æ ‡å‡†ä¸åŒã€‚å¯¹äºæ¨èç³»ç»Ÿï¼Œæ›´ä¾§é‡äºæŸ¥å‡†ç‡ï¼›å¯¹äºåŒ»å­¦è¯Šæ–­ç³»ç»Ÿï¼Œæ›´ä¾§é‡äºæŸ¥å…¨ç‡ã€‚æŸ¥å‡†ç‡å’ŒæŸ¥å…¨ç‡æ˜¯ä¸€ä¸ªçŸ›ç›¾ä½“ï¼Œå¾€å¾€å·®å‡†ç‡é«˜çš„æƒ…å†µæŸ¥é‡ç‡æ¯”è¾ƒä½ã€‚ F1 Scoreæœ‰æ—¶ä¹Ÿç”¨ä¸€ä¸ªF1å€¼æ¥ç»¼åˆè¯„ä¼°ç²¾ç¡®ç‡å’Œå¬å›ç‡ï¼Œå®ƒæ˜¯ç²¾ç¡®ç‡å’Œå¬å›ç‡çš„è°ƒå’Œå‡å€¼ã€‚ F-beta Scoreæœ‰æ—¶å€™æˆ‘ä»¬å¯¹ç²¾ç¡®ç‡å’Œå¬å›ç‡å¹¶ä¸æ˜¯ä¸€è§†åŒä»ï¼Œæ¯”å¦‚æœ‰æ—¶å€™æˆ‘ä»¬æ›´åŠ é‡è§†ç²¾ç¡®ç‡ã€‚æˆ‘ä»¬ç”¨ä¸€ä¸ªå‚æ•°Î²æ¥åº¦é‡ä¸¤è€…ä¹‹é—´çš„å…³ç³»ã€‚å¦‚æœÎ²&gt;1, å¬å›ç‡æœ‰æ›´å¤§å½±å“ï¼Œå¦‚æœÎ²&lt;1,ç²¾ç¡®ç‡æœ‰æ›´å¤§å½±å“ã€‚ ROC ï¼ˆreceiver operating characteristic curveï¼‰ç»˜åˆ¶æ–¹æ³•ï¼šé¦–å…ˆæ ¹æ®åˆ†ç±»å™¨çš„é¢„æµ‹å¯¹æ ·ä¾‹è¿›è¡Œæ’åºï¼Œæ’åœ¨å‰é¢çš„æ˜¯åˆ†ç±»å™¨è¢«è®¤ä¸ºæœ€å¯èƒ½ä¸ºæ­£ä¾‹çš„æ ·æœ¬ã€‚æŒ‰ç…§çœŸä¾‹yæ–¹å‘èµ°ä¸€ä¸ªå•ä½ï¼Œé‡åˆ°å‡ä¾‹xæ–¹å‘èµ°ä¸€ä¸ªå•ä½ã€‚ROCæ›²çº¿çš„æ¨ªåæ ‡ä¸ºfalse positive rateï¼ˆFPRï¼‰ï¼Œçºµåæ ‡ä¸ºtrue positive rateï¼ˆTPRï¼‰ã€‚ROCæ›²çº¿æœ‰ä¸ªå¾ˆå¥½çš„ç‰¹æ€§ï¼šå½“æµ‹è¯•é›†ä¸­çš„æ­£è´Ÿæ ·æœ¬çš„åˆ†å¸ƒå˜åŒ–çš„æ—¶å€™ï¼ŒROCæ›²çº¿èƒ½å¤Ÿä¿æŒä¸å˜ã€‚ AUCï¼ˆArea Under the Curveï¼‰ROCæ›²çº¿ä¸‹çš„é¢ç§¯ï¼ŒAUCçš„å–å€¼èŒƒå›´ä¸€èˆ¬åœ¨0.5å’Œ1ä¹‹é—´ã€‚AUCè¶Šå¤§ä»£è¡¨åˆ†ç±»å™¨æ•ˆæœæ›´å¥½ã€‚ ç†æƒ³ç›®æ ‡ï¼šTPR=1ï¼ŒFPR=0ï¼Œå³å›¾ä¸­(0,1)ç‚¹ï¼Œæ•…ROCæ›²çº¿è¶Šé æ‹¢(0,1)ç‚¹ï¼Œè¶Šåç¦»45åº¦å¯¹è§’çº¿è¶Šå¥½ï¼ŒSensitivityã€Specificityè¶Šå¤§æ•ˆæœè¶Šå¥½ã€‚ Liftæå‡å›¾Lift =[TP/(TP+FP)] / [(TP+FN)/(TP+FP+FN+TN)] = PV_plus / pi1ï¼Œå®ƒè¡¡é‡çš„æ˜¯ï¼Œä¸ä¸åˆ©ç”¨æ¨¡å‹ç›¸æ¯”ï¼Œæ¨¡å‹çš„é¢„æµ‹èƒ½åŠ›â€œå˜å¥½â€äº†å¤šå°‘ï¼Œlift(æå‡æŒ‡æ•°)è¶Šå¤§ï¼Œæ¨¡å‹çš„è¿è¡Œæ•ˆæœè¶Šå¥½ã€‚ ä¸åˆ©ç”¨æ¨¡å‹ï¼Œæˆ‘ä»¬åªèƒ½åˆ©ç”¨â€œæ­£ä¾‹çš„æ¯”ä¾‹æ˜¯(TP+FN)/(TP+FP+FN+TN)â€è¿™ä¸ªæ ·æœ¬ä¿¡æ¯æ¥ä¼°è®¡æ­£ä¾‹çš„æ¯”ä¾‹ï¼ˆbaseline modelï¼‰ï¼Œè€Œåˆ©ç”¨æ¨¡å‹ä¹‹åï¼Œæˆ‘ä»¬ä¸éœ€è¦ä»æ•´ä¸ªæ ·æœ¬ä¸­æ¥æŒ‘é€‰æ­£ä¾‹ï¼Œåªéœ€è¦ä»æˆ‘ä»¬é¢„æµ‹ä¸ºæ­£ä¾‹çš„é‚£ä¸ªæ ·æœ¬çš„å­é›†TP+FPä¸­æŒ‘é€‰æ­£ä¾‹ï¼Œè¿™æ—¶é¢„æµ‹çš„å‡†ç¡®ç‡PV_plus(Precision)ä¸ºTP/(TP+FP)ã€‚ ä¸Šå›¾çš„çºµåæ ‡æ˜¯liftï¼Œæ¨ªåæ ‡æ˜¯æ­£ä¾‹é›†ç™¾åˆ†æ¯”ã€‚éšç€é˜ˆå€¼çš„å‡å°ï¼Œæ›´å¤šçš„å®¢æˆ·å°±ä¼šè¢«å½’ä¸ºæ­£ä¾‹ï¼Œä¹Ÿå°±æ˜¯é¢„æµ‹æˆæ­£ä¾‹çš„æ¯”ä¾‹å˜å¤§ã€‚å½“é˜ˆå€¼è®¾å¾—å¤Ÿå¤§ï¼Œåªæœ‰ä¸€å°éƒ¨åˆ†è§‚æµ‹å€¼ä¼šå½’ä¸ºæ­£ä¾‹ï¼Œä½†è¿™ä¸€å°éƒ¨åˆ†ä¸€å®šæ˜¯æœ€å…·æœ‰æ­£ä¾‹ç‰¹å¾çš„è§‚æµ‹å€¼é›†åˆï¼ˆç”¨å‰é¢é“¶è¡Œå‘å®¢æˆ·æ¨èä¿¡ç”¨å¡çš„ä¾‹å­æ¥çœ‹ï¼Œè¿™ä¸€éƒ¨åˆ†äººç¾¤å¯¹æ¨èçš„ååº”æœ€ä¸ºæ´»è·ƒï¼‰ï¼Œæ‰€ä»¥åœ¨è¿™ä¸ªè®¾ç½®ä¸‹ï¼Œå¯¹åº”çš„liftå€¼æœ€å¤§ã€‚åŒæ ·ï¼Œå½“é˜ˆå€¼è®¾å®šå¾—è¶³å¤Ÿçš„å°ï¼Œé‚£ä¹ˆå‡ ä¹æ‰€æœ‰çš„è§‚æµ‹å€¼éƒ½ä¼šè¢«å½’ä¸ºæ­£ä¾‹ï¼ˆå æ¯”å‡ ä¹ä¸º100%ï¼‰â€”â€”è¿™æ—¶åˆ†ç±»çš„æ•ˆæœå°±è·Ÿbaseline modelå·®ä¸å¤šäº†ï¼Œç›¸å¯¹åº”çš„liftå€¼å°±æ¥è¿‘äº1ã€‚ ROCæ›²çº¿å’Œliftæ›²çº¿éƒ½èƒ½å¤Ÿè¯„ä»·é€»è¾‘å›å½’æ¨¡å‹çš„æ•ˆæœï¼šç±»ä¼¼ä¿¡ç”¨è¯„åˆ†çš„åœºæ™¯ï¼Œå¸Œæœ›èƒ½å¤Ÿå°½å¯èƒ½å®Œå…¨åœ°è¯†åˆ«å‡ºæœ‰è¿çº¦é£é™©çš„å®¢æˆ·ï¼Œé€‰æ‹©ROCæ›²çº¿åŠç›¸åº”çš„AUCä½œä¸ºæŒ‡æ ‡ï¼› ç±»ä¼¼æ•°æ®åº“ç²¾ç¡®è¥é”€çš„åœºæ™¯ï¼Œå¸Œæœ›èƒ½å¤Ÿé€šè¿‡å¯¹å…¨ä½“æ¶ˆè´¹è€…çš„åˆ†ç±»è€Œå¾—åˆ°å…·æœ‰è¾ƒé«˜å“åº”ç‡çš„å®¢æˆ·ç¾¤ä»è€Œæé«˜æŠ•å…¥äº§å‡ºæ¯”ï¼Œé€‰æ‹©liftæ›²çº¿ä½œä¸ºæŒ‡æ ‡ï¼› Gainå¢ç›Šå›¾Gains(å¢ç›Š) ä¸ Lift ï¼ˆæå‡ï¼‰ç±»ä¼¼ï¼šLift æ›²çº¿æ˜¯ä¸åŒé˜ˆå€¼ä¸‹Liftå’ŒDepthçš„è½¨è¿¹ï¼ŒGainæ›²çº¿åˆ™æ˜¯ä¸åŒé˜ˆå€¼ä¸‹PV_pluså’ŒDepthçš„è½¨è¿¹ï¼Œè€ŒPV_plus=Lift*pi1= TP/TP+FPï¼Œæ‰€ä»¥å®ƒä»¬æ˜¾è€Œæ˜“è§çš„åŒºåˆ«å°±åœ¨äºçºµè½´åˆ»åº¦çš„ä¸åŒã€‚ å¢ç›Šå›¾æ˜¯æè¿°æ•´ä½“ç²¾å‡†ç‡çš„æŒ‡æ ‡ã€‚æŒ‰ç…§æ¨¡å‹é¢„æµ‹å‡ºçš„æ¦‚ç‡ä»é«˜åˆ°ä½æ’åˆ—ï¼Œå°†æ¯ä¸€ä¸ªç™¾åˆ†ä½æ•°å†…çš„ç²¾å‡†ç‡æŒ‡æ ‡æ ‡æ³¨åœ¨å›¾å½¢åŒºåŸŸå†…ï¼Œå°±å½¢æˆäº†éç´¯ç§¯çš„å¢ç›Šå›¾ã€‚å¦‚æœå¯¹æ¯ä¸€ä¸ªç™¾åˆ†ä½åŠå…¶ä¹‹å‰çš„ç²¾å‡†ç‡æ±‚å’Œï¼Œå¹¶å°†å€¼æ ‡æ³¨åœ¨å›¾å½¢åŒºåŸŸå†…ï¼Œåˆ™å½¢æˆç´¯ç§¯çš„å¢ç›Šå›¾ã€‚ K-Så›¾æ­£æ ·æœ¬æ´›ä¼¦å…¹æ›²çº¿è®°ä¸ºf(x)ï¼Œè´Ÿæ ·æœ¬æ´›ä¼¦å…¹æ›²çº¿è®°ä¸ºg(x)ï¼ŒK-Sæ›²çº¿å®é™…ä¸Šæ˜¯f(x)ä¸g(x)çš„å·®å€¼æ›²çº¿ã€‚K-Sæ›²çº¿çš„æœ€é«˜ç‚¹ï¼ˆæœ€å¤§å€¼ï¼‰å®šä¹‰ä¸ºKSå€¼ï¼ŒKSå€¼è¶Šå¤§ï¼Œæ¨¡å‹åˆ†å€¼çš„åŒºåˆ†åº¦è¶Šå¥½ï¼ŒKSå€¼ä¸º0ä»£è¡¨æ˜¯æœ€æ²¡æœ‰åŒºåˆ†åº¦çš„éšæœºæ¨¡å‹ã€‚å‡†ç¡®çš„æ¥è¯´ï¼ŒK-Sæ˜¯ç”¨æ¥åº¦é‡é˜³æ€§ä¸é˜´æ€§åˆ†ç±»åŒºåˆ†ç¨‹åº¦çš„ã€‚ PSI ç¾¤ä½“ç¨³å®šæ€§æŒ‡æ ‡(population stability index)psi = sum(ï¼ˆå®é™…å æ¯”-é¢„æœŸå æ¯”ï¼‰* ln(å®é™…å æ¯”/é¢„æœŸå æ¯”)) ä¸€èˆ¬è®¤ä¸ºpsiå°äº0.1æ—¶å€™æ¨¡å‹ç¨³å®šæ€§å¾ˆé«˜ï¼Œ0.1-0.25ä¸€èˆ¬ï¼Œå¤§äº0.25æ¨¡å‹ç¨³å®šæ€§å·®ï¼Œå»ºè®®é‡åšã€‚ å¸¸ç”¨ç‰¹å¾ ä¸ªäººä¿¡æ¯ï¼šå­¦å† æ€§åˆ« æ”¶å…¥ è´Ÿå€ºèƒ½åŠ›ï¼šåœ¨ç”³è¯·çš„é‡‘èæœºæ„æˆ–è€…å…¶ä»–é‡‘èæœºæ„çš„è´Ÿå€ºæƒ…å†µï¼ˆä¾‹å¦‚æœˆè¿˜å€ºé‡‘é¢è¶…è¿‡æœˆæ”¶å…¥çš„60%ï¼Œè¯´æ˜è´Ÿå€ºè¾ƒé«˜ï¼‰ï¼Œä¾‹å¦‚å¤šå¤´å€Ÿè´·ä¿¡æ¯ç­‰ æ¶ˆè´¹èƒ½åŠ›ï¼šå•†å“è´­ä¹°è®°å½•ï¼Œå‡ºå¢ƒæ¸¸ï¼Œå¥¢ä¾ˆå“æ¶ˆè´¹ å†å²ä¿¡ç”¨è®°å½•ï¼šå†å²é€¾æœŸè¡Œä¸º å…¶ä»–æ•°æ®ï¼šä¸ªäººäº¤é™…ã€ç½‘ç»œè¶³è¿¹ã€ä¸ªäººè´¢åŠ¡ç­‰ å¤‡æ³¨ï¼šå®¢æˆ·è¿˜æ¬¾èƒ½åŠ›*è¿˜æ¬¾æ„æ„¿ = è¿˜æ¬¾ç­‰çº§ éå¹³è¡¡æ ·æœ¬çš„å¤„ç†æ–¹æ³• è¿‡é‡‡æ ·ï¼šä¼˜ç‚¹æ–¹æ³•ç®€å•ï¼Œç¼ºç‚¹å®¹æ˜“é€ æˆæ¨¡å‹è¿‡æ‹Ÿåˆã€‚ æ¬ é‡‡æ ·ï¼šä¼˜ç‚¹å’Œè¿‡é‡‡æ ·ç±»ä¼¼ï¼Œç¼ºç‚¹æ˜¯å®¹æ˜“é€ æˆæ¨¡å‹çš„æ¬ æ‹Ÿåˆï¼› SMOTEï¼šä¼˜ç‚¹æ˜¯ä¸æ˜“è¿‡æ‹Ÿåˆï¼Œèƒ½å¤Ÿä¿ç•™å¤§é‡çš„ä¿¡æ¯ï¼Œç¼ºç‚¹æ˜¯ä¸èƒ½å¯¹ç¼ºå¤±å€¼å’Œç±»åˆ«å˜é‡åšå¤„ç†ã€‚ SMOTEç®—æ³• é‡‡æ ·æœ€è¿‘é‚»ç®—æ³•ï¼Œè®¡ç®—å‡ºæ¯ä¸ªå°‘æ•°ç±»æ ·æœ¬çš„Kä¸ªåŒç±»è¿‘é‚»ï¼› ä»Kä¸ªåŒç±»è¿‘é‚»ä¸­éšæœºæŒ‘é€‰Nä¸ªæ ·æœ¬è¿›è¡Œéšæœºçº¿æ€§æ’å€¼ï¼› æ„é€ æ–°çš„å°‘æ•°ç±»æ ·æœ¬ï¼šNew=Xi+rand(0,1)âˆ—(yjâˆ’xi),j=1,2,3,4â€¦..Nå…¶ä¸­Xiä¸ºå°‘ç±»ä¸­çš„ä¸€ä¸ªè§‚æµ‹ç‚¹ï¼ŒYjä¸ºKä¸ªè¿‘é‚»ä¸­éšæœºæŠ½å–çš„æ ·æœ¬ å°†æ–°æ ·æœ¬ä¸åŸæ•°æ®åˆæˆï¼Œäº§ç”Ÿæ–°çš„è®­ç»ƒé›† ä¾‹å­ï¼šé€‰å–äº†ä¸€ä¸ªX1ä¸ºå¹´é¾„ä¸º22å²ï¼Œæœˆæ”¶å…¥ä¸º8000å…ƒï¼Œåˆ™X1=ï¼ˆ22ï¼Œ8000ï¼‰ï¼Œé€‰å–äº†ä¸€ä¸ªè¿‘é‚»ç‚¹ä¸ºX2ï¼ŒX2=(28,5000)ï¼Œéšæœºç³»æ•°ä¸º0.5ï¼Œè®¡ç®—é€»è¾‘ä¸º22+(28âˆ’22)âˆ—0.5=25,8000+(5000âˆ’8000)âˆ—0.5=6500ï¼Œè¿™æ ·å¾—åˆ°çš„ä¸€ä¸ªæ–°çš„X3ç‚¹ä¸º(25,6500)ã€‚ æ„å»ºç”³è¯·è¯„åˆ†å¡ç¼ºå¤±å€¼å¤„ç†å¯¹äºç±»åˆ«å‹å˜é‡ åˆ é™¤ç¼ºå¤±ç‡è¶…è¿‡50%çš„å˜é‡ ç¼ºå¤±å€¼ä½œä¸ºä¸€ç§æ–°çš„çŠ¶æ€ å¯¹äºè¿ç»­å‹å˜é‡ åˆ é™¤ç¼ºå¤±ç‡è¶…è¿‡80%çš„å˜é‡ å‡å€¼ï¼Œä¼—æ•°ï¼Œé¢„æµ‹å¡«å……ç­‰ ç‰¹å¾çš„åˆ†ç®±1. åˆ†ç®±çš„é‡è¦æ€§ ç¨³å®šæ€§ï¼šé¿å…ç‰¹å¾ä¸­æ— æ„ä¹‰çš„æ³¢åŠ¨å¯¹è¯„åˆ†å¸¦æ¥çš„æ³¢åŠ¨ å¥å£®æ€§ï¼šé¿å…äº†æç«¯å€¼çš„å½±å“ 2. åˆ†ç®±çš„ä¼˜åŠ¿ å¯ä»¥å°†ç¼ºå¤±ä½œä¸ºç‹¬ç«‹çš„ä¸€ä¸ªç®±å¸¦å…¥æ¨¡å‹ä¸­ å°†æ‰€æœ‰å˜é‡å˜æ¢åˆ°ç›¸ä¼¼çš„å°ºåº¦ä¸Š 3. åˆ†ç®±çš„é™åˆ¶ åˆ†ç®±åéœ€è¦ç¼–ç  è®¡ç®—é‡å¤§ 4. åˆ†ç®±çš„æ–¹æ³• æœ‰ç›‘ç£çš„åˆ†ç®± Bestâ€”KS Chimerge æ— ç›‘ç£çš„åˆ†ç®± ç­‰é¢‘åˆ†ç®± ç­‰è·åˆ†ç®± èšç±»åˆ†ç®± 5. æœ‰ç›‘ç£çš„åˆ†ç®±â€”æœ€å°ç†µæ³•åˆ†ç®±(1) å‡è®¾å› å˜é‡ä¸ºåˆ†ç±»å˜é‡ï¼Œå¯å–å€¼1ï¼Œâ€¦ ï¼ŒJã€‚ä»¤pijè¡¨ç¤ºç¬¬iä¸ªåˆ†ç®±å†…å› å˜é‡å–å€¼ä¸ºjçš„è§‚æµ‹çš„æ¯”ä¾‹ï¼Œi=1ï¼Œâ€¦ï¼Œkï¼Œj=1ï¼Œâ€¦ï¼ŒJï¼›é‚£ä¹ˆç¬¬iä¸ªåˆ†ç®±çš„ç†µå€¼ä¸ºâˆ‘Jj=0âˆ’pijÃ—logpijã€‚å¦‚æœç¬¬iä¸ªåˆ†ç®±å†…å› å˜é‡å„ç±»åˆ«çš„æ¯”ä¾‹ç›¸ç­‰ï¼Œå³p11=p12=p1J=1/Jï¼Œé‚£ä¹ˆç¬¬iä¸ªåˆ†ç®±çš„ç†µå€¼è¾¾åˆ°æœ€å¤§å€¼ï¼›å¦‚æœç¬¬iä¸ªåˆ†ç®±å†…å› å˜é‡åªæœ‰ä¸€ç§å–å€¼ï¼Œå³æŸä¸ªpijç­‰äº1è€Œå…¶ä»–ç±»åˆ«çš„æ¯”ä¾‹ç­‰äº0ï¼Œé‚£ä¹ˆç¬¬iä¸ªåˆ†ç®±çš„ç†µå€¼è¾¾åˆ°æœ€å°å€¼ã€‚ (2) ä»¤riè¡¨ç¤ºç¬¬iä¸ªåˆ†ç®±çš„è§‚æµ‹æ•°å æ‰€æœ‰è§‚æµ‹æ•°çš„æ¯”ä¾‹ï¼›é‚£ä¹ˆæ€»ç†µå€¼ä¸ºâˆ‘ki=0âˆ‘Jj=0(âˆ’pijÃ—logpij)ã€‚éœ€è¦ä½¿æ€»ç†µå€¼è¾¾åˆ°æœ€å°ï¼Œä¹Ÿå°±æ˜¯ä½¿åˆ†ç®±èƒ½å¤Ÿæœ€å¤§é™åº¦åœ°åŒºåˆ†å› å˜é‡çš„å„ç±»åˆ«ã€‚ 6. å¡æ–¹åˆ†ç®±æ³•(ChiMerge)è‡ªåº•å‘ä¸Šçš„(å³åŸºäºåˆå¹¶çš„)æ•°æ®ç¦»æ•£åŒ–æ–¹æ³•ã€‚ å®ƒä¾èµ–äºå¡æ–¹æ£€éªŒ:å…·æœ‰æœ€å°å¡æ–¹å€¼çš„ç›¸é‚»åŒºé—´åˆå¹¶åœ¨ä¸€èµ·,ç›´åˆ°æ»¡è¶³ç¡®å®šçš„åœæ­¢å‡†åˆ™ã€‚ åŸºæœ¬æ€æƒ³:å¯¹äºç²¾ç¡®çš„ç¦»æ•£åŒ–ï¼Œç›¸å¯¹ç±»é¢‘ç‡åœ¨ä¸€ä¸ªåŒºé—´å†…åº”å½“å®Œå…¨ä¸€è‡´ã€‚å› æ­¤,å¦‚æœä¸¤ä¸ªç›¸é‚»çš„åŒºé—´å…·æœ‰éå¸¸ç±»ä¼¼çš„ç±»åˆ†å¸ƒï¼Œåˆ™è¿™ä¸¤ä¸ªåŒºé—´å¯ä»¥åˆå¹¶ï¼›å¦åˆ™ï¼Œå®ƒä»¬åº”å½“ä¿æŒåˆ†å¼€ã€‚è€Œä½å¡æ–¹å€¼è¡¨æ˜å®ƒä»¬å…·æœ‰ç›¸ä¼¼çš„ç±»åˆ†å¸ƒã€‚ æ ¹æ®æ˜¾è‘—æ€§æ°´å¹³å’Œè‡ªç”±åº¦å¾—åˆ°å¡æ–¹å€¼,è‡ªç”±åº¦æ¯”ç±»åˆ«æ•°é‡å°1ã€‚ä¾‹å¦‚ï¼Œæœ‰3ç±»ï¼Œè‡ªç”±åº¦ä¸º2ï¼Œåˆ™90%ç½®ä¿¡åº¦ï¼ˆ10%æ˜¾è‘—æ€§æ°´å¹³)ä¸‹ï¼Œå¡æ–¹çš„å€¼ä¸º4.6ã€‚ ç±»åˆ«å’Œå±æ€§ç‹¬ç«‹æ—¶ï¼Œæœ‰90%çš„å¯èƒ½æ€§ï¼Œè®¡ç®—å¾—åˆ°çš„å¡æ–¹å€¼ä¼šå°äº4.6ï¼Œè¿™æ ·ï¼Œå¤§äºé˜ˆå€¼çš„å¡æ–¹å€¼å°±è¯´æ˜å±æ€§å’Œç±»ä¸æ˜¯ç›¸äº’ç‹¬ç«‹çš„ï¼Œä¸èƒ½åˆå¹¶ã€‚å¦‚æœé˜ˆå€¼é€‰çš„å¤§ï¼ŒåŒºé—´åˆå¹¶å°±ä¼šè¿›è¡Œå¾ˆå¤šæ¬¡ï¼Œç¦»æ•£åçš„åŒºé—´æ•°é‡å°‘ã€åŒºé—´å¤§ã€‚ã€æ³¨ã€‘ï¼š ChiMergeç®—æ³•æ¨èä½¿ç”¨0.90ã€0.95ã€0.99ç½®ä¿¡åº¦ï¼Œæœ€å¤§åŒºé—´æ•°å–10åˆ°15ä¹‹é—´. ä¹Ÿå¯ä»¥ä¸è€ƒè™‘å¡æ–¹é˜ˆå€¼ï¼Œæ­¤æ—¶å¯ä»¥è€ƒè™‘æœ€å°åŒºé—´æ•°æˆ–è€…æœ€å¤§åŒºé—´æ•°ã€‚æŒ‡å®šåŒºé—´æ•°é‡çš„ä¸Šé™å’Œä¸‹é™ï¼Œæœ€å¤šå‡ ä¸ªåŒºé—´ï¼Œæœ€å°‘å‡ ä¸ªåŒºé—´ã€‚ å¯¹äºç±»åˆ«å‹å˜é‡ï¼Œéœ€è¦åˆ†ç®±æ—¶éœ€è¦æŒ‰ç…§æŸç§æ–¹å¼è¿›è¡Œæ’åº æ— ç›‘ç£åˆ†ç®±æ³• ç­‰è·åˆ†ç®±ä»æœ€å°å€¼åˆ°æœ€å¤§å€¼ä¹‹é—´ï¼Œå‡åˆ†ä¸º N ç­‰ä»½ï¼Œ è¿™æ ·ï¼Œ å¦‚æœ A,B ä¸ºæœ€å°æœ€å¤§å€¼ï¼Œ åˆ™æ¯ä¸ªåŒºé—´çš„ é•¿åº¦ä¸º W=(Bâˆ’A)/N , åˆ™åŒºé—´è¾¹ç•Œå€¼ä¸º A+W,A+2W,â€¦.A+(Nâˆ’1)W . ç­‰é¢‘åˆ†ç®±åŒºé—´çš„è¾¹ç•Œå€¼è¦ç»è¿‡é€‰æ‹©ï¼Œä½¿å¾—æ¯ä¸ªåŒºé—´åŒ…å«å¤§è‡´ç›¸ç­‰çš„å®ä¾‹æ•°é‡ã€‚æ¯”å¦‚è¯´ N=10 ï¼Œæ¯ä¸ªåŒºé—´åº”è¯¥åŒ…å«å¤§çº¦10%çš„å®ä¾‹ã€‚ ä¸¤ç§ç®—æ³•çš„å¼Šç«¯æ¯”å¦‚,ç­‰å®½åŒºé—´åˆ’åˆ†,åˆ’åˆ†ä¸º5åŒºé—´,æœ€é«˜å·¥èµ„ä¸º50000,åˆ™æ‰€æœ‰å·¥èµ„ä½äº10000çš„äººéƒ½è¢«åˆ’åˆ†åˆ°åŒä¸€åŒºé—´ã€‚ç­‰é¢‘åŒºé—´å¯èƒ½æ­£å¥½ç›¸å,æ‰€æœ‰å·¥èµ„é«˜äº50000çš„äººéƒ½ä¼šè¢«åˆ’åˆ†åˆ°50000è¿™ä¸€åŒºé—´ä¸­ã€‚è¿™ä¸¤ç§ç®—æ³•éƒ½å¿½ç•¥äº†å®ä¾‹æ‰€å±çš„ç±»å‹,è½åœ¨æ­£ç¡®åŒºé—´é‡Œçš„å¶ç„¶æ€§å¾ˆå¤§ã€‚ åˆ†ç®±çš„æ³¨æ„ç‚¹ å¯¹äºè¿ç»­å‹å˜é‡ï¼Œ ä½¿ç”¨ChiMergeè¿›è¡Œåˆ†ç®±(é»˜è®¤åˆ†æˆ5ä¸ªç®±) æ£€æŸ¥åˆ†ç®±åçš„bad rateå•è°ƒæ€§ï¼›å€˜è‹¥ä¸æ»¡è¶³ï¼Œéœ€è¦è¿›è¡Œç›¸é‚»ä¸¤ç®±çš„åˆå¹¶ï¼Œç›´åˆ°bad rateä¸ºæ­¢ ä¸Šè¿°è¿‡ç¨‹æ˜¯æ”¶æ•›çš„ï¼Œå› ä¸ºå½“ç®±æ•°ä¸º2æ—¶ï¼Œbad rateè‡ªç„¶å•è°ƒ åˆ†ç®±å¿…é¡»è¦†ç›–æ‰€æœ‰è®­ç»ƒæ ·æœ¬å¤–å¯èƒ½å­˜åœ¨çš„å€¼ï¼ å¯¹äºç±»åˆ«å‹å˜é‡ å½“ç±»åˆ«æ•°è¾ƒå°‘æ—¶ï¼ŒåŸåˆ™ä¸Šä¸éœ€è¦åˆ†ç®± å½“æŸä¸ªæˆ–è€…å‡ ä¸ªç±»åˆ«çš„bad rateä¸º0æ—¶ï¼Œéœ€è¦å’Œæœ€å°çš„é0bad rateçš„ç®±è¿›è¡Œåˆå¹¶ å½“è¯¥å˜é‡å¯ä»¥å®Œå…¨åŒºåˆ†ç›®æ ‡å˜é‡æ—¶ï¼Œéœ€è¦è®¤çœŸæ£€æŸ¥è¯¥å˜é‡çš„åˆç†æ€§ ä¾‹å¦‚ï¼šâ€œè¯¥ç”³è¯·è€…åœ¨æœ¬æœºæ„å†å²ä¿¡ç”¨è¡Œä¸ºâ€æŠŠå®¢ç¾¤çš„å¥½åæ ·æœ¬å®Œå…¨åŒºåˆ†æ—¶ï¼Œéœ€è¦æ£€æŸ¥è¯¥å˜é‡çš„åˆç†æ€§(æœ‰å¯èƒ½æ˜¯äº‹åå˜é‡) woeç¼–ç &amp;IVå€¼1.woeç¼–ç çš„å®šä¹‰ å…¶ä¸­ï¼Œpyiæ˜¯è¿™ä¸ªç»„ä¸­å“åº”å®¢æˆ·ï¼ˆé£é™©æ¨¡å‹ä¸­ï¼Œå¯¹åº”çš„æ˜¯è¿çº¦å®¢æˆ·ï¼Œæ€»ä¹‹ï¼ŒæŒ‡çš„æ˜¯æ¨¡å‹ä¸­é¢„æµ‹å˜é‡å–å€¼ä¸ºâ€œæ˜¯â€æˆ–è€…è¯´1çš„ä¸ªä½“ï¼‰å æ‰€æœ‰æ ·æœ¬ä¸­æ‰€æœ‰å“åº”å®¢æˆ·çš„æ¯”ä¾‹ï¼Œpniæ˜¯è¿™ä¸ªç»„ä¸­æœªå“åº”å®¢æˆ·å æ ·æœ¬ä¸­æ‰€æœ‰æœªå“åº”å®¢æˆ·çš„æ¯”ä¾‹ï¼Œ#yiæ˜¯è¿™ä¸ªç»„ä¸­å“åº”å®¢æˆ·çš„æ•°é‡ï¼Œ#niæ˜¯è¿™ä¸ªç»„ä¸­æœªå“åº”å®¢æˆ·çš„æ•°é‡ï¼Œ#yTæ˜¯æ ·æœ¬ä¸­æ‰€æœ‰å“åº”å®¢æˆ·çš„æ•°é‡ï¼Œ#nTæ˜¯æ ·æœ¬ä¸­æ‰€æœ‰æœªå“åº”å®¢æˆ·çš„æ•°é‡ã€‚ ä»è¿™ä¸ªå…¬å¼ä¸­æˆ‘ä»¬å¯ä»¥ä½“ä¼šåˆ°ï¼ŒWOEè¡¨ç¤ºçš„å®é™…ä¸Šæ˜¯â€œå½“å‰åˆ†ç»„ä¸­å“åº”å®¢æˆ·å æ‰€æœ‰å“åº”å®¢æˆ·çš„æ¯”ä¾‹â€å’Œâ€œå½“å‰åˆ†ç»„ä¸­æ²¡æœ‰å“åº”çš„å®¢æˆ·å æ‰€æœ‰æ²¡æœ‰å“åº”çš„å®¢æˆ·çš„æ¯”ä¾‹â€çš„å·®å¼‚ã€‚ 2.woe ç¼–ç çš„ä¼˜åŠ£ä¸€ç§æœ‰ç›‘ç£çš„ç¼–ç æ–¹å¼ï¼Œå°†é¢„æµ‹ç±»åˆ«çš„é›†ä¸­åº¦çš„å±æ€§ä½œä¸ºç¼–ç çš„æ•°å€¼ä¼˜åŠ¿ï¼šå°†ç‰¹å¾çš„å€¼è§„èŒƒåˆ°ç›¸è¿‘çš„å°ºåº¦ä¸Š(ç»éªŒä¸Šè®²ï¼ŒWOEçš„ç»å¯¹å€¼æ³¢åŠ¨èŒƒå›´åœ¨0.1ï½3ä¹‹é—´)ç¼ºç‚¹ï¼šéœ€è¦æ¯ç®±ä¸­åŒæ—¶åŒ…å«å¥½ã€åä¸¤ä¸ªç±»åˆ« 3.WOEç¼–ç çš„æ„ä¹‰ ç¬¦å·ä¸å¥½æ ·æœ¬æ¯”ä¾‹ç›¸å…³ è¦æ±‚å›å½’æ¨¡å‹çš„ç³»æ•°ä¸ºè´Ÿ 4. IV(Information Value)IVå»è¡¡é‡å˜é‡çš„é¢„æµ‹èƒ½åŠ›ï¼šæˆ‘ä»¬å‡è®¾åœ¨ä¸€ä¸ªåˆ†ç±»é—®é¢˜ä¸­ï¼Œç›®æ ‡å˜é‡çš„ç±»åˆ«æœ‰ä¸¤ç±»ï¼šY1ï¼ŒY2ã€‚å¯¹äºä¸€ä¸ªå¾…é¢„æµ‹çš„ä¸ªä½“Aï¼Œè¦åˆ¤æ–­Aå±äºY1è¿˜æ˜¯Y2ï¼Œæˆ‘ä»¬æ˜¯éœ€è¦ä¸€å®šçš„ä¿¡æ¯çš„ï¼Œå‡è®¾è¿™ä¸ªä¿¡æ¯æ€»é‡æ˜¯Iï¼Œè€Œè¿™äº›æ‰€éœ€è¦çš„ä¿¡æ¯ï¼Œå°±è•´å«åœ¨æ‰€æœ‰çš„è‡ªå˜é‡C1ï¼ŒC2ï¼ŒC3ï¼Œâ€¦â€¦ï¼ŒCnä¸­ï¼Œé‚£ä¹ˆï¼Œå¯¹äºå…¶ä¸­çš„ä¸€ä¸ªå˜é‡Ciæ¥è¯´ï¼Œå…¶è•´å«çš„ä¿¡æ¯è¶Šå¤šï¼Œé‚£ä¹ˆå®ƒå¯¹äºåˆ¤æ–­Aå±äºY1è¿˜æ˜¯Y2çš„è´¡çŒ®å°±è¶Šå¤§ï¼ŒCiçš„ä¿¡æ¯ä»·å€¼å°±è¶Šå¤§ï¼ŒCiçš„IVå°±è¶Šå¤§ï¼Œå®ƒå°±è¶Šåº”è¯¥è¿›å…¥åˆ°å…¥æ¨¡å˜é‡åˆ—è¡¨ä¸­ã€‚ 5. ç‰¹å¾ä¿¡æ¯åº¦çš„è®¡ç®—å’Œæ„ä¹‰æŒ‘é€‰å˜é‡ éè´ŸæŒ‡æ ‡ é«˜IVè¡¨ç¤ºè¯¥ç‰¹å¾å’Œç›®æ ‡å˜é‡çš„å…³è”åº¦é«˜ ç›®æ ‡å˜é‡åªèƒ½æ˜¯äºŒåˆ†ç±» è¿‡é«˜çš„IVï¼Œå¯èƒ½æœ‰æ½œåœ¨çš„é£é™© ç‰¹å¾åˆ†ç®±è¶Šç»†ï¼ŒIVè¶Šé«˜ ç‰¹å¾å·¥ç¨‹1.ç‰¹å¾è¡ç”Ÿç‰¹å¾è¡ç”Ÿæ˜¯æŒ‡åˆ©ç”¨ç°æœ‰çš„ç‰¹å¾è¿›è¡ŒæŸç§ç»„åˆç”Ÿæˆæ–°çš„ç‰¹å¾ã€‚ 1.æ—¶é—´åˆ‡ç‰‡2.æ¯”ä¾‹æ•°æ®ï¼ˆè´Ÿè´£æ¯”ä¾‹ï¼Œæ”¶å…¥æ”¯å‡ºæ¯”ä¾‹ç­‰ï¼‰3.å¹³å‡æ•°æ®ï¼ˆæœˆå‡æ”¶å…¥ï¼‰ 2.ç‰¹å¾æŠ½è±¡ç‰¹å¾æŠ½è±¡æ˜¯æŒ‡å°†æ•°æ®è½¬æ¢æˆç®—æ³•å¯ä»¥ç†è§£çš„æ•°æ®ã€‚ åˆ†ç±»å‹å˜é‡è½¬æ¢æ•°å€¼å‹å˜é‡ 123loans[&apos;delinq_2yrs&apos;] = loans[&apos;delinq_2yrs&apos;].apply(lambda x: float(x))loans[&apos;total_acc&apos;] = loans[&apos;total_acc&apos;].apply(lambda x: float(x))loans[&apos;revol_bal&apos;] = loans [&apos;revol_bal&apos;].apply(lambda x: float(x)) æœ‰åºç‰¹å¾çš„æ˜ å°„A &lt;B &lt;C &lt; D &lt; E &lt; F &lt; G ; ä¿¡ç”¨é£é™©ä»ä½åˆ°é«˜æ’åº 123456789&quot;grade&quot;:&#123;&quot;A&quot;: 1,&quot;B&quot;: 2,&quot;C&quot;: 3,&quot;D&quot;: 4,&quot;E&quot;: 5,&quot;F&quot;: 6,&quot;G&quot;: 7&#125; ç‹¬çƒ­ç¼–ç ï¼ˆone-hot encodingï¼‰pandasçš„get_dummies( )æ–¹æ³•åˆ›å»ºè™šæ‹Ÿç‰¹å¾ï¼Œè™šæ‹Ÿç‰¹å¾çš„æ¯ä¸€åˆ—å„ä»£è¡¨å˜é‡å±æ€§çš„ä¸€ä¸ªåˆ†ç±» ç‰¹å¾ç¼©æ”¾ç‰¹å¾ç¼©æ”¾æœ¬è´¨æ˜¯ä¸€ä¸ªå»é‡çº²çš„è¿‡ç¨‹ï¼ŒåŒæ—¶å¯ä»¥åŠ å¿«ç®—æ³•æ”¶æ•›çš„é€Ÿåº¦ã€‚ç›®å‰ï¼Œå°†ä¸åŒå˜é‡ç¼©æ”¾åˆ°ç›¸åŒçš„åŒºé—´æœ‰ä¸¤ä¸ªå¸¸ç”¨çš„æ–¹æ³•ï¼šå½’ä¸€åŒ–ï¼ˆnormalizationï¼‰å’Œæ ‡å‡†åŒ–ï¼ˆstandardizationï¼‰ å»ºæ¨¡åç»­æˆ‘ä»¬å°†å®¢æˆ·è¿çº¦çš„æ¦‚ç‡è¡¨ç¤ºä¸ºpï¼Œåˆ™æ­£å¸¸çš„æ¦‚ç‡ä¸º1-p è¯„åˆ†å¡è®¾å®šçš„åˆ†å€¼åˆ»åº¦å¯ä»¥é€šè¿‡å°†åˆ†å€¼è¡¨ç¤ºä¸ºæ¯”ç‡å¯¹æ•°çš„çº¿æ€§è¡¨è¾¾å¼æ¥å®šä¹‰Aå’ŒBæ˜¯å¸¸æ•°ã€‚å¼ä¸­çš„è´Ÿå·å¯ä»¥ä½¿å¾—è¿çº¦æ¦‚ç‡è¶Šä½ï¼Œå¾—åˆ†è¶Šé«˜ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œè¿™æ˜¯åˆ†å€¼çš„ç†æƒ³å˜åŠ¨æ–¹å‘ï¼Œå³é«˜åˆ†å€¼ä»£è¡¨ä½é£é™©ï¼Œä½åˆ†å€¼ä»£è¡¨é«˜é£é™©ã€‚å¼ä¸­çš„å¸¸æ•°Aã€Bçš„å€¼å¯ä»¥é€šè¿‡å°†ä¸¤ä¸ªå·²çŸ¥æˆ–å‡è®¾çš„åˆ†å€¼å¸¦å…¥è®¡ç®—å¾—åˆ°ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œéœ€è¦è®¾å®šä¸¤ä¸ªå‡è®¾ï¼š ï¼ˆ1ï¼‰ç»™æŸä¸ªç‰¹å®šçš„æ¯”ç‡è®¾å®šç‰¹å®šçš„é¢„æœŸåˆ†å€¼ï¼›ï¼ˆ2ï¼‰ç¡®å®šæ¯”ç‡ç¿»ç•ªçš„åˆ†æ•°ï¼ˆPDOï¼‰ æœ€åï¼Œè¿›è¡Œåˆ†æ•°åˆ†çº§ æ›´å¤šæœ‰å…³æœºå™¨å­¦ä¹ çš„æ€»ç»“å¯ä»¥é˜…è¯»ï¼šæœºå™¨å­¦ä¹ åŸºç¡€(ä¸€)]]></content>
      <categories>
        <category>æœºå™¨å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>æœºå™¨å­¦ä¹ </tag>
        <tag>é£æ§</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Sparkç”Ÿæ€ä½“ç³»]]></title>
    <url>%2F2018%2F06%2F13%2FSpark%E7%94%9F%E6%80%81%E4%BD%93%E7%B3%BB%2F</url>
    <content type="text"><![CDATA[ä»ITæ—¶ä»£èµ°å‘DTæ—¶ä»£ Sparkçš„åŸºæœ¬æ¶æ„å½“å•æœºæ²¡æœ‰è¶³å¤Ÿçš„èƒ½åŠ›å’Œèµ„æºæ¥æ‰§è¡Œå¤§é‡ä¿¡æ¯çš„è®¡ç®—ï¼ˆæˆ–è€…ä½å»¶è¿Ÿè®¡ç®—ï¼‰ï¼Œè¿™æ—¶å°±éœ€è¦ä¸€ä¸ªé›†ç¾¤æˆ–ä¸€ç»„æœºå™¨å°†è®¸å¤šæœºå™¨çš„èµ„æºé›†ä¸­åœ¨ä¸€èµ·ï¼Œä½¿æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å…¨éƒ¨ç´¯ç§¯çš„åœ¨ä¸€èµ·çš„è®¡ç®—å’Œå­˜å‚¨èµ„æºã€‚ç°åœ¨åªæœ‰ä¸€ç»„æœºå™¨ä¸å¤Ÿå¼ºå¤§ï¼Œä½ éœ€è¦ä¸€ä¸ªæ¡†æ¶æ¥åè°ƒä»–ä»¬ä¹‹é—´çš„å·¥ä½œã€‚ Sparkæ˜¯ä¸€ç§å·¥å…·ï¼Œå¯ä»¥ç®¡ç†å’Œåè°ƒè·¨è®¡ç®—æœºé›†ç¾¤æ‰§è¡Œæ•°æ®ä»»åŠ¡ã€‚Sparkç”¨äºæ‰§è¡Œä»»åŠ¡çš„æœºå™¨é›†ç¾¤å¯ä»¥ç”±Sparkçš„Standaloneï¼ŒYARNæˆ–Mesosç­‰é›†ç¾¤ç®¡ç†å™¨è¿›è¡Œç®¡ç†ã€‚ç„¶åï¼Œæˆ‘ä»¬å‘è¿™äº›é›†ç¾¤ç®¡ç†å™¨æäº¤Sparkåº”ç”¨ç¨‹åºï¼Œè¿™äº›é›†ç¾¤ç®¡ç†å™¨å°†èµ„æºæˆäºˆæˆ‘ä»¬çš„åº”ç”¨ç¨‹åºï¼Œä»¥ä¾¿æˆ‘ä»¬å®Œæˆæˆ‘ä»¬çš„å·¥ä½œã€‚ 1. Spark ApplicationSparkåº”ç”¨ç¨‹åºç”±ä¸€ä¸ªé©±åŠ¨ç¨‹åºè¿›ç¨‹å’Œä¸€ç»„æ‰§è¡Œç¨‹åºè¿›ç¨‹ç»„æˆã€‚Driverè¿›ç¨‹è¿è¡Œmainï¼ˆï¼‰å‡½æ•°ï¼Œä½äºé›†ç¾¤ä¸­çš„ä¸€ä¸ªèŠ‚ç‚¹ä¸Šï¼Œå®ƒè´Ÿè´£ä¸‰ä»¶äº‹ï¼šç»´æŠ¤Sparkåº”ç”¨ç¨‹åºçš„ç›¸å…³ä¿¡æ¯;å›åº”ç”¨æˆ·çš„ç¨‹åºæˆ–è¾“å…¥;åˆ†é…å’Œå®‰æ’Executorsä¹‹é—´çš„å·¥ä½œã€‚é©±åŠ¨ç¨‹åºè¿‡ç¨‹æ˜¯ç»å¯¹å¿…è¦çš„ - å®ƒæ˜¯Sparkåº”ç”¨ç¨‹åºçš„æ ¸å¿ƒï¼Œå¹¶åœ¨åº”ç”¨ç¨‹åºçš„ç”Ÿå‘½å‘¨æœŸä¸­ä¿ç•™æ‰€æœ‰ç›¸å…³ä¿¡æ¯ã€‚Executorè´Ÿè´£å®é™…æ‰§è¡ŒDriveråˆ†é…ç»™ä»–ä»¬çš„å·¥ä½œã€‚è¿™æ„å‘³ç€ï¼Œæ¯ä¸ªExecutoråªæœ‰ä¸¤ä¸ªä»»åŠ¡ï¼šæ‰§è¡Œç”±é©±åŠ¨ç¨‹åºåˆ†é…ç»™å®ƒçš„ä»£ç ï¼Œå¹¶å°†è¯¥æ‰§è¡Œç¨‹åºçš„è®¡ç®—çŠ¶æ€æŠ¥å‘Šç»™é©±åŠ¨ç¨‹åºèŠ‚ç‚¹ã€‚ ç¾¤é›†ç®¡ç†å™¨æ§åˆ¶ç‰©ç†æœºå™¨å¹¶ä¸ºSparkåº”ç”¨ç¨‹åºåˆ†é…èµ„æºã€‚è¿™å¯ä»¥æ˜¯å‡ ä¸ªæ ¸å¿ƒé›†ç¾¤ç®¡ç†å‘˜ä¹‹ä¸€ï¼šSparkçš„Standaloneï¼ŒYARNæˆ–Mesosã€‚è¿™æ„å‘³ç€å¯ä»¥åŒæ—¶åœ¨ç¾¤é›†ä¸Šè¿è¡Œå¤šä¸ªSparkåº”ç”¨ç¨‹åºã€‚åœ¨å‰é¢çš„æ’å›¾ä¸­ï¼Œå·¦ä¾§æ˜¯æˆ‘ä»¬çš„driverï¼Œå³ä¾§æ˜¯å››ä¸ªexecutorsã€‚åœ¨è¯¥å›¾ä¸­ï¼Œæˆ‘ä»¬åˆ é™¤äº†ç¾¤é›†èŠ‚ç‚¹çš„æ¦‚å¿µã€‚ç”¨æˆ·å¯ä»¥é€šè¿‡é…ç½®æŒ‡å®šæœ‰å¤šå°‘æ‰§è¡Œè€…åº”è¯¥è½åœ¨æ¯ä¸ªèŠ‚ç‚¹ä¸Šã€‚ Sparkæœ‰ä¸€äº›é›†ç¾¤ç®¡ç†å™¨ï¼Œè´Ÿè´£è°ƒåº¦å¯ç”¨èµ„æºã€‚ é©±åŠ¨ç¨‹åºè¿›ç¨‹è´Ÿè´£æ‰§è¡Œæ‰§è¡Œç¨‹åºä¸­çš„é©±åŠ¨ç¨‹åºå‘½ä»¤ï¼Œä»¥å®Œæˆæˆ‘ä»¬çš„ä»»åŠ¡ã€‚ 2. Sparkâ€™s Languge APIså°½ç®¡æˆ‘ä»¬çš„executorå¤§å¤šä¼šä¸€ç›´è¿è¡ŒSparkä»£ç ã€‚ä½†æˆ‘ä»¬ä»ç„¶å¯ä»¥é€šè¿‡Sparkçš„è¯­è¨€APIç”¨å¤šç§ä¸åŒè¯­è¨€è¿è¡ŒSparkä»£ç ã€‚å¤§å¤šæ•°æƒ…å†µä¸‹ï¼ŒSparkä¼šåœ¨æ¯ç§è¯­è¨€ä¸­æä¾›ä¸€äº›æ ¸å¿ƒâ€œconceptsâ€ï¼Œå¹¶å°†ä¸åŒè¯­è¨€çš„ä»£ç è¯‘æˆè¿è¡Œåœ¨æœºå™¨é›†ç¾¤ä¸Šçš„Sparkä»£ç ã€‚ Sparkæœ‰ä¸¤å¥—åŸºæœ¬çš„APIï¼šä½çº§éç»“æ„åŒ–(Unstructured)APIå’Œæ›´é«˜çº§åˆ«çš„ç»“æ„åŒ–(Structured)APIã€‚ 3. SparkSessionæˆ‘ä»¬é€šè¿‡é©±åŠ¨ç¨‹åºæ¥æ§åˆ¶Sparkåº”ç”¨ç¨‹åºã€‚è¯¥é©±åŠ¨ç¨‹åºè¿›ç¨‹å°†è‡ªèº«ä½œä¸ºåä¸ºSparkSessionå¹¶ä½œä¸ºå”¯ä¸€çš„æ¥å£APIå¯¹è±¡å‘ç”¨æˆ·å¼€æ”¾ã€‚ SparkSessionå®ä¾‹æ˜¯Sparkåœ¨ç¾¤é›†ä¸­æ‰§è¡Œç”¨æˆ·å®šä¹‰æ“ä½œçš„æ–¹å¼ã€‚ SparkSessionå’ŒSparkåº”ç”¨ç¨‹åºä¹‹é—´æœ‰ä¸€å¯¹ä¸€çš„å¯¹åº”å…³ç³»ã€‚åœ¨Scalaå’ŒPythonä¸­ï¼Œå˜é‡åœ¨å¯åŠ¨æ§åˆ¶å°æ—¶å¯ç”¨ä½œsparkã€‚è®©æˆ‘ä»¬çœ‹ä¸‹ç®€å•çš„Scalaå’Œ/æˆ–Pythonä¸­çš„SparkSessionã€‚ 4. DataframeDataFrameæ˜¯æœ€å¸¸è§çš„Structured APIï¼ˆç»“æ„åŒ–APIï¼‰ï¼Œåªæ˜¯è¡¨ç¤ºæœ‰ç±»å‹çš„åŒ…å«è¡Œå’Œåˆ—çš„æ•°æ®è¡¨ã€‚ä¸€ä¸ªç®€å•çš„æ¯”å–»å°±æ˜¯ä¸€ä¸ªå¸¦æœ‰å‘½ååˆ—çš„ç”µå­è¡¨æ ¼ã€‚å…¶æ ¹æœ¬åŒºåˆ«åœ¨äºï¼Œå½“ç”µå­è¡¨æ ¼ä½äºä¸€å°è®¡ç®—æœºä¸ŠæŸä¸ªç‰¹å®šä½ç½®æ—¶ï¼ŒSpark DataFrameå¯ä»¥è·¨è¶Šæ•°åƒå°è®¡ç®—æœºã€‚å°†æ•°æ®æ”¾åœ¨å¤šå°è®¡ç®—æœºä¸Šçš„åŸå› æ— éæœ‰ä¸¤ç§ï¼šæ•°æ®å¤ªå¤§è€Œæ— æ³•æ”¾åœ¨ä¸€å°è®¡ç®—æœºä¸Šï¼Œæˆ–è€…åœ¨ä¸€å°è®¡ç®—æœºä¸Šæ‰§è¡Œè®¡ç®—æ‰€éœ€çš„æ—¶é—´å¤ªé•¿ã€‚ DataFrameæ¦‚å¿µå¹¶ä¸æ˜¯Sparkç‹¬æœ‰çš„ã€‚ Rå’ŒPythonéƒ½æœ‰ç›¸ä¼¼çš„æ¦‚å¿µã€‚ä½†æ˜¯ï¼ŒPython / R DataFrameï¼ˆæœ‰ä¸€äº›ä¾‹å¤–ï¼‰å­˜åœ¨äºä¸€å°æœºå™¨ä¸Šï¼Œè€Œä¸æ˜¯å¤šå°æœºå™¨ä¸Šã€‚è¿™é™åˆ¶äº†æ‚¨å¯ä»¥å¯¹pythonå’ŒRä¸­ç»™å®šçš„DataFrameæ‰§è¡Œçš„æ“ä½œä¸è¯¥ç‰¹å®šæœºå™¨ä¸Šå­˜åœ¨çš„èµ„æºè¿›è¡Œå¯¹æ¯”ã€‚ä½†æ˜¯ï¼Œç”±äºSparkå…·æœ‰é€‚ç”¨äºPythonå’ŒRçš„Sparkâ€™s Language APIsï¼Œå› æ­¤å°†Pandasï¼ˆPythonï¼‰DataFrameè½¬æ¢ä¸ºSpark DataFrameå’ŒR DataFrameè½¬æ¢ä¸ºSpark DataFrameï¼ˆRï¼‰éå¸¸å®¹æ˜“ã€‚ æ³¨æ„Sparkæœ‰å‡ ä¸ªæ ¸å¿ƒæŠ½è±¡ï¼šDatasetsï¼ŒDadaframesï¼ŒSQL Tableå’Œå¼¹æ€§åˆ†å¸ƒå¼æ•°æ®é›†ï¼ˆRDDï¼‰ã€‚è¿™äº›æŠ½è±¡éƒ½è¡¨ç¤ºåˆ†å¸ƒå¼æ•°æ®é›†åˆï¼Œä½†å®ƒä»¬æœ‰ä¸åŒçš„æ¥å£æ¥å¤„ç†è¿™äº›æ•°æ®ã€‚æœ€ç®€å•å’Œæœ€æœ‰æ•ˆçš„æ˜¯DataFramesï¼Œå®ƒå¯ä»¥ç”¨äºæ‰€æœ‰è¯­è¨€ã€‚ä»¥ä¸‹æ¦‚å¿µé€‚ç”¨äºæ‰€æœ‰çš„æ ¸å¿ƒæŠ½è±¡ã€‚ 5. Partitionsä¸ºäº†å…è®¸æ¯ä¸ªæ‰§è¡Œè€…å¹¶è¡Œæ‰§è¡Œå·¥ä½œï¼ŒSparkå°†æ•°æ®åˆ†è§£æˆç§°ä¸ºåˆ†åŒºçš„å—ã€‚åˆ†åŒºæ˜¯ä½äºé›†ç¾¤ä¸­çš„ä¸€å°ç‰©ç†æœºä¸Šçš„ä¸€ç»„è¡Œã€‚ DataFrameçš„åˆ†åŒºè¡¨ç¤ºæ•°æ®åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­å¦‚ä½•åœ¨æ•´ä¸ªæœºå™¨ç¾¤ä¸­ç‰©ç†åˆ†å¸ƒã€‚å¦‚æœä½ æœ‰ä¸€ä¸ªåˆ†åŒºï¼Œå³ä½¿ä½ æœ‰æ•°åƒä¸ªæ‰§è¡Œè€…ï¼ŒSparkä¹Ÿåªä¼šæœ‰ä¸€ä¸ªåˆ†åŒºã€‚å¦‚æœæœ‰å¤šä¸ªåˆ†åŒºï¼Œä½†åªæœ‰ä¸€ä¸ªæ‰§è¡Œç¨‹åºSparkä»ç„¶åªæœ‰ä¸€ä¸ªå¹¶è¡Œæ€§ï¼Œå› ä¸ºåªæœ‰ä¸€ä¸ªè®¡ç®—èµ„æºã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œä½¿ç”¨DataFramesï¼Œæˆ‘ä»¬ä¸ä¼šï¼ˆå¤§éƒ¨åˆ†ï¼‰æ“ä½œ æ‰‹åŠ¨åˆ†åŒºï¼ˆåŸºäºä¸ªäººï¼‰ã€‚æˆ‘ä»¬åªéœ€æŒ‡å®šç‰©ç†åˆ†åŒºä¸­æ•°æ®çš„é«˜çº§è½¬æ¢ï¼Œå¹¶ä¸”Sparkç¡®å®šæ­¤å·¥ä½œå°†å¦‚ä½•åœ¨é›†ç¾¤ä¸Šå®é™…æ‰§è¡Œã€‚è¾ƒä½çº§åˆ«çš„APIç¡®å®å­˜åœ¨ï¼ˆé€šè¿‡å¼¹æ€§åˆ†å¸ƒå¼æ•°æ®é›†æ¥å£ï¼‰ã€‚ 6. Transformationsåœ¨Sparkä¸­ï¼Œæ ¸å¿ƒæ•°æ®ç»“æ„æ˜¯ä¸å¯æ”¹å˜çš„ï¼Œè¿™æ„å‘³ç€ä¸€æ—¦åˆ›å»ºå®ƒä»¬å°±ä¸èƒ½æ›´æ”¹ã€‚èµ·åˆï¼Œè¿™å¯èƒ½çœ‹èµ·æ¥åƒä¸€ä¸ªå¥‡æ€ªçš„æ¦‚å¿µï¼Œå¦‚æœä½ ä¸èƒ½æ”¹å˜å®ƒï¼Œä½ åº”è¯¥å¦‚ä½•ä½¿ç”¨å®ƒï¼Ÿä¸ºäº†â€œæ›´æ”¹â€DataFrameï¼Œæ‚¨å¿…é¡»æŒ‡ç¤ºSparkå¦‚ä½•ä¿®æ”¹æ‚¨æ‰€éœ€çš„DataFrameã€‚è¿™äº›è¯´æ˜è¢«ç§°ä¸ºè½¬æ¢ã€‚è½¬æ¢æ“ä½œæ²¡æœ‰è¿”å›è¾“å‡ºï¼Œè¿™æ˜¯å› ä¸ºæˆ‘ä»¬åªæŒ‡å®šäº†ä¸€ä¸ªæŠ½è±¡è½¬æ¢ï¼Œå¹¶ä¸”Sparkä¸ä¼šåœ¨è½¬æ¢ä¹‹å‰é‡‡å–è¡ŒåŠ¨ï¼Œç›´åˆ°æˆ‘ä»¬æ‰§è¡Œä¸€ä¸ªåŠ¨ä½œã€‚Transformationsæ˜¯å¦‚ä½•ä½¿ç”¨Sparkæ¥è¡¨è¾¾ä¸šåŠ¡é€»è¾‘çš„æ ¸å¿ƒã€‚Sparkæœ‰ä¸¤ç§ç±»å‹çš„Transformationsï¼Œä¸€ç§æ˜¯çª„ä¾èµ–è½¬æ¢å…³ç³»ï¼Œä¸€ç§æ˜¯å®½ä¾èµ–è½¬æ¢å…³ç³»ã€‚ å®½ä¾èµ–æŒ‡è¾“å…¥åˆ†åŒºå¯¹å¤šè¾“å‡ºåˆ†åŒºèµ·ä½œç”¨ï¼ˆå¤šä¸ªå­©å­ï¼‰ã€‚è¿™è¢«ç§°ä¸ºshuffleï¼ŒSparkå°†åœ¨ç¾¤é›†ä¹‹é—´äº¤æ¢åˆ†åŒºã€‚å¯¹äºçª„ä¾èµ–è½¬æ¢ï¼ŒSparkå°†è‡ªåŠ¨æ‰§è¡Œç§°ä¸ºæµæ°´çº¿çš„æ“ä½œï¼Œè¿™æ„å‘³ç€å¦‚æœæˆ‘ä»¬åœ¨DataFrameä¸ŠæŒ‡å®šäº†å¤šä¸ªè¿‡æ»¤å™¨ï¼Œå®ƒä»¬å°†å…¨éƒ¨åœ¨å†…å­˜ä¸­æ‰§è¡Œã€‚å½“æˆ‘ä»¬æ‰§è¡Œshuffleæ—¶ï¼ŒSparkä¼šå°†ç»“æœå†™å…¥ç£ç›˜ã€‚ 7. Lazy EvaluationLazy Evaluationæ„å‘³ç€Sparkå°†ç­‰åˆ°æ‰§è¡Œè®¡ç®—æŒ‡ä»¤å›¾çš„æœ€åæ—¶åˆ»ã€‚åœ¨Sparkä¸­ï¼Œæˆ‘ä»¬ä¸æ˜¯åœ¨è¡¨è¾¾æŸäº›æ“ä½œæ—¶ç«‹å³ä¿®æ”¹æ•°æ®ï¼Œè€Œæ˜¯å»ºç«‹èµ·æ¥åº”ç”¨äºæºæ•°æ®çš„è½¬æ¢è®¡åˆ’ã€‚Sparkå°†æŠŠåŸå§‹DataFrameè½¬æ¢è®¡åˆ’ç¼–è¯‘ä¸ºä¸€ä¸ªé«˜æ•ˆçš„ç‰©ç†è®¡åˆ’ï¼Œè¯¥è®¡åˆ’å°†åœ¨ç¾¤é›†ä¸­å°½å¯èƒ½é«˜æ•ˆåœ°è¿è¡Œã€‚è¿™ä¸ºæœ€ç»ˆç”¨æˆ·å¸¦æ¥äº†å·¨å¤§çš„å¥½å¤„ï¼Œå› ä¸ºSparkå¯ä»¥ä¼˜åŒ–æ•´ä¸ªæ•°æ®æµä»ç«¯åˆ°ç«¯ã€‚è¿™æ–¹é¢çš„ä¸€ä¸ªä¾‹å­å°±æ˜¯æ‰€è°“çš„â€œpredicate pushdownâ€ DataFramesã€‚å¦‚æœæˆ‘ä»¬æ„å»ºä¸€ä¸ªå¤§çš„Sparkä½œä¸šï¼Œä½†åœ¨æœ€åæŒ‡å®šäº†ä¸€ä¸ªè¿‡æ»¤å™¨ï¼Œåªéœ€è¦æˆ‘ä»¬ä»æºæ•°æ®ä¸­è·å–ä¸€è¡Œï¼Œåˆ™æ‰§è¡Œæ­¤æ“ä½œçš„æœ€æœ‰æ•ˆæ–¹æ³•å°±æ˜¯è®¿é—®æˆ‘ä»¬éœ€è¦çš„å•ä¸ªè®°å½•ã€‚ Sparkå®é™…ä¸Šä¼šé€šè¿‡è‡ªåŠ¨æ¨ä½æ»¤æ³¢å™¨æ¥ä¼˜åŒ–è¿™ä¸€ç‚¹ã€‚ 8. Actionsè½¬æ¢ä½¿æˆ‘ä»¬èƒ½å¤Ÿå»ºç«‹æˆ‘ä»¬çš„é€»è¾‘è®¡åˆ’ã€‚ä¸ºäº†è§¦å‘è®¡ç®—ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªåŠ¨ä½œæ“ä½œã€‚ä¸€ä¸ªåŠ¨ä½œæŒ‡ç¤ºSparkè®¡ç®—ä¸€ç³»åˆ—è½¬æ¢çš„ç»“æœã€‚åœ¨æŒ‡å®šæˆ‘ä»¬çš„æ“ä½œæ—¶ï¼Œæˆ‘ä»¬å¼€å§‹äº†ä¸€ä¸ªSparkä½œä¸šï¼Œå®ƒè¿è¡Œæˆ‘ä»¬çš„è¿‡æ»¤å™¨è½¬æ¢ï¼ˆä¸€ä¸ªçª„ä¾èµ–è½¬æ¢ï¼‰ï¼Œç„¶åæ˜¯ä¸€ä¸ªèšåˆï¼ˆä¸€ä¸ªå®½ä¾èµ–è½¬æ¢ï¼‰ï¼Œå®ƒåœ¨æ¯ä¸ªåˆ†åŒºçš„åŸºç¡€ä¸Šæ‰§è¡Œè®¡æ•°ï¼Œç„¶åä¸€ä¸ªcollectå°†æˆ‘ä»¬çš„ç»“æœå¸¦åˆ°å„è‡ªè¯­è¨€çš„æœ¬åœ°å¯¹è±¡ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡æ£€æŸ¥Spark UIï¼ŒUIæ˜¯ä¸€ä¸ªåŒ…å«åœ¨Sparkä¸­çš„å·¥å…·ï¼Œå®ƒå…è®¸æˆ‘ä»¬ç›‘è§†é›†ç¾¤ä¸Šè¿è¡Œçš„Sparkä½œä¸šã€‚ 9. Dataframe &amp; SQLSpark SQLæ˜¯Sparkä¸ºç»“æ„åŒ–å’ŒåŠç»“æ„åŒ–æ•°æ®å¤„ç†è®¾è®¡çš„æœ€å—æ¬¢è¿çš„æ¨¡å—ä¹‹ä¸€ã€‚ Spark SQLå…è®¸ç”¨æˆ·ä½¿ç”¨SQLæˆ–å¯åœ¨Javaï¼ŒScalaï¼ŒPythonå’ŒRä¸­ä½¿ç”¨çš„DataFrameå’ŒDataset APIæ¥æŸ¥è¯¢Sparkç¨‹åºä¸­çš„structured dataã€‚ç”±äºDataFrame APIæä¾›äº†ä¸€ç§ç»Ÿä¸€çš„æ–¹æ³•æ¥è®¿é—®å„ç§çš„æ•°æ®æºï¼ˆåŒ…æ‹¬Hive datasetsï¼ŒAvroï¼ŒParquetï¼ŒORCï¼ŒJSONå’ŒJDBCï¼‰ï¼Œç”¨æˆ·èƒ½å¤Ÿä»¥ç›¸åŒæ–¹å¼è¿æ¥åˆ°ä»»ä½•æ•°æ®æºï¼Œå¹¶å°†è¿™äº›å¤šä¸ªæ•°æ®æºè¿æ¥åœ¨ä¸€èµ·ã€‚ Spark SQLä½¿ç”¨Hive meta storeä¸ºç”¨æˆ·æä¾›äº†ä¸ç°æœ‰Hiveæ•°æ®ï¼ŒæŸ¥è¯¢å’ŒUDFå®Œå…¨å…¼å®¹çš„åŠŸèƒ½ã€‚ç”¨æˆ·å¯ä»¥æ— ç¼åœ° åœ¨Sparkä¸Šæ— éœ€ä¿®æ”¹å³å¯è¿è¡Œå…¶å½“å‰çš„Hiveå·¥ä½œè´Ÿè½½ã€‚Spark SQLä¹Ÿå¯ä»¥é€šè¿‡spark-sql shellæ¥è®¿é—®ï¼Œç°æœ‰çš„ä¸šåŠ¡å·¥å…·å¯ä»¥é€šè¿‡æ ‡å‡†çš„JDBCå’ŒODBCæ¥å£è¿›è¡Œè¿æ¥ã€‚ ç°åœ¨æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªç¤ºä¾‹å¹¶åœ¨DataFrameå’ŒSQLä¸­è¿›è¡Œè·Ÿè¸ªã€‚ä¸ç®¡è¯­è¨€å¦‚ä½•ï¼Œä»¥å®Œå…¨ç›¸åŒçš„æ–¹å¼å¯åŠ¨ç›¸åŒçš„è½¬æ¢ã€‚æ‚¨å¯ä»¥åœ¨SQLæˆ–DataFramesï¼ˆRï¼ŒPythonï¼ŒScalaæˆ–Javaï¼‰ä¸­è¡¨è¾¾ä¸šåŠ¡é€»è¾‘ï¼Œå¹¶ä¸”åœ¨å®é™…æ‰§è¡Œä»£ç ä¹‹å‰ï¼ŒSparkä¼šå°†è¯¥é€»è¾‘ç¼–è¯‘è®¡åˆ’ä¼˜åŒ–å¹¶æœ€ç»ˆç”Ÿæˆæœ€ä¼˜çš„ç‰©ç†è®¡åˆ’ã€‚ Spark SQLå…è®¸æ‚¨ä½œä¸ºç”¨æˆ·å°†ä»»ä½•DataFrameæ³¨å†Œä¸ºè¡¨æˆ–è§†å›¾ï¼ˆä¸´æ—¶è¡¨ï¼‰ï¼Œå¹¶ä½¿ç”¨çº¯SQLæŸ¥è¯¢å®ƒã€‚ç¼–å†™SQLæŸ¥è¯¢æˆ–ç¼–å†™DataFrameä»£ç ä¹‹é—´æ²¡æœ‰æ€§èƒ½å·®å¼‚ éƒ½â€œç¼–è¯‘â€åˆ°æˆ‘ä»¬åœ¨DataFrameä»£ç ä¸­æŒ‡å®šçš„ç›¸åŒåº•å±‚è®¡åˆ’ã€‚é€šè¿‡ä¸€ä¸ªç®€å•çš„æ–¹æ³•è°ƒç”¨å°±å¯ä»¥å°†ä»»ä½•DataFrameåˆ¶ä½œæˆè¡¨æ ¼æˆ–è§†å›¾ã€‚ With SQlWith DataFrame ç°åœ¨æœ‰7ä¸ªæ­¥éª¤å°†æˆ‘ä»¬å¸¦å›æºæ•°æ®ã€‚æ‚¨å¯ä»¥åœ¨è¿™äº›DataFrameçš„è§£é‡Šè®¡åˆ’ä¸­çœ‹åˆ°è¿™ä¸€ç‚¹ã€‚ä»¥ä¸Šå›¾è§£è¯´æ˜äº†æˆ‘ä»¬åœ¨â€œä»£ç â€ä¸­æ‰§è¡Œçš„ä¸€ç³»åˆ—æ­¥éª¤ã€‚çœŸæ­£çš„æ‰§è¡Œè®¡åˆ’ï¼ˆè§£é‡Šä¸­å¯è§çš„æ‰§è¡Œè®¡åˆ’ï¼‰å°†ä¸ä¸‹é¢çš„æ‰§è¡Œè®¡åˆ’æœ‰æ‰€ä¸åŒï¼Œå› ä¸ºåœ¨ç‰©ç†æ‰§è¡Œæ–¹é¢è¿›è¡Œäº†ä¼˜åŒ–ï¼Œç„¶è€Œï¼Œè¯¥æ‰§è¡Œè®¡åˆ’ä¸ä»»ä½•è®¡åˆ’ä¸€æ ·éƒ½æ˜¯èµ·ç‚¹ã€‚è¿™ä¸ªæ‰§è¡Œè®¡åˆ’æ˜¯ä¸€ä¸ªæœ‰å‘æ— ç¯å›¾ï¼ˆDAGï¼‰çš„è½¬æ¢ï¼Œæ¯ä¸ªè½¬æ¢äº§ç”Ÿä¸€ä¸ªæ–°çš„ä¸å¯å˜DataFrameï¼Œæˆ‘ä»¬åœ¨è¿™ä¸ªDataFrameä¸Šè°ƒç”¨ä¸€ä¸ªåŠ¨ä½œæ¥äº§ç”Ÿä¸€ä¸ªç»“æœã€‚ ç¬¬ä¸€æ­¥æ˜¯è¯»å–æ•°æ®ã€‚ä½†æ˜¯Sparkå®é™…ä¸Šå¹¶æ²¡æœ‰è¯»å–å®ƒï¼ˆLazy Evaluationï¼‰ ç¬¬äºŒæ­¥æ˜¯æˆ‘ä»¬çš„åˆ†ç»„ï¼Œåœ¨æŠ€æœ¯ä¸Šï¼Œå½“æˆ‘ä»¬è°ƒç”¨groupByæ—¶ï¼Œæˆ‘ä»¬æœ€ç»ˆå¾—åˆ°äº†ä¸€ä¸ªRelationalGroupedDatasetï¼Œå®ƒæ˜¯DataFrameçš„ä¸€ä¸ªå¥‡ç‰¹åç§°ï¼Œè¯¥DataFrameå…·æœ‰æŒ‡å®šçš„åˆ†ç»„ï¼Œä½†éœ€è¦ç”¨æˆ·åœ¨å¯ä»¥è¿›ä¸€æ­¥æŸ¥è¯¢ä¹‹å‰æŒ‡å®šèšåˆã€‚ å› æ­¤ç¬¬ä¸‰æ­¥æ˜¯æŒ‡å®šèšåˆã€‚æˆ‘ä»¬ä½¿ç”¨æ€»å’Œèšåˆæ–¹æ³•ã€‚è¿™éœ€è¦è¾“å…¥ä¸€åˆ— è¡¨è¾¾å¼æˆ–ç®€å•çš„åˆ—åç§°ã€‚ sumæ–¹æ³•è°ƒç”¨çš„ç»“æœæ˜¯ä¸€ä¸ªæ–°çš„dataFrameã€‚ä½ ä¼šçœ‹åˆ°å®ƒæœ‰ä¸€ä¸ªæ–°çš„æ¨¡å¼ï¼Œä½†å®ƒçŸ¥é“æ¯ä¸ªåˆ—çš„ç±»å‹ã€‚ï¼ˆå†æ¬¡å¼ºè°ƒï¼ï¼‰è¿™é‡Œæ²¡æœ‰æ‰§è¡Œè®¡ç®—æ˜¯éå¸¸é‡è¦çš„ã€‚è¿™åªæ˜¯æˆ‘ä»¬è¡¨è¾¾çš„å¦ä¸€ç§è½¬æ¢ï¼ŒSparkä»…ä»…èƒ½å¤Ÿè·Ÿè¸ªæˆ‘ä»¬æä¾›çš„ç±»å‹ä¿¡æ¯ã€‚ ç¬¬å››æ­¥æ˜¯ç®€åŒ–è¯­è¨€ï¼Œæˆ‘ä»¬ä½¿ç”¨withColumnRenameç»™åŸå§‹åˆ—é‡æ–°å®šä¹‰æ–°åç§°ã€‚å½“ç„¶ï¼Œè¿™ä¸ä¼šæ‰§è¡Œè®¡ç®— - è¿™åªæ˜¯å¦ä¸€ç§è½¬æ¢ï¼ ç¬¬äº”æ­¥å¯¼å…¥ä¸€ä¸ªå‡½æ•°å¯¹æ•°æ®è¿›è¡Œæ’åºï¼Œå³descå‡½æ•°ã€‚ä»destination_totalåˆ—ä¸­æ‰¾åˆ°çš„æœ€å¤§å€¼ã€‚ ç¬¬å…­æ­¥ï¼Œæˆ‘ä»¬å°†æŒ‡å®šä¸€ä¸ªé™åˆ¶ã€‚è¿™åªæ˜¯è¯´æ˜æˆ‘ä»¬åªéœ€è¦äº”ä¸ªå€¼ã€‚è¿™å°±åƒä¸€ä¸ªè¿‡æ»¤å™¨ï¼Œåªæ˜¯å®ƒæŒ‰ä½ç½®è€Œä¸æ˜¯æŒ‰å€¼è¿‡æ»¤ã€‚å¯ä»¥è‚¯å®šåœ°è¯´ï¼Œå®ƒåŸºæœ¬ä¸Šåªæ˜¯æŒ‡å®šäº†ä¸€å®šå¤§å°çš„DataFrameã€‚ æœ€åä¸€æ­¥æ˜¯æˆ‘ä»¬çš„è¡ŒåŠ¨ï¼ç°åœ¨æˆ‘ä»¬å®é™…ä¸Šå¼€å§‹æ”¶é›†ä¸Šé¢çš„DataFrameç»“æœçš„è¿‡ç¨‹ï¼ŒSparkå°†ä»¥æˆ‘ä»¬æ­£åœ¨æ‰§è¡Œçš„è¯­è¨€è¿”å›ä¸€ä¸ªåˆ—è¡¨æˆ–æ•°ç»„ã€‚ç°åœ¨æˆ‘ä»¬çœ‹ä¸‹å®ƒçš„è§£é‡Šè®¡åˆ’ã€‚è™½ç„¶è¿™ä¸ªè§£é‡Šè®¡åˆ’ä¸æˆ‘ä»¬ç¡®åˆ‡çš„â€œæ¦‚å¿µè®¡åˆ’â€ä¸ç¬¦ï¼Œä½†æ‰€æœ‰çš„éƒ¨åˆ†éƒ½åœ¨é‚£é‡Œã€‚å¯ä»¥çœ‹åˆ°limitè¯­å¥ä»¥åŠorderByï¼ˆåœ¨ç¬¬ä¸€è¡Œï¼‰ã€‚ä½ ä¹Ÿå¯ä»¥çœ‹åˆ°æˆ‘ä»¬çš„èšåˆæ˜¯å¦‚ä½•åœ¨partial_sumè°ƒç”¨ä¸­çš„ä¸¤ä¸ªé˜¶æ®µå‘ç”Ÿçš„ã€‚è¿™æ˜¯å› ä¸ºæ•°å­—åˆ—è¡¨æ˜¯å¯äº¤æ¢çš„ï¼Œå¹¶ä¸”Sparkå¯ä»¥æ‰§è¡Œsum()å¹¶æŒ‰åˆ†åŒºè¿›è¡Œåˆ’åˆ†ã€‚å½“ç„¶ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥çœ‹åˆ°æˆ‘ä»¬å¦‚ä½•åœ¨DataFrameä¸­è¯»å–æ•°æ®ã€‚åŒæ—¶æˆ‘ä»¬ä¹Ÿå¯ä»¥å°†å®ƒå†™å‡ºåˆ°Sparkæ”¯æŒçš„ä»»ä½•æ•°æ®æºä¸­ã€‚ä¾‹å¦‚ï¼Œå‡è®¾æˆ‘ä»¬æƒ³è¦å°†è¿™äº›ä¿¡æ¯å­˜å‚¨åœ¨PostgreSQLç­‰æ•°æ®åº“ä¸­ï¼Œæˆ–è€…å°†å®ƒä»¬å†™å…¥å¦ä¸€ä¸ªæ–‡ä»¶ã€‚]]></content>
      <categories>
        <category>å¤§æ•°æ®</category>
      </categories>
      <tags>
        <tag>spark</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[GBDT&XGBOOSTï¼ˆä¸€ï¼‰]]></title>
    <url>%2F2018%2F06%2F12%2FGBDT%26XGBOOST%EF%BC%88%E4%B8%80%EF%BC%89%2F</url>
    <content type="text"><![CDATA[ä»ITæ—¶ä»£èµ°å‘DTæ—¶ä»£ GBDTï¼ˆæ¢¯åº¦æå‡å†³ç­–æ ‘ï¼‰GBDTï¼ˆGradient Boosting Decision Treeï¼‰åˆå« MARTï¼ˆMultiple Additive Regression Treeï¼‰ï¼Œæ˜¯ä¸€ç§è¿­ä»£çš„å†³ç­–æ ‘ç®—æ³•ï¼Œè¯¥ç®—æ³•ç”±å¤šæ£µå†³ç­–æ ‘ç»„æˆï¼Œæ‰€æœ‰æ ‘çš„ç»“è®ºç´¯åŠ èµ·æ¥åšæœ€ç»ˆç»“æœ. è¦ç†è§£ GBDTï¼Œå°±è¦å…ˆç†è§£ GB ï¼Œç„¶åæ‰æ˜¯ DTï¼Œè€Œä¸”è¿™é‡Œçš„ DT æ˜¯å›å½’æ ‘ï¼Œè€Œä¸æ˜¯åˆ†ç±»æ ‘. DTï¼ˆå†³ç­–å›å½’æ ‘ï¼‰è¿™é‡Œå…ˆè¡¥å……ä¸€ä¸‹ä»€ä¹ˆæ˜¯å›å½’æ ‘ï¼Œå› ä¸ºä¹‹å‰æ‰€è®²çš„å†³ç­–æ ‘éƒ½æ˜¯å±äºåˆ†ç±»æ ‘. å…ˆå›é¡¾ä¸‹åˆ†ç±»æ ‘: æˆ‘ä»¬çŸ¥é“ åˆ†ç±»æ ‘åœ¨æ¯æ¬¡åˆ†ææ—¶ï¼Œæ˜¯ç©·ä¸¾æ¯ä¸€ä¸ª feature çš„æ¯ä¸€ä¸ªé˜ˆå€¼ï¼Œæ‰¾åˆ°ä½¿å¾—æŒ‰ç…§ feature &lt;= é˜ˆå€¼å’Œfeature &gt; é˜ˆå€¼åˆ†æˆä¸¤æçš„ç†µæœ€å¤§çš„ feature å’Œé˜ˆå€¼ï¼ŒæŒ‰ç…§è¯¥æ ‡å‡†åˆ†æå¾—åˆ°çš„ä¸¤ä¸ªæ–°èŠ‚ç‚¹ï¼ŒæŒ‰åŒæ ·çš„æ–¹æ³•é€’å½’åˆ†è£‚ä¸‹å»ï¼Œç›´åˆ°æ‰€æœ‰æ ·æœ¬éƒ½è¢«åˆ†å…¥å”¯ä¸€çš„å¶å­èŠ‚ç‚¹ï¼Œæˆ–è¾¾åˆ°é¢„è®¾çš„ç»ˆæ­¢æ¡ä»¶ï¼ˆå¦‚æœå¶å­èŠ‚ç‚¹çš„æ ·æœ¬ä¸å”¯ä¸€ï¼Œåˆ™ä»¥å¤šæ•°ç±»ä½œä¸ºå¶å­èŠ‚ç‚¹çš„åˆ†ç±»ç»“æœï¼‰. å›å½’æ ‘å¤§è‡´æµç¨‹ç±»ä¼¼: ä¸è¿‡åœ¨æ¯ä¸ªèŠ‚ç‚¹ï¼ˆä¸ä¸€å®šæ˜¯å¶å­èŠ‚ç‚¹ï¼‰éƒ½ä¼šå¾—åˆ°ä¸€ä¸ªé¢„æµ‹å€¼ï¼Œä»¥äººçš„å¹´é¾„ä¸ºä¾‹ï¼Œè¯¥é¢„æµ‹å€¼ç­‰äºå±äºè¿™ä¸ªèŠ‚ç‚¹çš„æ‰€æœ‰äººçš„å¹´é¾„çš„å¹³å‡å€¼ã€‚åˆ†ææ—¶ç©·ä¸¾æ¯ä¸€ä¸ªfeatureçš„æ¯ä¸ªé˜ˆå€¼æ‰¾æœ€å¥½çš„åˆ†å‰²ç‚¹ï¼Œä½†è¡¡é‡æœ€å¥½çš„æ ‡å‡†ä¸å†æ˜¯æœ€å¤§ç†µï¼Œè€Œæ˜¯æœ€å°åŒ–å‡æ–¹å·®â€”å³ï¼ˆæ¯ä¸ªäººçš„å¹´é¾„-é¢„æµ‹å¹´é¾„ï¼‰å¹³æ–¹çš„æ€»å’Œé™¤ä»¥ Nï¼ˆæ€»äººæ•°ï¼‰ï¼Œæˆ–è€…è¯´æ˜¯æ¯ä¸ªäººçš„é¢„æµ‹è¯¯å·®å¹³æ–¹å’Œ é™¤ä»¥ Nã€‚è¿™å¾ˆå¥½ç†è§£ï¼Œè¢«é¢„æµ‹å‡ºé”™çš„äººæ•°è¶Šå¤šï¼Œé”™çš„è¶Šç¦»è°±ï¼Œå‡æ–¹å·®å°±è¶Šå¤§ï¼Œé€šè¿‡æœ€å°åŒ–å‡æ–¹å·®èƒ½å¤Ÿæ‰¾åˆ°æœ€é è°±çš„åˆ†æä¾æ®ã€‚ç›´åˆ°æ¯ä¸ªå¶å­èŠ‚ç‚¹ä¸Šäººçš„å¹´é¾„éƒ½å”¯ä¸€ï¼Œæˆ–è€…è¾¾åˆ°é¢„è®¾ç»ˆæ­¢æ¡ä»¶ï¼Œè‹¥æœ€ç»ˆå¶å­èŠ‚ç‚¹ä¸Šçš„äººçš„å¹´é¾„ä¸å”¯ä¸€ï¼Œå°±ä»¥è¯¥èŠ‚ç‚¹ä¸Šæ‰€æœ‰äººçš„å¹³å‡å¹´é¾„ä½œä¸ºè¯¥å¶å­èŠ‚ç‚¹çš„é¢„æµ‹å€¼. å°±æ˜¯åˆ†ç±»æ ‘æ˜¯æŒ‰å¤šæ•°æŠ•ç¥¨ï¼Œä»¥å¤šæ•°ç±»çš„ç±»åˆ«æ ‡å·ä½œä¸ºå¶å­èŠ‚ç‚¹çš„åˆ†ç±»ç±»åˆ«ï¼›å›å½’æ ‘æ˜¯æŒ‰å¶å­èŠ‚ç‚¹çš„æ ·æœ¬å¹³å‡å€¼ä½œä¸ºè¯¥èŠ‚ç‚¹çš„é¢„æµ‹å€¼. GBDT å®ä¾‹GBDTçš„æ ¸å¿ƒå°±åœ¨äºï¼Œ_æ¯ä¸€æ£µæ ‘å­¦çš„æ˜¯ä¹‹å‰æ‰€æœ‰æ ‘ç»“è®ºå’Œçš„æ®‹å·®ï¼Œè¿™ä¸ªæ®‹å·®å°±æ˜¯ä¸€ä¸ªåŠ é¢„æµ‹å€¼åèƒ½å¾—çœŸå®å€¼çš„ç´¯åŠ é‡_ã€‚ æ¯”å¦‚ä»¥å¹´é¾„é¢„æµ‹çš„ä¾‹å­æ¥è¯´æ˜ï¼ŒA çš„çœŸå®å¹´é¾„æ˜¯ 18 å²ï¼Œä½†ç¬¬ä¸€æ£µæ ‘çš„é¢„æµ‹å¹´é¾„æ˜¯ 12 å²ï¼Œå·®äº† 6 å²ï¼Œå³æ®‹å·®ä¸º 6 å²ã€‚é‚£ä¹ˆåœ¨ç¬¬äºŒæ£µæ ‘é‡Œæˆ‘ä»¬æŠŠ A çš„å¹´é¾„è®¾ä¸º 6 å²å»å­¦ä¹ ï¼Œå¦‚æœç¬¬äºŒæ£µæ ‘çœŸçš„èƒ½æŠŠ A åˆ†åˆ° 6 å²çš„å¶å­èŠ‚ç‚¹ï¼Œé‚£ç´¯åŠ ä¸¤æ£µæ ‘çš„ç»“è®ºå°±æ˜¯ A çš„çœŸå®å¹´é¾„ï¼›å¦‚æœç¬¬äºŒæ£µæ ‘çš„ç»“è®ºæ˜¯ 5 å²ï¼Œåˆ™ A ä»ç„¶å­˜åœ¨ 1 å²çš„æ®‹å·®ï¼Œç¬¬ä¸‰æ£µæ ‘é‡Œ A çš„å¹´é¾„å°±å˜æˆ 1 å²ï¼Œç»§ç»­å­¦ã€‚ æˆ‘ä»¬æ¥è¯¦ç»†çš„è¯´ä¸€ä¸‹è¿™ä¸ªä¾‹å­ï¼Œä¸ºç®€å•èµ·è§è®­ç»ƒé›†åªæœ‰4ä¸ªäººï¼ŒA,B,C,Dï¼Œä»–ä»¬çš„å¹´é¾„åˆ†åˆ«æ˜¯14,16,24,26ã€‚å…¶ä¸­Aã€Båˆ†åˆ«æ˜¯é«˜ä¸€å’Œé«˜ä¸‰å­¦ç”Ÿï¼›C,Dåˆ†åˆ«æ˜¯åº”å±Šæ¯•ä¸šç”Ÿå’Œå·¥ä½œä¸¤å¹´çš„å‘˜å·¥ã€‚å¦‚æœæ˜¯ç”¨ä¸€æ£µä¼ ç»Ÿçš„å›å½’å†³ç­–æ ‘æ¥è®­ç»ƒï¼Œä¼šå¾—åˆ°å¦‚ä¸‹å›¾1æ‰€ç¤ºç»“æœï¼š ç°åœ¨æˆ‘ä»¬ä½¿ç”¨GBDTæ¥åšè¿™ä»¶äº‹ï¼Œç”±äºæ•°æ®å¤ªå°‘ï¼Œæˆ‘ä»¬é™å®šå¶å­èŠ‚ç‚¹åšå¤šæœ‰ä¸¤ä¸ªï¼Œå³æ¯æ£µæ ‘éƒ½åªæœ‰ä¸€ä¸ªåˆ†æï¼Œå¹¶ä¸”é™å®šåªå­¦ä¸¤æ£µæ ‘ã€‚æˆ‘ä»¬ä¼šå¾—åˆ°å¦‚ä¸‹å›¾2æ‰€ç¤ºç»“æœï¼š åœ¨ç¬¬ä¸€æ£µæ ‘åˆ†æå’Œå›¾1ä¸€æ ·ï¼Œç”±äºA,Bå¹´é¾„è¾ƒä¸ºç›¸è¿‘ï¼ŒC,Då¹´é¾„è¾ƒä¸ºç›¸è¿‘ï¼Œä»–ä»¬è¢«åˆ†ä¸ºä¸¤æ‹¨ï¼Œæ¯æ‹¨ç”¨å¹³å‡å¹´é¾„ä½œä¸ºé¢„æµ‹å€¼ã€‚ æ­¤æ—¶è®¡ç®—æ®‹å·®ï¼ˆæ®‹å·®çš„æ„æ€å°±æ˜¯ï¼š Açš„é¢„æµ‹å€¼ + Açš„æ®‹å·® = Açš„å®é™…å€¼ï¼‰ï¼Œæ‰€ä»¥Açš„æ®‹å·®å°±æ˜¯ 16-15=1ï¼ˆæ³¨æ„ï¼ŒA çš„é¢„æµ‹å€¼æ˜¯æŒ‡å‰é¢æ‰€æœ‰æ ‘ç´¯åŠ çš„å’Œï¼Œè¿™é‡Œå‰é¢åªæœ‰ä¸€æ£µæ ‘æ‰€ä»¥ç›´æ¥æ˜¯ 15ï¼Œå¦‚æœè¿˜æœ‰æ ‘åˆ™éœ€è¦éƒ½ç´¯åŠ èµ·æ¥ä½œä¸º A çš„é¢„æµ‹å€¼ï¼‰ã€‚è¿›è€Œå¾—åˆ° A,B,C,D çš„æ®‹å·®åˆ†åˆ«ä¸º (-1,1,-1,1)ã€‚ ç„¶åæˆ‘ä»¬æ‹¿æ®‹å·®æ›¿ä»£ A,B,C,D çš„åŸå€¼ï¼Œåˆ°ç¬¬äºŒæ£µæ ‘å»å­¦ä¹ ï¼Œå¦‚æœæˆ‘ä»¬çš„é¢„æµ‹å€¼å’Œå®ƒä»¬çš„æ®‹å·®ç›¸ç­‰ï¼Œåˆ™åªéœ€æŠŠç¬¬äºŒæ£µæ ‘çš„ç»“è®ºç´¯åŠ åˆ°ç¬¬ä¸€æ£µæ ‘ä¸Šå°±èƒ½å¾—åˆ°çœŸå®å¹´é¾„äº†ã€‚è¿™é‡Œçš„æ•°æ®æ˜¾ç„¶æ˜¯æˆ‘å¯ä»¥åšçš„ï¼Œç¬¬äºŒæ£µæ ‘åªæœ‰ä¸¤ä¸ªå€¼ 1 å’Œ -1ï¼Œç›´æ¥åˆ†æˆä¸¤ä¸ªèŠ‚ç‚¹ã€‚æ­¤æ—¶æ‰€æœ‰äººçš„æ®‹å·®éƒ½æ˜¯0ï¼Œå³æ¯ä¸ªäººéƒ½å¾—åˆ°äº†çœŸå®çš„é¢„æµ‹å€¼ã€‚ æ¢å¥è¯è¯´ï¼Œç°åœ¨ A,B,C,D çš„é¢„æµ‹å€¼éƒ½å’ŒçœŸå®å¹´é¾„ä¸€è‡´äº†ã€‚Perfect!ï¼š A: 14 å²é«˜ä¸€å­¦ç”Ÿï¼Œè´­ç‰©è¾ƒå°‘ï¼Œç»å¸¸é—®å­¦é•¿é—®é¢˜ï¼›é¢„æµ‹å¹´é¾„ A = 15 + (â€“ 1) = 14 B: 16 å²é«˜ä¸‰å­¦ç”Ÿï¼Œè´­ç‰©è¾ƒå°‘ï¼Œç»å¸¸è¢«å­¦å¼Ÿé—®é—®é¢˜ï¼›é¢„æµ‹å¹´é¾„ B= 15 + (1) = 16 C: 24 å²åº”å±Šæ¯•ä¸šç”Ÿï¼Œè´­ç‰©è¾ƒå¤šï¼Œç»å¸¸é—®å¸ˆå…„é—®é¢˜ï¼›é¢„æµ‹å¹´é¾„ C = 25 + (-1) = 24 D: 26 å²å·¥ä½œä¸¤å¹´å‘˜å·¥ï¼Œè´­ç‰©è¾ƒå¤šï¼Œç»å¸¸è¢«å¸ˆå¼Ÿé—®é—®é¢˜ï¼›é¢„æµ‹å¹´é¾„ D = 25 + (â€“ 1) = 26 é‚£ä¹ˆå“ªé‡Œä½“ç°äº†Gradientå‘¢ï¼Ÿå…¶å®å›åˆ°ç¬¬ä¸€æ£µæ ‘ç»“æŸæ—¶æƒ³ä¸€æƒ³ï¼Œæ— è®ºæ­¤æ—¶çš„cost functionæ˜¯ä»€ä¹ˆï¼Œæ˜¯å‡æ–¹å·®è¿˜æ˜¯å‡å·®ï¼Œåªè¦å®ƒä»¥è¯¯å·®ä½œä¸ºè¡¡é‡æ ‡å‡†ï¼Œæ®‹å·®å‘é‡ (-1, 1, -1, 1) éƒ½æ˜¯å®ƒçš„å…¨å±€æœ€ä¼˜æ–¹å‘ï¼Œè¿™å°±æ˜¯Gradientã€‚ å…¶å® GBDT å¤§è‡´çš„è¿‡ç¨‹å°±æ˜¯è¿™ä¾‹å­ä¸­æ‰€è®²çš„ï¼Œä¸‹é¢æˆ‘ä»¬å†åšä¸€äº›æ·±å…¥çš„ç†è§£ GBDT æ·±å…¥ç†è§£å‰é¢è¯´äº†ï¼ŒGBDT æ˜¯å…ˆæœ‰ GBï¼ˆæ¢¯åº¦æå‡ï¼‰ï¼Œå†æœ‰ DTï¼ˆå†³ç­–æ ‘ï¼‰ï¼Œæ‰€ä»¥æˆ‘ä»¬å…ˆä» GB è®²èµ·. _Boosting_boosting åœ¨å‰é¢è®² AdaBoostæå‡ç®—æ³•çš„æ—¶å€™è®²äº†ï¼Œå°±æ˜¯é€šè¿‡è®­ç»ƒå¤šä¸ªå¼±åˆ†ç±»å™¨æ¥ç»„åˆæˆä¸€ä¸ªå¼ºåˆ†ç±»å™¨ï¼Œå½¢å¼å¦‚ä¸‹: F_m(x) = f_0 + \alpha_1 f_1(x) + \alpha_2 f_2(x) + \cdots + \alpha_m f_m(x)å…¶ä¸­ï¼Œ\(f_i(x),i = 1,2,\cdots,m\),æ˜¯å¼±åˆ†ç±»å™¨ï¼Œæ¯”å¦‚åœ¨ AdaBoostæå‡ä¸­æ˜¯ C4.5å†³ç­–æ ‘ï¼›\(F_m(x)\)æ˜¯æœ€ç»ˆå¾—åˆ°çš„å¼ºåˆ†ç±»å™¨ã€‚ _Gradient Boosting Modeling_ç»™å®šä¸€ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å¦‚ä½•æ„é€ è¿™äº›å¼±åˆ†ç±»å™¨å‘¢ï¼Ÿ Gradient Boosting Modeling ï¼ˆæ¢¯åº¦æå‡æ¨¡å‹ï¼‰ å°±æ˜¯æ„é€ è¿™äº›å¼±åˆ†ç±»å™¨çš„ä¸€ç§æ–¹æ³•ã€‚å®ƒæŒ‡çš„ä¸æ˜¯æŸä¸ªå…·ä½“çš„ç®—æ³•ï¼Œè€Œæ˜¯ä¸€ç§æ€æƒ³. æˆ‘ä»¬å…ˆä»æ™®é€šçš„æ¢¯åº¦ä¼˜åŒ–é—®é¢˜å…¥æ‰‹æ¥ç†è§£: find \ \hat{x} = arg \min_{x} f(x)é’ˆå¯¹è¿™ç§é—®é¢˜ï¼Œæœ‰ä¸ªç»å…¸çš„ç®—æ³•å« _Steepest Gradient Descent_ï¼Œä¹Ÿå°±æ˜¯æœ€æ·±æ¢¯åº¦ä¸‹é™æ³•ã€‚ç®—æ³•çš„å¤§è‡´è¿‡ç¨‹æ˜¯: ç»™å®šä¸€ä¸ªèµ·å§‹ç‚¹ \(x_0\) å¯¹ \(i = 1,2,\cdots,K\)åˆ†åˆ«åšå¦‚ä¸‹è¿­ä»£:\(\qquad x_i = x_{i-1} + \gamma_{i-1} \times g_{i-1}\)å…¶ä¸­ \(g_{i-1} = -\frac{\partial f}{\partial x} |_{x = x_{i-1}}\)è¡¨ç¤º fåœ¨ \(x_{i-1}\)ç‚¹çš„æ¢¯åº¦ ç›´åˆ° \(|g_{i-1}\)è¶³å¤Ÿå°ï¼Œæˆ–è€…æ˜¯ \(|x_i - x_{i-1}|\)è¶³å¤Ÿå° ä»¥ä¸Šè¿­ä»£è¿‡ç¨‹å¯ä»¥ç†è§£ä¸º: _æ•´ä¸ªå¯»ä¼˜çš„è¿‡ç¨‹å°±æ˜¯å°æ­¥å¿«è·‘çš„è¿‡ç¨‹ï¼Œæ¯è·‘ä¸€å°æ­¥ï¼Œéƒ½å¾€å‡½æ•°å½“å‰ä¸‹é™æœ€å¿«çš„é‚£ä¸ªæ–¹å‘èµ°ä¸€ç‚¹ï¼Œç›´åˆ°è¾¾åˆ°å¯æ¥å—çš„ç‚¹_. æˆ‘ä»¬å°†è¿™ä¸ªè¿­ä»£è¿‡ç¨‹å±•å¼€å¾—åˆ°å¯»ä¼˜çš„ç»“æœ: x_k = x_0 + \gamma_1 g_1 + \gamma_2 g_2 + \cdots + \gamma_k g_kè¿™ä¸ªå½¢å¼æ˜¯ä¸æ˜¯ä¸æœ€å¼€å§‹æˆ‘ä»¬è¦æ±‚çš„\(F_m(x)\)ç±»ä¼¼ï¼›æ„é€ \(F_m(x)\) æœ¬èº«ä¹Ÿæ˜¯ä¸€ä¸ªå¯»ä¼˜çš„è¿‡ç¨‹ï¼Œåªä¸è¿‡æˆ‘ä»¬å¯»æ‰¾çš„ä¸æ˜¯ä¸€ä¸ªæœ€ä¼˜ç‚¹ï¼Œè€Œæ˜¯ä¸€ä¸ªæœ€ä¼˜çš„å‡½æ•°ã€‚ å¯»æ‰¾æœ€ä¼˜å‡½æ•°è¿™ä¸ªç›®æ ‡ï¼Œä¹Ÿæ˜¯å®šä¹‰ä¸€ä¸ªæŸå¤±å‡½æ•°æ¥åš: find \ F_m = arg \ \min_{F} L(F) = arg \ \min_{F} \sum_{i=0}^N Loss(F(x_i),y_i)å…¶ä¸­ï¼Œ\(Loss(F(x_i),y_i)\)è¡¨ç¤ºæŸå¤±å‡½æ•°\(Loss()\) åœ¨ç¬¬iä¸ªæ ·æœ¬ä¸Šçš„æŸå¤±å€¼ï¼Œ \(x_i,y_i\)åˆ†åˆ«è¡¨ç¤ºç¬¬iä¸ªæ ·æœ¬çš„ç‰¹å¾å’Œç›®æ ‡å€¼ã€‚ç±»ä¼¼æœ€é€Ÿæ¢¯åº¦ä¸‹é™æ³•ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æ¢¯åº¦ä¸‹é™æ³•æ¥æ„é€ å¼±åˆ†ç±»å™¨ \(f_1,f_2,\cdots,f_m\)ï¼Œåªä¸è¿‡æ¯æ¬¡è¿­ä»£æ—¶ï¼Œä»¤: g_i = -\frac{\partial L}{\partial F}|_{F=F_{i-1}}å³æŸå¤±å‡½æ•°L()å¯¹Fæ±‚å–æ¢¯åº¦ã€‚ ä½†æ˜¯å‡½æ•°å¯¹å‡½æ•°æ±‚å¯¼ä¸å¥½ç†è§£ï¼Œè€Œä¸”é€šå¸¸éƒ½æ— æ³•é€šè¿‡ä¸Šè¿°å…¬å¼ç›´æ¥æ±‚è§£ã€‚äºæ˜¯å°±é‡‡å–ä¸€ä¸ªè¿‘ä¼¼çš„æ–¹æ³•ï¼ŒæŠŠå‡½æ•° ç†è§£æˆåœ¨æ‰€æœ‰æ ·æœ¬ä¸Šçš„ç¦»æ•£çš„å‡½æ•°å€¼ï¼Œå³:\(F_{i-1}\)ç†è§£æˆåœ¨æ‰€æœ‰æ ·æœ¬ä¸Šçš„ç¦»æ•£çš„å‡½æ•°å€¼ï¼Œå³: \left[ F_{i-1}(x_1),F_{i-1}(x_2),\cdots,F_{i-1}(x_N) \right]è¿™æ˜¯ä¸€ä¸ªN ç»´å‘é‡ï¼Œç„¶åè®¡ç®—: \hat{g}_i(x_k) = -\frac{\partial L}{\partial F(x_k)}|_{F = F_{i-1}},k = 1,2,\cdots,Nè¿™æ˜¯ä¸€ä¸ªå‡½æ•°å¯¹å‘é‡çš„æ±‚å¯¼ï¼Œå¾—åˆ°çš„ä¹Ÿæ˜¯ä¸€ä¸ªæ¢¯åº¦å‘é‡ã€‚æ³¨æ„ï¼Œè¿™é‡Œæ±‚å¯¼æ—¶çš„å˜é‡è¿˜æ˜¯å‡½æ•°Fï¼Œä¸æ˜¯æ ·æœ¬Xk ï¼Œåªä¸è¿‡å¯¹F(Xk)æ±‚å¯¼æ—¶ï¼Œå…¶ä»–çš„ Xi éƒ½å¯ä»¥çœ‹æˆå¸¸æ•°ã€‚ _Gradient Boosting Decision Tree_åœ¨ä¸Šè¿°ç®—æ³•è¿‡ç¨‹ä¸­ï¼Œå¦‚ä½•é€šè¿‡ \(\hat{g}_{i-1}(x_j),j = 1,2,\cdots,N\)æ„é€ æ‹Ÿåˆå‡½æ•°\(g_{i-1}\)å‘¢ï¼Œè¿™é‡Œæˆ‘ä»¬ç”¨çš„å°±æ˜¯ Decision Treeï¼ˆå†³ç­–æ ‘ï¼‰äº†. æ‰€ä»¥ç†è§£ GBDTï¼Œé‡ç‚¹æ˜¯å…ˆç†è§£ Gradient Boostingï¼Œå…¶æ¬¡æ‰æ˜¯ Decision Treeï¼›ä¹Ÿå°±æ˜¯è¯´ GBDT æ˜¯ Gradient Boosting çš„ä¸€ç§å…·ä½“å®ç°ï¼Œè¿™ä¸ªæ‹Ÿåˆå‡½æ•°ä¹Ÿå¯ä»¥æ”¹ç”¨å…¶ä»–çš„æ–¹æ³•ï¼Œåªä¸è¿‡å†³ç­–æ ‘å¥½ç”¨ä¸€ç‚¹ã€‚ _æŸå¤±å‡½æ•°_è°ˆåˆ° GBDT å¸¸å¬åˆ°çš„ä¸€ç§æè¿°æ˜¯ å…ˆæ„é€ ä¸€ä¸ª(å†³ç­–)æ ‘ï¼Œç„¶åä¸æ–­åœ¨å·²æœ‰æ¨¡å‹å’Œå®é™…æ ·æœ¬è¾“å‡ºçš„æ®‹å·®ä¸Šå†æ„é€ ä¸€æ£µæ ‘ï¼Œä¾æ¬¡è¿­ä»£ï¼›å…¶å®è¿™ä¸ªè¯´æ³•ä¸å…¨é¢ï¼Œå°½ç®¡åœ¨æœ¬ç¯‡å¼€å¤´çš„é‚£ä¸ª GBDT çš„ä¾‹å­ä¸­æ˜¯è¿™æ ·æè¿°çš„ï¼Œä½†æ‹Ÿåˆæ®‹å·®åªæ˜¯ GDBT çš„ä¸€ç§ç‰¹æ®Šæƒ…å†µï¼Œä¸‹é¢å¯¹æŸå¤±å‡½æ•°è¿›è¡Œè§£é‡Šå°±æ¸…æ¥šäº†. ä»å¯¹ GBM çš„æè¿°é‡Œå¯ä»¥çœ‹åˆ° Gradient Boosting è¿‡ç¨‹å’Œå…·ä½“ç”¨ä»€ä¹ˆæ ·çš„å¼±åˆ†ç±»å™¨æ˜¯å®Œå…¨ç‹¬ç«‹çš„ï¼Œå¯ä»¥ä»»æ„ç»„åˆï¼Œå› æ­¤è¿™é‡Œä¸å†åˆ»æ„å¼ºè°ƒç”¨å†³ç­–æ ‘æ¥æ„é€ å¼±åˆ†ç±»å™¨ï¼Œè½¬è€Œæˆ‘ä»¬æ¥ä»”ç»†çœ‹çœ‹å¼±åˆ†ç±»å™¨æ‹Ÿåˆçš„ç›®æ ‡å€¼ï¼Œå³æ¢¯åº¦| \(\hat{g}_{i-1}(x_j)\)ï¼Œä¹‹å‰æˆ‘ä»¬å·²ç»æåˆ°è¿‡ \hat{g}_i(x_k) = -\frac{\partial L}{\partial F(x_k)}|_{F = F_{i-1}},k = 1,2,\cdots,Nå› æ­¤ \(\frac{\partial L}{\partial F(x_k)}\)å¾ˆé‡è¦ï¼Œä»¥å¹³æ–¹å·®æŸå¤±å‡½æ•°ä¸ºä¾‹ï¼Œå¾—: \frac{\partial L}{\partial F(x_k)}|_{F = F_{i-1}} = 2(F_{i-1}(x_k) - y_k)å¿½ç•¥ 2 å€ï¼Œåé¢æ‹¬å·ä¸­æ­£æ˜¯å½“å‰å·²ç»æ„é€ å¥½çš„å‡½æ•°\(F_{i-1}\)åœ¨æ ·æœ¬ä¸Šå’Œç›®æ ‡å€¼Ykä¹‹é—´çš„å·®å€¼.å¦‚æœæˆ‘ä»¬æ¢ä¸€ä¸ªæŸå¤±å‡½æ•°ï¼Œæ¯”å¦‚ç»å¯¹å·®: Loss(F(x_i),y_i) = |F(x_i) - y_i|è¿™ä¸ªæŸå¤±å‡½æ•°çš„æ¢¯åº¦æ˜¯ä¸ªç¬¦å·å‡½æ•°: {\frac{\partial L}{\partial F(x_k)}|_{F = F_{i-1}} = sign(F_{i-1}(x_k) - y_k)}ç”±æ­¤å¯ä»¥çœ‹åˆ°ï¼Œåªæœ‰å½“æŸå¤±å‡½æ•°ä¸ºå¹³æ–¹å·®å‡½æ•°æ—¶ï¼Œæ‰èƒ½è¯´ GBDT æ˜¯é€šè¿‡æ‹Ÿåˆæ®‹å·®æ¥æ„é€ å¼±åˆ†ç±»å™¨çš„ï¼Œæ¯”å¦‚ä¸Šé¢è¯´çš„å¯¹æ®‹å·®ä¸æ–­çš„ç”¨å†³ç­–å›å½’æ ‘æ¥æ‹Ÿåˆã€‚ çŸ¥ä¹ä¸Šå…³äºxgboost/gbdtè®¨è®ºçš„ç»å…¸é—®ç­”ã€é—®ã€‘xgboost/gbdtåœ¨è°ƒå‚æ—¶ä¸ºä»€ä¹ˆæ ‘çš„æ·±åº¦å¾ˆå°‘å°±èƒ½è¾¾åˆ°å¾ˆé«˜çš„ç²¾åº¦ï¼Ÿ ç”¨xgboost/gbdtåœ¨åœ¨è°ƒå‚çš„æ—¶å€™æŠŠæ ‘çš„æœ€å¤§æ·±åº¦è°ƒæˆ6å°±æœ‰å¾ˆé«˜çš„ç²¾åº¦äº†ã€‚ä½†æ˜¯ç”¨DecisionTree/RandomForestçš„æ—¶å€™éœ€è¦æŠŠæ ‘çš„æ·±åº¦è°ƒåˆ°15æˆ–æ›´é«˜ã€‚ç”¨RandomForestæ‰€éœ€è¦çš„æ ‘çš„æ·±åº¦å’ŒDecisionTreeä¸€æ ·æˆ‘èƒ½ç†è§£ï¼Œå› ä¸ºå®ƒæ˜¯ç”¨baggingçš„æ–¹æ³•æŠŠDecisionTreeç»„åˆåœ¨ä¸€èµ·ï¼Œç›¸å½“äºåšäº†å¤šæ¬¡DecisionTreeä¸€æ ·ã€‚ä½†æ˜¯xgboost/gbdtä»…ä»…ç”¨æ¢¯åº¦ä¸Šå‡æ³•å°±èƒ½ç”¨6ä¸ªèŠ‚ç‚¹çš„æ·±åº¦è¾¾åˆ°å¾ˆé«˜çš„é¢„æµ‹ç²¾åº¦ï¼Œä½¿æˆ‘æƒŠè®¶åˆ°æ€€ç–‘å®ƒæ˜¯é»‘ç§‘æŠ€äº†ã€‚è¯·é—®ä¸‹xgboost/gbdtæ˜¯æ€ä¹ˆåšåˆ°çš„ï¼Ÿå®ƒçš„èŠ‚ç‚¹å’Œä¸€èˆ¬çš„DecisionTreeä¸åŒå—ï¼Ÿã€ç­”ã€‘ è¿™æ˜¯ä¸€ä¸ªéå¸¸å¥½çš„é—®é¢˜ï¼Œé¢˜ä¸»å¯¹å„ç®—æ³•çš„å­¦ä¹ éå¸¸ç»†è‡´é€å½»ï¼Œé—®çš„é—®é¢˜ä¹Ÿå…³ç³»åˆ°è¿™ä¸¤ä¸ªç®—æ³•çš„æœ¬è´¨ã€‚è¿™ä¸ªé—®é¢˜å…¶å®å¹¶ä¸æ˜¯ä¸€ä¸ªå¾ˆç®€å•çš„é—®é¢˜ï¼Œæˆ‘å°è¯•ç”¨æˆ‘æµ…è–„çš„æœºå™¨å­¦ä¹ çŸ¥è¯†å¯¹è¿™ä¸ªé—®é¢˜è¿›è¡Œå›ç­”ã€‚ ä¸€å¥è¯çš„è§£é‡Šï¼Œæ¥è‡ªå‘¨å¿—åè€å¸ˆçš„æœºå™¨å­¦ä¹ æ•™ç§‘ä¹¦ï¼ˆ æœºå™¨å­¦ä¹ -å‘¨å¿—åï¼‰ï¼šBoostingä¸»è¦å…³æ³¨é™ä½åå·®ï¼Œå› æ­¤Boostingèƒ½åŸºäºæ³›åŒ–æ€§èƒ½ç›¸å½“å¼±çš„å­¦ä¹ å™¨æ„å»ºå‡ºå¾ˆå¼ºçš„é›†æˆï¼›Baggingä¸»è¦å…³æ³¨é™ä½æ–¹å·®ï¼Œå› æ­¤å®ƒåœ¨ä¸å‰ªæçš„å†³ç­–æ ‘ã€ç¥ç»ç½‘ç»œç­‰å­¦ä¹ å™¨ä¸Šæ•ˆç”¨æ›´ä¸ºæ˜æ˜¾ã€‚ éšæœºæ£®æ—(random forest)å’ŒGBDTéƒ½æ˜¯å±äºé›†æˆå­¦ä¹ ï¼ˆensemble learning)çš„èŒƒç•´ã€‚é›†æˆå­¦ä¹ ä¸‹æœ‰ä¸¤ä¸ªé‡è¦çš„ç­–ç•¥Baggingå’ŒBoostingã€‚ Baggingç®—æ³•æ˜¯è¿™æ ·åšçš„ï¼šæ¯ä¸ªåˆ†ç±»å™¨éƒ½éšæœºä»åŸæ ·æœ¬ä¸­åšæœ‰æ”¾å›çš„é‡‡æ ·ï¼Œç„¶ååˆ†åˆ«åœ¨è¿™äº›é‡‡æ ·åçš„æ ·æœ¬ä¸Šè®­ç»ƒåˆ†ç±»å™¨ï¼Œç„¶åå†æŠŠè¿™äº›åˆ†ç±»å™¨ç»„åˆèµ·æ¥ã€‚ç®€å•çš„å¤šæ•°æŠ•ç¥¨ä¸€èˆ¬å°±å¯ä»¥ã€‚å…¶ä»£è¡¨ç®—æ³•æ˜¯éšæœºæ£®æ—ã€‚Boostingçš„æ„æ€æ˜¯è¿™æ ·ï¼Œä»–é€šè¿‡è¿­ä»£åœ°è®­ç»ƒä¸€ç³»åˆ—çš„åˆ†ç±»å™¨ï¼Œæ¯ä¸ªåˆ†ç±»å™¨é‡‡ç”¨çš„æ ·æœ¬åˆ†å¸ƒéƒ½å’Œä¸Šä¸€è½®çš„å­¦ä¹ ç»“æœæœ‰å…³ã€‚å…¶ä»£è¡¨ç®—æ³•æ˜¯AdaBoost, GBDTã€‚ å…¶å®å°±æœºå™¨å­¦ä¹ ç®—æ³•æ¥è¯´ï¼Œå…¶æ³›åŒ–è¯¯å·®å¯ä»¥åˆ†è§£ä¸ºä¸¤éƒ¨åˆ†ï¼Œåå·®ï¼ˆbias)å’Œæ–¹å·®(variance)ã€‚è¿™ä¸ªå¯ç”±ä¸‹å›¾çš„å¼å­å¯¼å‡ºï¼ˆè¿™é‡Œç”¨åˆ°äº†æ¦‚ç‡è®ºå…¬å¼D(X)=E(X^2)-[E(X)]^2ï¼‰ã€‚åå·®æŒ‡çš„æ˜¯ç®—æ³•çš„æœŸæœ›é¢„æµ‹ä¸çœŸå®é¢„æµ‹ä¹‹é—´çš„åå·®ç¨‹åº¦ï¼Œååº”äº†æ¨¡å‹æœ¬èº«çš„æ‹Ÿåˆèƒ½åŠ›ï¼›æ–¹å·®åº¦é‡äº†åŒç­‰å¤§å°çš„è®­ç»ƒé›†çš„å˜åŠ¨å¯¼è‡´å­¦ä¹ æ€§èƒ½çš„å˜åŒ–ï¼Œåˆ»ç”»äº†æ•°æ®æ‰°åŠ¨æ‰€å¯¼è‡´çš„å½±å“ã€‚è¿™ä¸ªæœ‰ç‚¹å„¿ç»•ï¼Œä¸è¿‡ä½ ä¸€å®šçŸ¥é“è¿‡æ‹Ÿåˆã€‚ å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå½“æ¨¡å‹è¶Šå¤æ‚æ—¶ï¼Œæ‹Ÿåˆçš„ç¨‹åº¦å°±è¶Šé«˜ï¼Œæ¨¡å‹çš„è®­ç»ƒåå·®å°±è¶Šå°ã€‚ä½†æ­¤æ—¶å¦‚æœæ¢ä¸€ç»„æ•°æ®å¯èƒ½æ¨¡å‹çš„å˜åŒ–å°±ä¼šå¾ˆå¤§ï¼Œå³æ¨¡å‹çš„æ–¹å·®å¾ˆå¤§ã€‚æ‰€ä»¥æ¨¡å‹è¿‡äºå¤æ‚çš„æ—¶å€™ä¼šå¯¼è‡´è¿‡æ‹Ÿåˆã€‚ å½“æ¨¡å‹è¶Šç®€å•æ—¶ï¼Œå³ä½¿æˆ‘ä»¬å†æ¢ä¸€ç»„æ•°æ®ï¼Œæœ€åå¾—å‡ºçš„å­¦ä¹ å™¨å’Œä¹‹å‰çš„å­¦ä¹ å™¨çš„å·®åˆ«å°±ä¸é‚£ä¹ˆå¤§ï¼Œæ¨¡å‹çš„æ–¹å·®å¾ˆå°ã€‚è¿˜æ˜¯å› ä¸ºæ¨¡å‹ç®€å•ï¼Œæ‰€ä»¥åå·®ä¼šå¾ˆå¤§ã€‚ ä¹Ÿå°±æ˜¯è¯´ï¼Œå½“æˆ‘ä»¬è®­ç»ƒä¸€ä¸ªæ¨¡å‹æ—¶ï¼Œåå·®å’Œæ–¹å·®éƒ½å¾—ç…§é¡¾åˆ°ï¼Œæ¼æ‰ä¸€ä¸ªéƒ½ä¸è¡Œã€‚ å¯¹äºBaggingç®—æ³•æ¥è¯´ï¼Œç”±äºæˆ‘ä»¬ä¼šå¹¶è¡Œåœ°è®­ç»ƒå¾ˆå¤šä¸åŒçš„åˆ†ç±»å™¨çš„ç›®çš„å°±æ˜¯é™ä½è¿™ä¸ªæ–¹å·®(variance) ,å› ä¸ºé‡‡ç”¨äº†ç›¸äº’ç‹¬ç«‹çš„åŸºåˆ†ç±»å™¨å¤šäº†ä»¥åï¼Œhçš„å€¼è‡ªç„¶å°±ä¼šé è¿‘.æ‰€ä»¥å¯¹äºæ¯ä¸ªåŸºåˆ†ç±»å™¨æ¥è¯´ï¼Œç›®æ ‡å°±æ˜¯å¦‚ä½•é™ä½è¿™ä¸ªåå·®ï¼ˆbias),æ‰€ä»¥æˆ‘ä»¬ä¼šé‡‡ç”¨æ·±åº¦å¾ˆæ·±ç”šè‡³ä¸å‰ªæçš„å†³ç­–æ ‘ã€‚ å¯¹äºBoostingæ¥è¯´ï¼Œæ¯ä¸€æ­¥æˆ‘ä»¬éƒ½ä¼šåœ¨ä¸Šä¸€è½®çš„åŸºç¡€ä¸Šæ›´åŠ æ‹ŸåˆåŸæ•°æ®ï¼Œæ‰€ä»¥å¯ä»¥ä¿è¯åå·®ï¼ˆbiasï¼‰,æ‰€ä»¥å¯¹äºæ¯ä¸ªåŸºåˆ†ç±»å™¨æ¥è¯´ï¼Œé—®é¢˜å°±åœ¨äºå¦‚ä½•é€‰æ‹©varianceæ›´å°çš„åˆ†ç±»å™¨ï¼Œå³æ›´ç®€å•çš„åˆ†ç±»å™¨ï¼Œæ‰€ä»¥æˆ‘ä»¬é€‰æ‹©äº†æ·±åº¦å¾ˆæµ…çš„å†³ç­–æ ‘ã€‚ ã€é—®ã€‘æœºå™¨å­¦ä¹ ç®—æ³•ä¸­GBDTå’ŒXGBOOSTçš„åŒºåˆ«æœ‰å“ªäº›ï¼Ÿã€ç­”ã€‘ä¼ ç»ŸGBDTä»¥CARTä½œä¸ºåŸºåˆ†ç±»å™¨ï¼Œxgboostè¿˜æ”¯æŒçº¿æ€§åˆ†ç±»å™¨ï¼Œè¿™ä¸ªæ—¶å€™xgboostç›¸å½“äºå¸¦L1å’ŒL2æ­£åˆ™åŒ–é¡¹çš„é€»è¾‘æ–¯è’‚å›å½’ï¼ˆåˆ†ç±»é—®é¢˜ï¼‰æˆ–è€…çº¿æ€§å›å½’ï¼ˆå›å½’é—®é¢˜ï¼‰ã€‚ ä¼ ç»ŸGBDTåœ¨ä¼˜åŒ–æ—¶åªç”¨åˆ°ä¸€é˜¶å¯¼æ•°ä¿¡æ¯ï¼Œxgbooståˆ™å¯¹ä»£ä»·å‡½æ•°è¿›è¡Œäº†äºŒé˜¶æ³°å‹’å±•å¼€ï¼ŒåŒæ—¶ç”¨åˆ°äº†ä¸€é˜¶å’ŒäºŒé˜¶å¯¼æ•°ã€‚é¡ºä¾¿æä¸€ä¸‹ï¼Œxgboostå·¥å…·æ”¯æŒè‡ªå®šä¹‰ä»£ä»·å‡½æ•°ï¼Œåªè¦å‡½æ•°å¯ä¸€é˜¶å’ŒäºŒé˜¶æ±‚å¯¼ã€‚ xgbooståœ¨ä»£ä»·å‡½æ•°é‡ŒåŠ å…¥äº†æ­£åˆ™é¡¹ï¼Œç”¨äºæ§åˆ¶æ¨¡å‹çš„å¤æ‚åº¦ã€‚æ­£åˆ™é¡¹é‡ŒåŒ…å«äº†æ ‘çš„å¶å­èŠ‚ç‚¹ä¸ªæ•°ã€æ¯ä¸ªå¶å­èŠ‚ç‚¹ä¸Šè¾“å‡ºçš„scoreçš„L2æ¨¡çš„å¹³æ–¹å’Œã€‚ä»Bias-variance tradeoffè§’åº¦æ¥è®²ï¼Œæ­£åˆ™é¡¹é™ä½äº†æ¨¡å‹çš„varianceï¼Œä½¿å­¦ä¹ å‡ºæ¥çš„æ¨¡å‹æ›´åŠ ç®€å•ï¼Œé˜²æ­¢è¿‡æ‹Ÿåˆï¼Œè¿™ä¹Ÿæ˜¯xgboostä¼˜äºä¼ ç»ŸGBDTçš„ä¸€ä¸ªç‰¹æ€§ã€‚ Shrinkageï¼ˆç¼©å‡ï¼‰ï¼Œç›¸å½“äºå­¦ä¹ é€Ÿç‡ï¼ˆxgboostä¸­çš„etaï¼‰ã€‚xgbooståœ¨è¿›è¡Œå®Œä¸€æ¬¡è¿­ä»£åï¼Œä¼šå°†å¶å­èŠ‚ç‚¹çš„æƒé‡ä¹˜ä¸Šè¯¥ç³»æ•°ï¼Œä¸»è¦æ˜¯ä¸ºäº†å‰Šå¼±æ¯æ£µæ ‘çš„å½±å“ï¼Œè®©åé¢æœ‰æ›´å¤§çš„å­¦ä¹ ç©ºé—´ã€‚å®é™…åº”ç”¨ä¸­ï¼Œä¸€èˆ¬æŠŠetaè®¾ç½®å¾—å°ä¸€ç‚¹ï¼Œç„¶åè¿­ä»£æ¬¡æ•°è®¾ç½®å¾—å¤§ä¸€ç‚¹ã€‚ï¼ˆè¡¥å……ï¼šä¼ ç»ŸGBDTçš„å®ç°ä¹Ÿæœ‰å­¦ä¹ é€Ÿç‡ï¼‰ åˆ—æŠ½æ ·ï¼ˆcolumn subsamplingï¼‰å³ç‰¹å¾æŠ½æ ·ã€‚xgboostå€Ÿé‰´äº†éšæœºæ£®æ—çš„åšæ³•ï¼Œæ”¯æŒåˆ—æŠ½æ ·ï¼Œä¸ä»…èƒ½é™ä½è¿‡æ‹Ÿåˆï¼Œè¿˜èƒ½å‡å°‘è®¡ç®—ï¼Œè¿™ä¹Ÿæ˜¯xgboostå¼‚äºä¼ ç»Ÿgbdtçš„ä¸€ä¸ªç‰¹æ€§ã€‚ å¯¹ç¼ºå¤±å€¼çš„å¤„ç†ã€‚å¯¹äºç‰¹å¾çš„å€¼æœ‰ç¼ºå¤±çš„æ ·æœ¬ï¼Œxgboostå¯ä»¥è‡ªåŠ¨å­¦ä¹ å‡ºå®ƒçš„åˆ†è£‚æ–¹å‘ã€‚ xgboostå·¥å…·æ”¯æŒå¹¶è¡Œã€‚boostingä¸æ˜¯ä¸€ç§ä¸²è¡Œçš„ç»“æ„å—?æ€ä¹ˆå¹¶è¡Œçš„ï¼Ÿæ³¨æ„xgboostçš„å¹¶è¡Œä¸æ˜¯treeç²’åº¦çš„å¹¶è¡Œï¼Œxgboostä¹Ÿæ˜¯ä¸€æ¬¡è¿­ä»£å®Œæ‰èƒ½è¿›è¡Œä¸‹ä¸€æ¬¡è¿­ä»£çš„ï¼ˆç¬¬tæ¬¡è¿­ä»£çš„ä»£ä»·å‡½æ•°é‡ŒåŒ…å«äº†å‰é¢t-1æ¬¡è¿­ä»£çš„é¢„æµ‹å€¼ï¼‰ã€‚xgboostçš„å¹¶è¡Œæ˜¯åœ¨ç‰¹å¾ç²’åº¦ä¸Šçš„ã€‚æˆ‘ä»¬çŸ¥é“ï¼Œå†³ç­–æ ‘çš„å­¦ä¹ æœ€è€—æ—¶çš„ä¸€ä¸ªæ­¥éª¤å°±æ˜¯å¯¹ç‰¹å¾çš„å€¼è¿›è¡Œæ’åºï¼ˆå› ä¸ºè¦ç¡®å®šæœ€ä½³åˆ†å‰²ç‚¹ï¼‰ï¼Œxgbooståœ¨è®­ç»ƒä¹‹å‰ï¼Œé¢„å…ˆå¯¹æ•°æ®è¿›è¡Œäº†æ’åºï¼Œç„¶åä¿å­˜ä¸ºblockç»“æ„ï¼Œåé¢çš„è¿­ä»£ä¸­é‡å¤åœ°ä½¿ç”¨è¿™ä¸ªç»“æ„ï¼Œå¤§å¤§å‡å°è®¡ç®—é‡ã€‚è¿™ä¸ªblockç»“æ„ä¹Ÿä½¿å¾—å¹¶è¡Œæˆä¸ºäº†å¯èƒ½ï¼Œåœ¨è¿›è¡ŒèŠ‚ç‚¹çš„åˆ†è£‚æ—¶ï¼Œéœ€è¦è®¡ç®—æ¯ä¸ªç‰¹å¾çš„å¢ç›Šï¼Œæœ€ç»ˆé€‰å¢ç›Šæœ€å¤§çš„é‚£ä¸ªç‰¹å¾å»åšåˆ†è£‚ï¼Œé‚£ä¹ˆå„ä¸ªç‰¹å¾çš„å¢ç›Šè®¡ç®—å°±å¯ä»¥å¼€å¤šçº¿ç¨‹è¿›è¡Œã€‚å¯å¹¶è¡Œçš„è¿‘ä¼¼ç›´æ–¹å›¾ç®—æ³•ã€‚æ ‘èŠ‚ç‚¹åœ¨è¿›è¡Œåˆ†è£‚æ—¶ï¼Œæˆ‘ä»¬éœ€è¦è®¡ç®—æ¯ä¸ªç‰¹å¾çš„æ¯ä¸ªåˆ†å‰²ç‚¹å¯¹åº”çš„å¢ç›Šï¼Œå³ç”¨è´ªå¿ƒæ³•æšä¸¾æ‰€æœ‰å¯èƒ½çš„åˆ†å‰²ç‚¹ã€‚å½“æ•°æ®æ— æ³•ä¸€æ¬¡è½½å…¥å†…å­˜æˆ–è€…åœ¨åˆ†å¸ƒå¼æƒ…å†µä¸‹ï¼Œè´ªå¿ƒç®—æ³•æ•ˆç‡å°±ä¼šå˜å¾—å¾ˆä½ï¼Œæ‰€ä»¥xgboostè¿˜æå‡ºäº†ä¸€ç§å¯å¹¶è¡Œçš„è¿‘ä¼¼ç›´æ–¹å›¾ç®—æ³•ï¼Œç”¨äºé«˜æ•ˆåœ°ç”Ÿæˆå€™é€‰çš„åˆ†å‰²ç‚¹ã€‚ å¤šç§è¯­è¨€å°è£…æ”¯æŒã€‚ ã€é—®ã€‘ä¸ºä»€ä¹ˆåŸºäº tree-ensemble çš„æœºå™¨å­¦ä¹ æ–¹æ³•ï¼Œåœ¨å®é™…çš„ kaggle æ¯”èµ›ä¸­æ•ˆæœéå¸¸å¥½ï¼Ÿã€ç­”ã€‘ä½œè€…ï¼šé©¬è¶…é“¾æ¥ï¼šhttps://www.zhihu.com/question/51818176/answer/127637712æ¥æºï¼šçŸ¥ä¹è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚ é€šå¸¸ï¼Œè§£é‡Šä¸€ä¸ªæœºå™¨å­¦ä¹ æ¨¡å‹çš„è¡¨ç°æ˜¯ä¸€ä»¶å¾ˆå¤æ‚äº‹æƒ…ï¼Œè€Œè¿™ç¯‡æ–‡ç« å°½å¯èƒ½ç”¨æœ€ç›´è§‚çš„æ–¹å¼æ¥è§£é‡Šè¿™ä¸€é—®é¢˜ã€‚æˆ‘ä¸»è¦ä»ä¸‰ä¸ªæ–¹é¢æ¥å›ç­”æ¥¼ä¸»è¿™ä¸ªé—®é¢˜ã€‚ ç†è®ºæ¨¡å‹ ï¼ˆç«™åœ¨ vc-dimension çš„è§’åº¦ï¼‰ å®é™…æ•°æ® ç³»ç»Ÿçš„å®ç° ï¼ˆä¸»è¦åŸºäº xgboostï¼‰é€šå¸¸å†³å®šä¸€ä¸ªæœºå™¨å­¦ä¹ æ¨¡å‹èƒ½ä¸èƒ½å–å¾—å¥½çš„æ•ˆæœï¼Œä»¥ä¸Šä¸‰ä¸ªæ–¹é¢çš„å› ç´ ç¼ºä¸€ä¸å¯ã€‚ ï¼ˆ1ï¼‰ç«™åœ¨ç†è®ºæ¨¡å‹çš„è§’åº¦ç»Ÿè®¡æœºå™¨å­¦ä¹ é‡Œç»å…¸çš„ vc-dimension ç†è®ºå‘Šè¯‰æˆ‘ä»¬ï¼šä¸€ä¸ªæœºå™¨å­¦ä¹ æ¨¡å‹æƒ³è¦å–å¾—å¥½çš„æ•ˆæœï¼Œè¿™ä¸ªæ¨¡å‹éœ€è¦æ»¡è¶³ä»¥ä¸‹ä¸¤ä¸ªæ¡ä»¶ï¼š æ¨¡å‹åœ¨æˆ‘ä»¬çš„è®­ç»ƒæ•°æ®ä¸Šçš„è¡¨ç°è¦ä¸é”™ï¼Œä¹Ÿå°±æ˜¯ trainning error è¦è¶³å¤Ÿå°ã€‚ æ¨¡å‹çš„ vc-dimension è¦ä½ã€‚æ¢å¥è¯è¯´ï¼Œå°±æ˜¯æ¨¡å‹çš„è‡ªç”±åº¦ä¸èƒ½å¤ªå¤§ï¼Œä»¥é˜²overfit.å½“ç„¶ï¼Œè¿™æ˜¯æˆ‘ç”¨å¤§ç™½è¯æè¿°å‡ºæ¥çš„ï¼ŒçœŸæ­£çš„ vc-dimension ç†è®ºéœ€è¦ç»è¿‡å¤æ‚çš„æ•°å­¦æ¨å¯¼ï¼Œæ¨å‡º vc-bound. vc-dimension ç†è®ºå…¶å®æ˜¯ä»å¦ä¸€ä¸ªè§’åº¦åˆ»ç”»äº†ä¸€ä¸ªæˆ‘ä»¬æ‰€ç†ŸçŸ¥çš„æ¦‚å¿µï¼Œé‚£å°±æ˜¯ bias variance trade-off. å¥½ï¼Œç°åœ¨å¼€å§‹è®©æˆ‘ä»¬æƒ³è±¡ä¸€ä¸ªæœºå™¨å­¦ä¹ ä»»åŠ¡ã€‚å¯¹äºè¿™ä¸ªä»»åŠ¡ï¼Œä¸€å®šä¼šæœ‰ä¸€ä¸ª â€œä¸Šå¸å‡½æ•°â€ å¯ä»¥å®Œç¾çš„æ‹Ÿåˆæ‰€æœ‰æ•°æ®ï¼ˆåŒ…æ‹¬è®­ç»ƒæ•°æ®ï¼Œä»¥åŠæœªçŸ¥çš„æµ‹è¯•æ•°æ®ï¼‰ã€‚å¾ˆå¯æƒœï¼Œè¿™ä¸ªå‡½æ•°æˆ‘ä»¬è‚¯å®šæ˜¯ä¸çŸ¥é“çš„ ï¼ˆä¸ç„¶å°±ä¸éœ€è¦æœºå™¨å­¦ä¹ äº†ï¼‰ã€‚æˆ‘ä»¬åªå¯èƒ½é€‰æ‹©ä¸€ä¸ª â€œå‡æƒ³å‡½æ•°â€ æ¥ é€¼è¿‘ è¿™ä¸ª â€œä¸Šå¸å‡½æ•°â€ï¼Œæˆ‘ä»¬é€šå¸¸æŠŠè¿™ä¸ª â€œå‡æƒ³å‡½æ•°â€ å«åš hypothesis. åœ¨è¿™äº› hypothesis é‡Œï¼Œæˆ‘ä»¬å¯ä»¥é€‰æ‹© svm, ä¹Ÿå¯ä»¥é€‰æ‹© logistic regression. å¯ä»¥é€‰æ‹©å•æ£µå†³ç­–æ ‘ï¼Œä¹Ÿå¯ä»¥é€‰æ‹© tree-ensemble (gbdt, random forest). ç°åœ¨çš„é—®é¢˜å°±æ˜¯ï¼Œä¸ºä»€ä¹ˆ tree-ensemble åœ¨å®é™…ä¸­çš„æ•ˆæœå¾ˆå¥½å‘¢ï¼Ÿ åŒºåˆ«å°±åœ¨äº â€œæ¨¡å‹çš„å¯æ§æ€§â€ã€‚ å…ˆè¯´ç»“è®ºï¼Œtree-ensemble è¿™æ ·çš„æ¨¡å‹çš„å¯æ§æ€§æ˜¯å¥½çš„ï¼Œè€Œåƒ LR è¿™æ ·çš„æ¨¡å‹çš„å¯æ§æ€§æ˜¯ä¸å¤Ÿå¥½çš„ï¼ˆæˆ–è€…è¯´ï¼Œå¯æ§æ€§æ˜¯æ²¡æœ‰ tree-ensemble å¥½çš„ï¼‰ã€‚ä¸ºä»€ä¹ˆä¼šè¿™æ ·ï¼Ÿåˆ«æ€¥ï¼Œå¬æˆ‘æ…¢æ…¢é“æ¥ã€‚ æˆ‘ä»¬ä¹‹å‰è¯´ï¼Œå½“æˆ‘ä»¬é€‰æ‹©ä¸€ä¸ª hypothsis åï¼Œå°±éœ€è¦åœ¨è®­ç»ƒæ•°æ®ä¸Šè¿›è¡Œè®­ç»ƒï¼Œä»è€Œé€¼è¿‘æˆ‘ä»¬çš„ â€œä¸Šå¸å‡½æ•°â€ã€‚æˆ‘ä»¬éƒ½çŸ¥é“ï¼Œå¯¹äº LR è¿™æ ·çš„æ¨¡å‹ã€‚å¦‚æœ underfitï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡åŠ  featureï¼Œæˆ–è€…é€šè¿‡é«˜æ¬¡çš„ç‰¹å¾è½¬æ¢æ¥ä½¿å¾—æˆ‘ä»¬çš„æ¨¡å‹åœ¨è®­ç»ƒæ•°æ®ä¸Šå–å¾—è¶³å¤Ÿé«˜çš„æ­£ç¡®ç‡ã€‚è€Œå¯¹äº tree-enseble æ¥è¯´ï¼Œæˆ‘ä»¬è§£å†³è¿™ä¸€é—®é¢˜çš„æ–¹æ³•æ˜¯é€šè¿‡è®­ç»ƒæ›´å¤šçš„ â€œå¼±å¼±â€ çš„ tree. æ‰€ä»¥ï¼Œè¿™ä¸¤ç±»æ¨¡å‹éƒ½å¯ä»¥æŠŠ training error åšçš„è¶³å¤Ÿä½ï¼Œä¹Ÿå°±æ˜¯è¯´æ¨¡å‹çš„è¡¨è¾¾èƒ½åŠ›éƒ½æ˜¯è¶³å¤Ÿçš„ã€‚ä½†æ˜¯è¿™æ ·å°±å®Œäº‹äº†å—ï¼Ÿæ²¡æœ‰ï¼Œæˆ‘ä»¬è¿˜éœ€è¦è®©æˆ‘ä»¬çš„æ¨¡å‹çš„ vc-dimension ä½ä¸€äº›ã€‚è€Œè¿™é‡Œï¼Œé‡ç‚¹æ¥äº†ã€‚åœ¨ tree-ensemble æ¨¡å‹ä¸­ï¼Œé€šè¿‡åŠ  tree çš„æ–¹å¼ï¼Œå¯¹äºæ¨¡å‹çš„ vc-dimension çš„æ”¹å˜æ˜¯æ¯”è¾ƒå°çš„ã€‚è€Œåœ¨ LR ä¸­ï¼Œåˆå§‹çš„ç»´æ•°è®¾å®šï¼Œæˆ–è€…è¯´ç‰¹å¾çš„é«˜æ¬¡è½¬æ¢å¯¹äº vc-dimension çš„å½±å“éƒ½æ˜¯æ›´å¤§çš„ã€‚æ¢å¥è¯è¯´ï¼Œtree-ensemble æ€»æ˜¯ç”¨ä¸€äº› â€œå¼±å¼±â€ çš„æ ‘è”åˆèµ·æ¥å»é€¼è¿‘ â€œä¸Šå¸å‡½æ•°â€ï¼Œä¸€æ¬¡ä¸€å°æ­¥ï¼Œæ€»èƒ½æ‹Ÿåˆçš„æ¯”è¾ƒå¥½ã€‚è€Œå¯¹äº LR è¿™æ ·çš„æ¨¡å‹ï¼Œæˆ‘ä»¬å¾ˆéš¾å»çŒœåˆ°è¿™ä¸ªâ€œä¸Šå¸å‡½æ•°â€åˆ°åº•é•¿ä»€ä¹ˆæ ·å­ï¼ˆåˆ°åº•æ˜¯2æ¬¡å‡½æ•°è¿˜æ˜¯3æ¬¡å‡½æ•°ï¼Ÿä¸Šå¸å‡½æ•°å¦‚æœæ˜¯ä»‹äº2æ¬¡å’Œ3æ¬¡ä¹‹é—´æ€ä¹ˆåŠå‘¢ï¼Ÿï¼‰ã€‚æ‰€ä»¥ï¼Œä¸€ä¸å°å¿ƒæˆ‘ä»¬è®¾å®šçš„å¤šé¡¹å¼ç»´æ•°é«˜äº†ï¼Œæ¨¡å‹å°± â€œåˆ¹ä¸ä½è½¦äº†â€ã€‚ä¿—è¯è¯´çš„å¥½ï¼Œæ­¥å­å¤§äº†ï¼Œæ€»ä¼šæ‰¯ç€è›‹ã€‚è¿™ä¹Ÿå°±æ˜¯æˆ‘ä»¬ä¹‹å‰è¯´çš„ï¼Œtree-ensemble æ¨¡å‹çš„å¯æ§æ€§æ›´å¥½ï¼Œä¹Ÿå³æ›´ä¸å®¹æ˜“ overfit. ï¼ˆ2ï¼‰ç«™åœ¨æ•°æ®çš„è§’åº¦ é™¤äº†ç†è®ºæ¨¡å‹ä¹‹å¤–, å®é™…çš„æ•°æ®ä¹Ÿå¯¹æˆ‘ä»¬çš„ç®—æ³•æœ€ç»ˆèƒ½å–å¾—å¥½çš„æ•ˆæœæ¯æ¯ç›¸å…³ã€‚kaggle æ¯”èµ›é€‰æ‹©çš„éƒ½æ˜¯çœŸå®ä¸–ç•Œä¸­çš„é—®é¢˜ã€‚æ‰€ä»¥æ•°æ®å¤šå¤šå°‘å°‘éƒ½æ˜¯æœ‰å™ªéŸ³çš„ã€‚è€ŒåŸºäºæ ‘çš„ç®—æ³•é€šå¸¸æŠ—å™ªèƒ½åŠ›æ›´å¼ºã€‚æ¯”å¦‚åœ¨æ ‘æ¨¡å‹ä¸­ï¼Œæˆ‘ä»¬å¾ˆå®¹æ˜“å¯¹ç¼ºå¤±å€¼è¿›è¡Œå¤„ç†ã€‚é™¤æ­¤ä¹‹å¤–ï¼ŒåŸºäºæ ‘çš„æ¨¡å‹å¯¹äº categorical feature ä¹Ÿæ›´åŠ å‹å¥½ã€‚ é™¤äº†æ•°æ®å™ªéŸ³ä¹‹å¤–ï¼Œfeature çš„å¤šæ ·æ€§ä¹Ÿæ˜¯ tree-ensemble æ¨¡å‹èƒ½å¤Ÿå–å¾—æ›´å¥½æ•ˆæœçš„åŸå› ä¹‹ä¸€ã€‚é€šå¸¸åœ¨ä¸€ä¸ªkaggleä»»åŠ¡ä¸­ï¼Œæˆ‘ä»¬å¯èƒ½æœ‰å¹´é¾„ç‰¹å¾ï¼Œæ”¶å…¥ç‰¹å¾ï¼Œæ€§åˆ«ç‰¹å¾ç­‰ç­‰ä»ä¸åŒ channel è·å¾—çš„ç‰¹å¾ã€‚è€Œç‰¹å¾çš„å¤šæ ·æ€§ä¹Ÿæ­£æ˜¯ä¸ºä»€ä¹ˆå·¥ä¸šç•Œå¾ˆå°‘å»ä½¿ç”¨ svm çš„ä¸€ä¸ªé‡è¦åŸå› ä¹‹ä¸€ï¼Œå› ä¸º svm æœ¬è´¨ä¸Šæ˜¯å±äºä¸€ä¸ªå‡ ä½•æ¨¡å‹ï¼Œè¿™ä¸ªæ¨¡å‹éœ€è¦å»å®šä¹‰ instance ä¹‹é—´çš„ kernel æˆ–è€… similarity ï¼ˆå¯¹äºlinear svm æ¥è¯´ï¼Œè¿™ä¸ªsimilarity å°±æ˜¯å†…ç§¯ï¼‰ã€‚è¿™å…¶å®å’Œæˆ‘ä»¬åœ¨ä¹‹å‰è¯´è¿‡çš„é—®é¢˜æ˜¯ç›¸ä¼¼çš„ï¼Œæˆ‘ä»¬æ— æ³•é¢„å…ˆè®¾å®šä¸€ä¸ªå¾ˆå¥½çš„similarityã€‚è¿™æ ·çš„æ•°å­¦æ¨¡å‹ä½¿å¾— svm æ›´é€‚åˆå»å¤„ç† â€œåŒæ€§è´¨â€çš„ç‰¹å¾ï¼Œä¾‹å¦‚å›¾åƒç‰¹å¾æå–ä¸­çš„ lbp ã€‚è€Œä»ä¸åŒ channel ä¸­æ¥çš„ feature åˆ™æ›´é€‚åˆ tree-based model, è¿™äº›æ¨¡å‹å¯¹æ•°æ®çš„ distributation é€šå¸¸å¹¶ä¸æ•æ„Ÿã€‚ ï¼ˆ3ï¼‰ç«™åœ¨ç³»ç»Ÿå®ç°çš„è§’åº¦ é™¤äº†æœ‰åˆé€‚çš„æ¨¡å‹å’Œæ•°æ®ï¼Œä¸€ä¸ªè‰¯å¥½çš„æœºå™¨å­¦ä¹ ç³»ç»Ÿå®ç°å¾€å¾€ä¹Ÿæ˜¯ç®—æ³•æœ€ç»ˆèƒ½å¦å–å¾—å¥½çš„æ•ˆæœçš„å…³é”®ã€‚ä¸€ä¸ªå¥½çš„æœºå™¨å­¦ä¹ ç³»ç»Ÿå®ç°åº”è¯¥å…·å¤‡ä»¥ä¸‹ç‰¹å¾ï¼š æ­£ç¡®é«˜æ•ˆçš„å®ç°æŸç§æ¨¡å‹ã€‚æˆ‘çœŸçš„è§è¿‡æœ‰äº›æœºå™¨å­¦ä¹ çš„åº“å®ç°æŸç§ç®—æ³•æ˜¯é”™è¯¯çš„ã€‚è€Œé«˜æ•ˆçš„å®ç°æ„å‘³ç€å¯ä»¥å¿«é€ŸéªŒè¯ä¸åŒçš„æ¨¡å‹å’Œå‚æ•°ã€‚ ç³»ç»Ÿå…·æœ‰çµæ´»ã€æ·±åº¦çš„å®šåˆ¶åŠŸèƒ½ã€‚ ç³»ç»Ÿç®€å•æ˜“ç”¨ã€‚ ç³»ç»Ÿå…·æœ‰å¯æ‰©å±•æ€§, å¯ä»¥ä»å®¹å¤„ç†æ›´å¤§çš„æ•°æ®ã€‚ åˆ°ç›®å‰ä¸ºæ­¢ï¼Œxgboost æ˜¯æˆ‘å‘ç°çš„å”¯ä¸€ä¸€ä¸ªèƒ½å¤Ÿå¾ˆå¥½çš„æ»¡è¶³ä¸Šè¿°æ‰€æœ‰è¦æ±‚çš„ machine learning package. åœ¨æ­¤æ„Ÿè°¢é’å¹´æ‰ä¿Š é™ˆå¤©å¥‡ã€‚ åœ¨æ•ˆç‡æ–¹é¢ï¼Œxgboost é«˜æ•ˆçš„ c++ å®ç°èƒ½å¤Ÿé€šå¸¸èƒ½å¤Ÿæ¯”å…¶å®ƒæœºå™¨å­¦ä¹ åº“æ›´å¿«çš„å®Œæˆè®­ç»ƒä»»åŠ¡ã€‚ åœ¨çµæ´»æ€§æ–¹é¢ï¼Œxgboost å¯ä»¥æ·±åº¦å®šåˆ¶æ¯ä¸€ä¸ªå­åˆ†ç±»å™¨ï¼Œå¹¶ä¸”å¯ä»¥çµæ´»çš„é€‰æ‹© loss functionï¼ˆlogisticï¼Œlinearï¼Œsoftmax ç­‰ç­‰ï¼‰ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œxgboostè¿˜æä¾›äº†ä¸€ç³»åˆ—åœ¨æœºå™¨å­¦ä¹ æ¯”èµ›ä¸­ååˆ†æœ‰ç”¨çš„åŠŸèƒ½ï¼Œä¾‹å¦‚ early-stopï¼Œ cv ç­‰ç­‰åœ¨æ˜“ç”¨æ€§æ–¹é¢ï¼Œxgboost æä¾›äº†å„ç§è¯­è¨€çš„å°è£…ï¼Œä½¿å¾—ä¸åŒè¯­è¨€çš„ç”¨æˆ·éƒ½å¯ä»¥ä½¿ç”¨è¿™ä¸ªä¼˜ç§€çš„ç³»ç»Ÿã€‚ æœ€åï¼Œåœ¨å¯æ‰©å±•æ€§æ–¹é¢ï¼Œxgboost æä¾›äº†åˆ†å¸ƒå¼è®­ç»ƒï¼ˆåº•å±‚é‡‡ç”¨ rabit æ¥å£ï¼‰ï¼Œå¹¶ä¸”å…¶åˆ†å¸ƒå¼ç‰ˆæœ¬å¯ä»¥è·‘åœ¨å„ç§å¹³å°ä¹‹ä¸Šï¼Œä¾‹å¦‚ mpi, yarn, spark ç­‰ç­‰ã€‚ æœ‰äº†è¿™ä¹ˆå¤šä¼˜ç§€çš„ç‰¹æ€§ï¼Œè‡ªç„¶è¿™ä¸ªç³»ç»Ÿä¼šå¸å¼•æ›´å¤šçš„äººå»ä½¿ç”¨å®ƒæ¥å‚åŠ  kaggle æ¯”èµ›ã€‚ ç»¼ä¸Šæ‰€è¿°ï¼Œç†è®ºæ¨¡å‹ï¼Œå®é™…çš„æ•°æ®ï¼Œè‰¯å¥½çš„ç³»ç»Ÿå®ç°ï¼Œéƒ½æ˜¯ä½¿å¾— tree-ensemble åœ¨å®é™…çš„ kaggle æ¯”èµ›ä¸­â€œå±¡æˆ˜å±¡èƒœâ€çš„åŸå› ã€‚]]></content>
      <categories>
        <category>æœºå™¨å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>æœºå™¨å­¦ä¹ </tag>
        <tag>é›†æˆå­¦ä¹ </tag>
        <tag>boosting</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[pyechartsé“¾æ¥mysqlè¿›è¡Œæ•°æ®å¯è§†åŒ–]]></title>
    <url>%2F2018%2F06%2F12%2FPyecharts%E8%BF%9E%E6%8E%A5Mysql%E8%BF%9B%E8%A1%8C%E5%8F%AF%E8%A7%86%E5%8C%96%2F</url>
    <content type="text"><![CDATA[Pandaså¸¸ç”¨è¯»å–æ–¹å¼12345678910111213141516171819202122232425262728293031323334353637383940414243444546# è¯»å–Mysqlæ•´ä¸ªè¡¨ä¸ºDataFrameï¼šimport pymysqlconn = pymysql.connect(host=&apos;192.168.56.111&apos;, port=3306, user=&apos;hive&apos;, passwd=&apos;hive&apos;, db=&apos;test&apos;, charset=&apos;utf8&apos;)query = &quot;select * from table&quot;df = pd.read_sql(query,conn) # connå¯¹è±¡åˆ›å»ºå‚è€ƒä¸‹æ–‡conn.close()# è¯»å–jsonæ–‡ä»¶json_str = &apos;&#123;&quot;name&quot;:[&quot;Alice&quot;,&quot;Tom&quot;],&quot;age&quot;:[20,22]&#125;&apos; # å¤–é¢å•å¼•å·ï¼Œé‡Œé¢åŒå¼•å·js = pd.read_json(json_str)# è¯»å–htmlurl = &quot;http://quote.stockstar.com&quot;dfs = pd.read_html(url)dfs[0]dfs1 = pd.read_html(url, attrs=&#123;&quot;id&quot;:&quot;table1&quot;&#125;) # ä½¿ç”¨sttrså±æ€§è¯»å–ç½‘é¡µé‡Œç‰¹å®štabledfs1[0]# è¯»å–ç²˜è´´æ¿æ–‡ä»¶ç§°DataFramedf = pd.read_clipboard(sep=&apos;,&apos;, header=None)# è¯»å–Mysqlæ•´ä¸ªè¡¨ä¸ºDataFrameï¼šimport pymysqlconn = pymysql.connect(host=&apos;192.168.56.111&apos;, port=3306, user=&apos;hive&apos;, passwd=&apos;hive&apos;, db=&apos;test&apos;, charset=&apos;utf8&apos;)query = &quot;select * from table&quot;df = pd.read_sql(query,conn) # connå¯¹è±¡åˆ›å»ºå‚è€ƒä¸‹æ–‡conn.close()# è¯»å–jsonæ–‡ä»¶json_str = &apos;&#123;&quot;name&quot;:[&quot;Alice&quot;,&quot;Tom&quot;],&quot;age&quot;:[20,22]&#125;&apos; # å¤–é¢å•å¼•å·ï¼Œé‡Œé¢åŒå¼•å·js = pd.read_json(json_str)# è¯»å–htmlurl = &quot;http://quote.stockstar.com&quot;dfs = pd.read_html(url)dfs[0]dfs1 = pd.read_html(url, attrs=&#123;&quot;id&quot;:&quot;table1&quot;&#125;) # ä½¿ç”¨sttrså±æ€§è¯»å–ç½‘é¡µé‡Œç‰¹å®štabledfs1[0]# è¯»å–ç²˜è´´æ¿æ–‡ä»¶ç§°DataFramedf = pd.read_clipboard(sep=&apos;,&apos;, header=None) æ¯æ—¥äº¤æ˜“é¢æ±‡æ€»12345678910111213141516171819import pymysqlconn = pymysql.connect(host=&apos;192.168.56.111&apos;, port=3306, user=&apos;hive&apos;, passwd=&apos;hive&apos;, db=&apos;test&apos;, charset=&apos;utf8&apos;)# åˆ›å»ºæ¸¸æ ‡cursor = conn.cursor()cursor.execute(&quot;select day_date from day_sum order by day_date&quot;)tran_data = cursor.fetchall()cursor.execute(&quot;select day_sum from day_sum order by day_date&quot;)transum = cursor.fetchall()tran_sum = [*map(lambda x :x[0]/100,list(transum))]cursor.close()conn.colse()tran_add = [0]for i in range (len(tran_sum)): if i &gt; 0: tran_add.append((tran_sum[i] - tran_sum[i-1]) / tran_sum[i-1] * 100) 12345678910111213141516171819202122from pyecharts import Bar, Line, Overlapattr1 = tran_datav1 = tran_sumv2 = tran_addbar1 = Bar(&quot;æ¯æ—¥äº¤æ˜“ä¿¡æ¯æ±‡æ€»&quot;)bar1.add(&quot;æ—¥æœŸ /é‡‘é¢&quot;, attr1, v1, mark_line=[&quot;average&quot;], mark_point=[&quot;max&quot;, &quot;min&quot;], is_datazoom_show=True)line1 = Line()line1.add(&apos;ç¯æ¯”å¢é•¿ç‡(%)&apos;,attr1, v2, mark_line=[&quot;average&quot;], mark_point=[&quot;max&quot;, &quot;min&quot;], is_datazoom_show=True )line2 = Line()line2.add(&quot;æ—¥æœŸ/ é‡‘é¢&quot;, attr1, v1, mark_line=[&quot;average&quot;], mark_point=[&quot;max&quot;, &quot;min&quot;], is_datazoom_show=True)overlap = Overlap()overlap.add(bar1)# overlap.add(bar2)overlap.add(line1)overlap.render()overlap#bar.add(&quot;evaporation&quot;, attr, v2, mark_line=[&quot;average&quot;], mark_point=[&quot;max&quot;, &quot;min&quot;])#bar.render() å„å‡ºå£äº¤æ˜“é‡‘é¢123456789101112131415161718192021import pymysqlconn = pymysql.connect(host=&apos;192.168.56.111&apos;, port=3306, user=&apos;hive&apos;, passwd=&apos;hive&apos;, db=&apos;test&apos;, charset=&apos;utf8&apos;)# åˆ›å»ºæ¸¸æ ‡cursor = conn.cursor()#2016-04-29æ¯ä¸ªå‡ºå£idäº¤æ˜“é¢ä¿¡æ¯cursor.execute(&quot;select in_id from in_sum where in_date=&apos;429&apos; order by in_sum desc&quot;)in_plazaid = cursor.fetchall()#2016-04-29æ¯ä¸ªå‡ºå£äº¤æ˜“é¢cursor.execute(&quot;select in_sum from in_sum where in_date=&apos;429&apos; order by in_sum desc&quot;)in_transum = [*map(lambda x :x[0]/100,list(cursor.fetchall()))]cursor.close()from pyecharts import Barattr2 = in_plazaidv2 = in_transumbar2 = Bar(&quot;2016-4-29æ—¥å„å‡ºå£äº¤æ˜“é¢æ±‡æ€»&quot;,&quot;&quot;)bar2.add(&quot;å‡ºå£ID/é‡‘é¢ï¼ˆå…ƒï¼‰&quot;, attr2, v2, mark_line=[&quot;average&quot;], mark_point=[&quot;max&quot;, &quot;min&quot;], is_datazoom_show = True)#bar.add(&quot;evaporation&quot;, attr, v2, mark_line=[&quot;average&quot;], mark_point=[&quot;max&quot;, &quot;min&quot;])bar2.render()bar2 å…¥å‡ºå£äº¤æ˜“é‡‘é¢123456789101112131415161718192021import pymysqlconn = pymysql.connect(host=&apos;192.168.56.111&apos;, port=3306, user=&apos;hive&apos;, passwd=&apos;hive&apos;, db=&apos;test&apos;, charset=&apos;utf8&apos;)# åˆ›å»ºæ¸¸æ ‡cursor = conn.cursor()cursor.execute(&quot;select ent_plazaid from test.tran_ent_plaza_sum where trans_date=&apos;2016-04-29&apos; order by trans_sum desc&quot;)ent_plazaid = cursor.fetchall()cursor.execute(&quot;select trans_sum from test.tran_ent_plaza_sum where trans_date=&apos;2016-04-29&apos; order by trans_sum desc&quot;)ent_transum = [*map(lambda x :x[0]/100,list(cursor.fetchall()))]cursor.close()from pyecharts import Barattr3 = ent_plazaidv3 = ent_transumbar3 = Bar(&quot;2016-4-29æ—¥å„å…¥å£äº¤æ˜“é¢æ±‡æ€»&quot;,&quot;&quot;)bar3.add(&quot;å…¥å£ID/é‡‘é¢ï¼ˆå…ƒï¼‰&quot;, attr3, v3, mark_line=[&quot;average&quot;], mark_point=[&quot;max&quot;, &quot;min&quot;], is_datazoom_show = True)#bar.add(&quot;evaporation&quot;, attr, v2, mark_line=[&quot;average&quot;], mark_point=[&quot;max&quot;, &quot;min&quot;])bar3.render()bar3 æŸå…¥å£äº¤æ˜“é¢æ±‡æ€»12345678910111213141516171819import pymysqlconn = pymysql.connect(host=&apos;192.168.56.111&apos;, port=3306, user=&apos;hive&apos;, passwd=&apos;hive&apos;, db=&apos;test&apos;, charset=&apos;utf8&apos;)# åˆ›å»ºæ¸¸æ ‡cursor = conn.cursor()cursor.execute(&quot;select trans_date from test.tran_ent_plaza_sum where ent_plazaid=100859&quot;)ent_date = cursor.fetchall()cursor.execute(&quot;select trans_sum from test.tran_ent_plaza_sum where ent_plazaid=100859&quot;)transum_ = [*map(lambda x :x[0]/100,list(cursor.fetchall()))]cursor.close()from pyecharts import Barattr3 = ent_datev3 = transum_bar3 = Bar(&quot;æŸå‡ºå£æ¯æ—¥äº¤æ˜“é¢&quot;,&quot;&quot;)bar3.add(&quot;å‡ºå£/é‡‘é¢ï¼ˆå…ƒï¼‰&quot;, attr3, v3, mark_line=[&quot;average&quot;], mark_point=[&quot;max&quot;, &quot;min&quot;], is_datazoom_show = True)#bar.add(&quot;evaporation&quot;, attr, v2, mark_line=[&quot;average&quot;], mark_point=[&quot;max&quot;, &quot;min&quot;])bar3.render()bar3 é‡‘é¢çªå¢åŸå› åˆ†æ1234567891011121314from pyecharts import Funnel#æ ¹æ®2016-4-29å‡ºå…¥å£åŠå„è½¦å‹çš„äº¤æ˜“é¢ä¿¡æ¯ï¼Œæ¯ä¸ªç»„é€‰å–å‰4ä¸ªè´¡çŒ®ç‡æœ€é«˜çš„æ ·æœ¬ã€‚#åˆ©ç”¨é™¤å‡æ“ä½œå¯¹è¿™ä¸‰ç§å› ç´ çš„å½±å“ç‡è¿›è¡Œæ ‡å‡†åŒ–ã€‚#ä¸‹å›¾å¯ä»¥çœ‹å‡º2016-4-29æ—¥ï¼Œè¿™ä¸‰ç§å½±å“å› ç´ çš„å‰å››ä¸ªæ ·æœ¬åˆ†åˆ«å æ”¹ç»„è´¡çŒ®ç‡çš„æ¯”ä¾‹#100108çº¢é—¨ä¸»ç«™å‡ºäº¬å…¥å£ã€100861æ¦†å¡å—å‡ºäº¬å‡ºå£ã€è½¦å‹-1å¯¹è¯¥æ—¥çš„æ”¶è´¹çš„è´¡çŒ®ç‡æœ€å¤§attr = [&apos;100861æ¦†å¡å—å‡ºäº¬å‡º&apos;,&apos;100158ç’ƒæ²³å—å‡ºäº¬å‡º&apos;,&apos;100109çº¢é—¨ä¸»ç«™è¿›äº¬å‡º&apos;,&apos;100135å…­é‡Œæ¡¥ç«™è¿›äº¬å‡º&apos;,&apos;100108çº¢é—¨ä¸»ç«™å‡ºäº¬å…¥&apos;,&apos;100134å…­é‡Œæ¡¥ç«™å‡ºäº¬å…¥&apos;,&apos;100862æ¦†å¡å—è¿›äº¬å…¥&apos;,&apos;100175è¥¿çº¢é—¨å—æ¡¥å‡ºäº¬å…¥&apos;,&apos;è½¦å‹-1&apos;,&apos;è½¦å‹-4&apos;,&apos;è½¦å‹-3&apos;,&apos;è½¦å‹-2&apos;]value = [6.24, 6.01, 4.72, 4.71, 16.75, 15.52, 10.85, 8.08, 4.46, 0.29, 0.13, 0.1]funnel = Funnel(&quot;&quot;)funnel.add(&quot;å› ç´ &quot;, attr, value, is_label_show=True, label_pos=&quot;inside&quot;, label_text_color=&quot;#fff&quot;)funnel.render()funnel å„è½¦å‹äº¤æ˜“æ±‡æ€»123456789101112131415161718192021import pymysqlconn = pymysql.connect(host=&apos;192.168.56.111&apos;, port=3306, user=&apos;hive&apos;, passwd=&apos;hive&apos;, db=&apos;test&apos;, charset=&apos;utf8&apos;)# åˆ›å»ºæ¸¸æ ‡cursor = conn.cursor()cursor.execute(&quot;select distinct vehtype from test.tran_vehtype_sum where trans_date = &apos;2016-04-29&apos; order by vehtype&quot;)type_id = cursor.fetchall()cursor.execute(&quot;select distinct trans_sum from test.tran_vehtype_sum where trans_date = &apos;2016-04-29&apos; order by vehtype&quot;)type_sum = [*map(lambda x :x[0]/100,list(cursor.fetchall()))]cursor.close()#========================from pyecharts import Barattr4 = type_idv4 = type_sumbar4 = Bar(&quot;2016-4-29æ—¥å„è½¦å‹äº¤æ˜“é¢æ±‡æ€»&quot;,&quot;&quot;)bar4.add(&quot;è½¦å‹/é‡‘é¢ï¼ˆå…ƒï¼‰&quot;, attr4, v4, mark_line=[&quot;average&quot;], mark_point=[&quot;max&quot;, &quot;min&quot;], is_datazoom_show = True)#bar.add(&quot;evaporation&quot;, attr, v2, mark_line=[&quot;average&quot;], mark_point=[&quot;max&quot;, &quot;min&quot;])bar4.render()bar4 å…¨æ—¥æœŸå„è½¦å‹äº¤æ˜“é¢æ±‡æ€»123456789101112131415161718192021222324252627282930313233343536import pandas as pdimport numpy as npimport pymysqlconn = pymysql.connect(host=&apos;192.168.56.111&apos;, port=3306, user=&apos;hive&apos;, passwd=&apos;hive&apos;, db=&apos;test&apos;, charset=&apos;utf8&apos;)cursor = conn.cursor()cursor.execute(&quot;select * from tran_vehtype_sum&quot;)typedata = cursor.fetchall()cursor.close()typedata = pd.DataFrame(list(typedata))typedata.columns = [&apos;type&apos;,&apos;date&apos;,&apos;value&apos;]data=pd.pivot_table(typedata,index=&quot;date&quot;,columns=&quot;type&quot;,values=&quot;value&quot;,aggfunc=np.sum,fill_value=0)# data.to_csv(&quot;data.csv&quot;)from pyecharts import Bary, x1, x2, x3, x4, x5 = [], [], [], [], [], []for i in range(len(data)): y.append(data.index[i]) x1.append(data[1][i]) x2.append(data[2][i]) x3.append(data[3][i]) x4.append(data[4][i]) x5.append(data[5][i])bar = Bar(&quot;å„è½¦å‹æ¯æ—¥äº¤æ˜“é¢&quot;)bar.add(&quot;è½¦å‹-1&quot;, y, x1, is_stack=True, mark_line=[&quot;average&quot;], mark_point=[&quot;max&quot;, &quot;min&quot;], is_datazoom_show = True)bar.add(&quot;è½¦å‹-2&quot;, y, x2, is_stack=True, mark_line=[&quot;average&quot;], mark_point=[&quot;max&quot;, &quot;min&quot;], is_datazoom_show = True)bar.add(&quot;è½¦å‹-3&quot;, y, x3, is_stack=True, mark_line=[&quot;average&quot;], mark_point=[&quot;max&quot;, &quot;min&quot;], is_datazoom_show = True)bar.add(&quot;è½¦å‹-4&quot;, y, x4, is_stack=True, mark_line=[&quot;average&quot;], mark_point=[&quot;max&quot;, &quot;min&quot;], is_datazoom_show = True)bar.add(&quot;è½¦å‹-5&quot;, y, x5, is_stack=True, mark_line=[&quot;average&quot;], mark_point=[&quot;max&quot;, &quot;min&quot;], is_datazoom_show = True)bar.render()bar PyMysqlä½¿ç”¨12345678910111213141516171819202122import pymysql#åˆ›å»ºè¿æ¥conn = pymysql.connect(host=&apos;192.168.56.111&apos;, port=3306, user=&apos;hive&apos;, passwd=&apos;hive&apos;, db=&apos;test&apos;, charset=&apos;utf8&apos;)# åˆ›å»ºæ¸¸æ ‡cursor = conn.cursor()# æ‰§è¡ŒSQLï¼Œå¹¶è¿”å›æ”¶å½±å“è¡Œæ•°effect_row = cursor.execute(&quot;select * from tran_day_sum&quot;)# æ‰§è¡ŒSQLï¼Œå¹¶è¿”å›å—å½±å“è¡Œæ•°#effect_row = cursor.execute(&quot;update tb7 set pass = &apos;123&apos; where nid = %s&quot;, (11,))# æ‰§è¡ŒSQLï¼Œå¹¶è¿”å›å—å½±å“è¡Œæ•°,æ‰§è¡Œå¤šæ¬¡#effect_row = cursor.executemany(&quot;insert into tb7(user,pass,licnese)values(%s,%s,%s)&quot;, [(&quot;u1&quot;,&quot;u1pass&quot;,&quot;11111&quot;),(&quot;u2&quot;,&quot;u2pass&quot;,&quot;22222&quot;)])# æäº¤ï¼Œä¸ç„¶æ— æ³•ä¿å­˜æ–°å»ºæˆ–è€…ä¿®æ”¹çš„æ•°æ®conn.commit()# å…³é—­æ¸¸æ ‡cursor.close()# å…³é—­è¿æ¥conn.close() 123456789101112131415#åˆ†ææ¯ä¸ªå…¥å£çš„äº¤æ˜“ç¬”æ•°å’Œäº¤æ˜“æ€»é¢import pymysqlconn = pymysql.connect(host=&apos;192.168.56.111&apos;, port=3306, user=&apos;hive&apos;, passwd=&apos;hive&apos;, db=&apos;test&apos;, charset=&apos;utf8&apos;)cursor = conn.cursor()cursor.execute(&quot;select ent_plazaid from tran_ent_plaza_sum group by ent_plazaid&quot;)tran_id = cursor.fetchall()cursor.execute(&quot;select count(trans_sum) from tran_ent_plaza_sum group by ent_plazaid&quot;)tran_count = [*map(lambda x :x[0],list(cursor.fetchall()))]cursor.execute(&quot;select sum(trans_sum) from tran_ent_plaza_sum group by ent_plazaid&quot;)tran_sum = [*map(lambda x :int(x[0]),list(cursor.fetchall()))]cursor.close()]]></content>
      <categories>
        <category>å¯è§†åŒ–</category>
      </categories>
      <tags>
        <tag>å¯è§†åŒ–</tag>
        <tag>pyecharts</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[linuxå¸¸ç”¨å‘½ä»¤]]></title>
    <url>%2F2018%2F06%2F11%2Flinux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%2F</url>
    <content type="text"><![CDATA[æ—¥å¸¸Linuxæ“ä½œè®°å½•ï¼Œç”¨äºæŸ¥è¯¢ä¸è€ƒè™‘ç¼–å†™é¡ºåº [root@localhost ~]# rootï¼šå½“å‰ç™»å½•ç”¨æˆ·localhostï¼šä¸»æœºå~ï¼šå½“å‰æ‰€åœ¨ç›®å½•ï¼ˆå®¶ç›®å½•ï¼‰#ï¼šè¶…çº§ç”¨æˆ·æç¤ºç¬¦ ==&gt; å®¶ç›®å½•(/root)$ï¼šæ™®é€šç”¨æˆ·æç¤ºç¬¦ ==&gt; å®¶ç›®å½•(/home/user01)æ–‡ä»¶ç±»å‹ï¼ˆ- æ–‡ä»¶ï¼›d ç›®å½•ï¼›l å¿«æ·æ–¹å¼ï¼‰ å‘½ä»¤æ ¼å¼ï¼šå‘½ä»¤ [é€‰é¡¹] [å‚æ•°]ä¾‹ï¼šæŸ¥è¯¢ç›®å½•å†…å®¹ls [é€‰é¡¹] [æ–‡ä»¶æˆ–ç›®å½•]ls -a æ˜¾ç¤ºæ‰€æœ‰æ–‡ä»¶ï¼ŒåŒ…æ‹¬éšè—æ–‡ä»¶(.å¼€å¤´)ls -l æ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯(ä¹Ÿå¯ç”¨ll) ä¸‹è½½å™¨ï¼šæ›´æ–°ç³»ç»Ÿï¼ˆä¸å»ºè®®ä½¿ç”¨apt-get dist-upgradeï¼Œä¼šå¯¼è‡´æ–‡ä»¶ä¸åŒ¹é…å¸è½½çš„æƒ…å†µï¼‰apt-get update &amp;&amp; apt-get upgradeä¸‹è½½å®‰è£…æ–‡ä»¶apt-get install [æ–‡ä»¶å]å®‰è£…è¿‡ç¨‹ä¸­å­˜åœ¨ä¾èµ–å…³ç³»apt-get install -f çŸ¥é“ç½‘å€ä¸‹è½½æ–¹æ³•ï¼š wget [ç²˜è´´ç½‘å€] ä¸åŒç±»å‹æ–‡ä»¶è§£å‹ï¼štar -xvf file.tar//è§£å‹ taråŒ…tar -xzvf file.tar.gz//è§£å‹tar.gztar -xjvf file.tar.bz2 //è§£å‹ tar.bz2tar -xZvf file.tar.Z//è§£å‹tar.Zunrar e file.rar //è§£å‹rarunzip file.zip//è§£å‹zip æœªå®Œå¾…ç»­ã€‚ã€‚ã€‚]]></content>
      <categories>
        <category>æ“ä½œç³»ç»Ÿ</category>
      </categories>
      <tags>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æµ…è°ˆæ¨èç³»ç»Ÿ]]></title>
    <url>%2F2018%2F06%2F10%2F%E6%B5%85%E8%B0%88%E6%8E%A8%E8%8D%90%E7%B3%BB%E7%BB%9F%2F</url>
    <content type="text"><![CDATA[ä»ITæ—¶ä»£èµ°å‘DTæ—¶ä»£ ä»€ä¹ˆæ˜¯æ¨èç³»ç»Ÿ1. ä¸ºä»€ä¹ˆéœ€è¦æ¨èç³»ç»Ÿç»“è®ºæ˜¯ï¼Œä¸ºäº†è§£å†³äº’è”ç½‘æ—¶ä»£ä¸‹çš„ä¿¡æ¯è¶…è½½é—®é¢˜ã€‚ æ­£å¦‚ã€Šå¤§æ•°æ®æ—¶ä»£ã€‹ä¸­ä½œè€…æ‰€è¨€ï¼Œè¿™ä»…ä»…æ˜¯ä¸€ä¸ªå¼€å§‹ï¼Œäººä»¬ä¸ä¸–ç•Œçš„äº¤æµæ–¹å¼ï¼Œä»åŸæ¥å¯¹å› æœå…³ç³»çš„æ¸´æ±‚ï¼Œè½¬å˜ä¸ºç°åœ¨å¯¹ç›¸å…³å…³ç³»çš„å‘ç°å’Œä½¿ç”¨ä¸Šã€‚ 2. æœç´¢å¼•æ“ä¸æ¨èç³»ç»Ÿä¼—æ‰€å‘¨çŸ¥ï¼Œè§£å†³ä¿¡æ¯è¿‡è½½é—®é¢˜ï¼Œæœ€æœ‰ä»£è¡¨æ€§çš„è§£å†³æ–¹æ¡ˆæ˜¯ã€åˆ†ç±»ç›®å½•ã€‘å’Œã€æœç´¢å¼•æ“ã€‘ï¼Œè¿™ä¸¤ç§è§£å†³æ–¹æ¡ˆåˆ†åˆ«å‚¬ç”Ÿäº†äº’è”ç½‘é¢†åŸŸçš„ä¸¤å®¶è‘—åå…¬å¸â€”é›…è™å’Œè°·æ­Œã€‚ æ¨èç³»ç»Ÿï¼Œå’Œæœç´¢å¼•æ“ä¸€æ ·ï¼Œæ˜¯ä¸€ç§å¸®åŠ©ç”¨æˆ·å¿«é€Ÿå‘å±•æœ‰ç”¨ä¿¡æ¯çš„å·¥å…·ã€‚é€šè¿‡åˆ†æç”¨æˆ·çš„å†å²è¡Œä¸ºï¼Œç»™ç”¨æˆ·çš„å…´è¶£å»ºæ¨¡ï¼Œä»è€Œä¸»åŠ¨ç»™ç”¨æˆ·æ¨èèƒ½å¤Ÿæ»¡è¶³ä»–ä»¬å…´è¶£å’Œéœ€æ±‚çš„ä¿¡æ¯ã€‚ å¹¶ä¸”ï¼Œæ¨èç³»ç»Ÿèƒ½å¤Ÿå¾ˆå¥½çš„å‘æ˜ç‰©å“çš„é•¿å°¾ï¼ŒæŒ‘æˆ˜ä¼ ç»Ÿçš„2/8åŸåˆ™ï¼ˆ80%çš„é”€å”®é¢æ¥è‡ª20%çš„çƒ­é—¨å“ç‰Œï¼‰ã€‚ ä»æŠ€æœ¯è§’åº¦æ¥çœ‹ï¼Œæœç´¢å¼•æ“å’Œæ¨èç³»ç»Ÿçš„åŒºåˆ«åœ¨äºï¼š1ï¼‰æœç´¢å¼•æ“ï¼Œæ³¨é‡æœç´¢ç»“æœä¹‹é—´çš„å…³ç³»å’Œæ’åºï¼›2ï¼‰æ¨èç³»ç»Ÿï¼Œéœ€è¦ç ”ç©¶ç”¨æˆ·çš„å…´è¶£æ¨¡å‹ï¼Œåˆ©ç”¨ç¤¾äº¤ç½‘ç»œçš„ä¿¡æ¯è¿›è¡Œä¸ªæ€§åŒ–çš„è®¡ç®—ï¼›3ï¼‰æœç´¢å¼•æ“ï¼Œç”±ç”¨æˆ·ä¸»å¯¼ï¼Œéœ€è¦è¾“å…¥å…³é”®è¯ï¼Œè‡ªè¡Œé€‰æ‹©ç»“æœã€‚å¦‚æœç»“æœä¸æ»¡æ„ï¼Œéœ€è¦ä¿®æ”¹å…³é”®è¯ï¼Œå†æ¬¡æœç´¢ï¼›4ï¼‰æ¨èç³»ç»Ÿï¼Œç”±ç³»ç»Ÿä¸»å¯¼ï¼Œæ ¹æ®ç”¨æˆ·çš„æµè§ˆé¡ºåºï¼Œå¼•å¯¼ç”¨æˆ·å‘ç°è‡ªå·±æ„Ÿå…´è¶£çš„ä¿¡æ¯ï¼› æ¨èç®—æ³•è¯¦è¿° 1 åŸºäºå†…å®¹çš„æ¨èåŸç†æ˜¯åŸºäºç”¨æˆ·æ„Ÿå…´è¶£çš„ç‰©å“Aï¼Œæ‰¾åˆ°å’ŒAå†…å®¹ä¿¡æ¯ç›¸è¿‘çš„ç‰©å“Bã€‚åˆ©ç”¨ç”¨æˆ·å’Œç‰©å“æœ¬èº«çš„å†…å®¹ç‰¹å¾ï¼Œå¦‚ç”¨æˆ·çš„åœ°ç†ä½ç½®ã€æ€§åˆ«ã€å¹´é¾„ï¼Œç”µå½±ç‰©å“çš„å¯¼æ¼”ã€æ¼”å‘˜ã€å‘å¸ƒæ—¶é—´ç­‰ã€‚æ‰€ä»¥æå–æ¨èå¯¹è±¡çš„ç‰¹å¾ï¼Œæ˜¯å†…å®¹æ¨èç®—æ³•çš„å…³é”®ã€‚ä½†æ˜¯å¯¹äºå¤šåª’ä½“å†…å®¹ï¼Œå¦‚è§†é¢‘ã€éŸ³ä¹ï¼Œå¾ˆéš¾æ‰¾åˆ°å®ƒä»¬ä¹‹é—´çš„ç‰¹æ€§å…³è”æ€§ã€‚ åŸºäºå†…å®¹çš„æ¨èçš„ä¼˜ç‚¹å¦‚ä¸‹ï¼š(1) ç®€å•ã€æœ‰æ•ˆï¼Œæ¨èç»“æœç›´è§‚ï¼Œå®¹æ˜“ç†è§£ï¼Œä¸éœ€è¦é¢†åŸŸçŸ¥è¯†ã€‚(2) ä¸éœ€è¦ç”¨æˆ·çš„å†å²æ•°æ®ï¼Œå¦‚å¯¹å¯¹è±¡çš„è¯„ä»·ç­‰ã€‚(3) æ²¡æœ‰å…³äºæ–°æ¨èå¯¹è±¡å‡ºç°çš„å†·å¯åŠ¨é—®é¢˜ã€‚(4) æ²¡æœ‰ç¨€ç–é—®é¢˜ã€‚(5) ç®—æ³•æˆç†Ÿï¼Œå¦‚æ•°æ®æŒ–æ˜ã€èšç±»åˆ†æç­‰ã€‚ åŸºäºå†…å®¹çš„æ¨èçš„ç¼ºç‚¹å¦‚ä¸‹ï¼š(1) å—åˆ°äº†æ¨èå¯¹è±¡ç‰¹å¾æå–èƒ½åŠ›çš„é™åˆ¶ã€‚æ¯”å¦‚å›¾åƒã€è§†é¢‘ï¼Œæ²¡æœ‰æœ‰æ•ˆçš„ç‰¹å¾æå–æ–¹æ³•ã€‚å³ä¾¿æ˜¯æ–‡æœ¬èµ„æºï¼Œç‰¹å¾æå–ä¹Ÿåªèƒ½ååº”ä¸€éƒ¨åˆ†å†…å®¹ï¼Œéš¾ä»¥æå–å†…å®¹è´¨é‡ï¼Œä¼šå½±å“ç”¨æˆ·æ»¡æ„åº¦ã€‚(2) å¾ˆéš¾å‡ºç°æ–°çš„æ¨èç»“æœã€‚æ ¹æ®ç”¨æˆ·å…´è¶£çš„å–œå¥½è¿›è¡Œæ¨èï¼Œå¾ˆéš¾å‡ºç°æƒŠå–œã€‚å¯¹äºæ—¶é—´æ•æ„Ÿçš„å†…å®¹ï¼Œå¦‚æ–°é—»ï¼Œæ¨èå†…å®¹åŸºæœ¬ç›¸åŒï¼Œä½“éªŒåº¦è¾ƒå·®ã€‚(3)å­˜åœ¨æ–°ç”¨æˆ·å‡ºç°æ—¶çš„å†·å¯åŠ¨é—®é¢˜ã€‚å½“æ–°ç”¨æˆ·å‡ºç°æ—¶ï¼Œ ç³»ç»Ÿè¾ƒéš¾è·å¾—è¯¥ç”¨æˆ·çš„å…´è¶£åå¥½ï¼Œæ— æ³•è¿›è¡Œæœ‰æ•ˆæ¨èã€‚(4) æ¨èå¯¹è±¡å†…å®¹åˆ†ç±»æ–¹æ³•éœ€è¦çš„æ•°æ®é‡è¾ƒå¤§ã€‚ 2 ååŒè¿‡æ»¤ç®—æ³•ä»…ä»…åŸºäºç”¨æˆ·è¡Œä¸ºæ•°æ®è®¾è®¡çš„æ¨èç®—æ³•ï¼Œç§°ä¸ºååŒè¿‡æ»¤ç®—æ³•ã€‚æ­¤æ–¹æ³•ä¸»è¦æ ¹æ®ç”¨æˆ·å¯¹ç‰©å“çš„å†å²è¡Œä¸ºï¼Œå¯»æ‰¾ç”¨æˆ·æˆ–ç‰©å“çš„è¿‘é‚»é›†åˆï¼Œä»¥æ­¤è®¡ç®—ç”¨æˆ·å¯¹ç‰©å“çš„åå¥½ã€‚ åŸºäºç”¨æˆ·çš„ååŒè¿‡æ»¤ç®—æ³•ï¼ˆUserCFï¼‰ç®—æ³•çš„å…³é”®æ˜¯è®¡ç®—ä¸¤ä¸ªç”¨æˆ·çš„å…´è¶£ç›¸ä¼¼åº¦ã€‚ååŒè¿‡æ»¤è®¡ç®—ç”¨æˆ·å…´è¶£ç›¸ä¼¼åº¦æ˜¯åˆ©ç”¨ç”¨æˆ·è¡Œä¸ºçš„ç›¸ä¼¼åº¦ã€‚ å…³é”®åœ¨äºè®¡ç®—ç”¨æˆ·ä¸ç”¨æˆ·ä¹‹é—´çš„å…´è¶£ç›¸ä¼¼åº¦ã€‚ è®¡ç®—ç”¨æˆ·ç›¸ä¼¼åº¦çš„æ–¹æ³•æœ‰3ç§ï¼š ä½™å¼¦ç›¸ä¼¼æ€§ ç›¸å…³ç›¸ä¼¼æ€§ï¼ˆçš®å°”æ£®ç³»æ•°ç›¸å…³ï¼‰ ä¿®æ­£çš„ä½™å¼¦ç›¸ä¼¼æ€§è¿™é‡Œä¸»è¦ä½¿ç”¨ä½™å¼¦ç›¸ä¼¼åº¦æ¥è®¡ç®—ï¼š w_{uv} = \frac{|N(u) \cap N(v)|}{\sqrt{|N(u)|| N(v)|}}\(w_{uv}\)ä»£è¡¨ç”¨æˆ· u ä¸ v ä¹‹é—´çš„å…´è¶£ç›¸ä¼¼åº¦ï¼ŒN(u)è¡¨ç¤ºç”¨æˆ· u æ›¾ç»å–œæ¬¢è¿‡çš„ç‰©å“é›†åˆ, N(v) è¡¨ç¤ºç”¨æˆ· v æ›¾ç»å–œæ¬¢è¿‡çš„ç‰©å“é›†åˆã€‚ æ ¹æ®ä¸Šè¿°æ ¸å¿ƒæ€æƒ³ï¼Œå¯ä»¥æœ‰å¦‚ä¸‹ç®—æ³•æ­¥éª¤ï¼š å»ºç«‹ç‰©å“-ç”¨æˆ·çš„å€’æ’è¡¨ ç”¨æˆ·ä¸ç”¨æˆ·ä¹‹é—´çš„å…±ç°çŸ©é˜µ C[u][v]ï¼Œè¡¨ç¤ºç”¨æˆ·uä¸vå–œæ¬¢ç›¸åŒç‰©å“çš„ä¸ªæ•° ç”¨æˆ·ä¸ç”¨æˆ·ä¹‹é—´çš„ç›¸ä¼¼åº¦çŸ©é˜µ W[u][v]ï¼Œæ ¹æ®ä¸Šè¿°ç›¸ä¼¼åº¦è®¡ç®—å…¬å¼è®¡ç®—ã€‚ ç”¨ä¸Šé¢çš„ç›¸ä¼¼åº¦çŸ©é˜µæ¥ç»™ç”¨æˆ·æ¨èå’Œä»–å…´è¶£ç›¸ä¼¼çš„ç”¨æˆ·å–œæ¬¢çš„ç‰©å“ã€‚ç”¨æˆ· u å¯¹ç‰©å“ i çš„å…´è¶£ç¨‹åº¦å¯ä»¥ä¼°è®¡ä¸º S(u,K) ä¸ºå’Œç”¨æˆ· u å…´è¶£æœ€æ¥è¿‘çš„ K ä¸ªç”¨æˆ·ï¼Œ N(i) ä¸ºå¯¹ç‰©å“ i æœ‰æ­£åé¦ˆçš„ç”¨æˆ·é›†åˆï¼Œ W[u][v] ä¸ºç”¨æˆ· u å’Œç”¨æˆ· v çš„å…´è¶£ç›¸ä¼¼åº¦ï¼Œrvi ä¸ºç”¨æˆ· v å¯¹ç‰©å“ i çš„å…´è¶£ã€‚ åŸºäºç‰©å“çš„ååŒè¿‡æ»¤ç®—æ³•ï¼ˆItemCFï¼‰è¿™ç§ç®—æ³•ç»™ç”¨æˆ·æ¨èå’Œä»–ä¹‹å‰å–œæ¬¢çš„ç‰©å“ç›¸ä¼¼çš„ç‰©å“ã€‚è¯¥ç®—æ³•æ˜¯ç›®å‰ä¸šç•Œåº”ç”¨æœ€å¤šçš„ç®—æ³•ï¼Œå¦‚äºšé©¬é€Šã€Netflixã€YouTubeï¼Œéƒ½æ˜¯ä»¥è¯¥ç®—æ³•ä¸ºåŸºç¡€ã€‚ ç‰©å“ä¹‹é—´çš„ç›¸ä¼¼åº¦å¯ä»¥ä½¿ç”¨å¦‚ä¸‹å…¬å¼è®¡ç®—ï¼š w_{ij} = \frac{|N(i) \cap N(j)|}{\sqrt{|N(i)|| N(j)|}}ä»ä¸Šé¢çš„å®šä¹‰å¯ä»¥çœ‹åˆ°ï¼Œåœ¨ååŒè¿‡æ»¤ä¸­ä¸¤ä¸ªç‰©å“äº§ç”Ÿç›¸ä¼¼åº¦æ˜¯å› ä¸ºå®ƒä»¬å…±åŒè¢«å¾ˆå¤šç”¨æˆ·å–œæ¬¢ï¼Œä¹Ÿå°±æ˜¯è¯´æ¯ä¸ªç”¨æˆ·éƒ½å¯ä»¥é€šè¿‡ä»–ä»¬çš„å†å²å…´è¶£åˆ—è¡¨ç»™ç‰©å“â€œè´¡çŒ®â€ç›¸ä¼¼åº¦ã€‚ ç”¨æˆ·æ´»è·ƒåº¦å¯¹ç‰©å“ç›¸ä¼¼åº¦çš„å½±å“IUFï¼ˆInverse User Frequenceï¼‰ï¼Œç”¨æˆ·æ´»è·ƒåº¦å¯¹æ•°çš„å€’æ•°çš„å‚æ•°ã€‚è®ºæ–‡æå‡ºçš„è§‚ç‚¹æ˜¯ï¼Œæ´»è·ƒç”¨æˆ·å¯¹ç‰©å“ç›¸ä¼¼åº¦çš„è´¡çŒ®åº”è¯¥å°äºä¸æ´»è·ƒçš„ç”¨æˆ·ã€‚ç”¨IUFä¿®æ­£ç‰©å“ç›¸ä¼¼åº¦çš„è®¡ç®—ã€‚ ç‰©å“ç›¸ä¼¼åº¦çš„å½’ä¸€åŒ–ç ”ç©¶è¡¨æ˜ï¼Œå°†ItemCFçš„ç›¸ä¼¼åº¦çŸ©é˜µæŒ‰æœ€å¤§å€¼å½’ä¸€ï¼Œå¯ä»¥æé«˜æ¨èçš„å‡†ç¡®ç‡ã€‚ æ ¹æ®ä¸Šè¿°æ ¸å¿ƒæ€æƒ³ï¼Œå¯ä»¥æœ‰å¦‚ä¸‹ç®—æ³•æ­¥éª¤ï¼š å»ºç«‹ç”¨æˆ·-ç‰©å“çš„å€’æ’è¡¨ ç‰©å“ä¸ç‰©å“ä¹‹é—´çš„å…±ç°çŸ©é˜µ C[i][j]ï¼Œè¡¨ç¤ºç‰©å“ i ä¸ j å…±åŒè¢«å¤šå°‘ç”¨æˆ·æ‰€å–œæ¬¢ã€‚ ç”¨æˆ·ä¸ç”¨æˆ·ä¹‹é—´çš„ç›¸ä¼¼åº¦çŸ©é˜µ W[i][j] ï¼Œ æ ¹æ®ä¸Šè¿°ç›¸ä¼¼åº¦è®¡ç®—å…¬å¼è®¡ç®—ã€‚ ç”¨ä¸Šé¢çš„ç›¸ä¼¼åº¦çŸ©é˜µæ¥ç»™ç”¨æˆ·æ¨èä¸ä»–æ‰€å–œæ¬¢çš„ç‰©å“ç›¸ä¼¼çš„å…¶ä»–ç‰©å“ã€‚ç”¨æˆ· u å¯¹ç‰©å“ j çš„å…´è¶£ç¨‹åº¦å¯ä»¥ä¼°è®¡ä¸º S(j,K) ä¸ºå’Œç‰©å“ j æœ€ç›¸ä¼¼çš„å‰ K ä¸ªç‰©å“ï¼Œ N(u) ä¸ºå¯¹ç”¨æˆ· u æ‰€å–œæ¬¢çš„ç‰©å“é›†åˆï¼Œ W[j][i] ä¸ºç‰©å“ j å’Œç‰©å“ i ä¹‹é—´çš„ç›¸ä¼¼åº¦ï¼Œ rui ä¸ºç”¨æˆ· u å¯¹ç‰©å“ i çš„å…´è¶£ã€‚ ItemCF ä¸ åŸºäºå†…å®¹çš„æ¨èç®—æ³•çš„åŒºåˆ« åŸºäºå†…å®¹çš„æ¨èç®—æ³•ï¼Œè®¡ç®—çš„æ˜¯ç‰©å“å†…å®¹å±æ€§ä¹‹é—´çš„ç›¸ä¼¼åº¦ã€‚å¦‚ï¼Œç”µå½±çš„å¯¼æ¼”æ˜¯ä¸æ˜¯åŒä¸€ä¸ªäººï¼› ItemCFæ˜¯é€šè¿‡ç”¨æˆ·çš„è¡Œä¸ºè®¡ç®—ç‰©å“ä¹‹é—´çš„ç›¸ä¼¼åº¦ã€‚å¦‚ï¼Œç‰©å“Aã€Bå…·æœ‰å¾ˆå¤§ç›¸ä¼¼åº¦ï¼Œæ˜¯å› ä¸ºå–œæ¬¢ç‰©å“Açš„ç”¨æˆ·ä¹Ÿå¤§éƒ½å–œæ¬¢ç‰©å“Bã€‚ UserCF ä¸ ItemCF çš„ä¼˜ç¼ºç‚¹ 3 åŸºäºå…³è”è§„åˆ™çš„æ¨èå…³è”è§„åˆ™åˆ†æä¸­çš„å…³é”®æ¦‚å¿µåŒ…æ‹¬ï¼šæ”¯æŒåº¦(Support)ã€ç½®ä¿¡åº¦(Confidence)ä¸æå‡åº¦(Lift)ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬ç®€å•æ¸©æ•…ä¸‹è¿™3ä¸ªå…³é”®æŒ‡æ ‡~ 1ã€æ”¯æŒåº¦ (Support)ï¼šæ”¯æŒåº¦æ˜¯ä¸¤ä»¶å•†å“ï¼ˆAâˆ©Bï¼‰åœ¨æ€»é”€å”®ç¬”æ•°(N)ä¸­å‡ºç°çš„æ¦‚ç‡ï¼Œå³Aä¸BåŒæ—¶è¢«è´­ä¹°çš„æ¦‚ç‡ã€‚ç±»ä¼¼äºä¸­å­¦å­¦çš„äº¤é›†ï¼Œéœ€è¦åŸå§‹åŒæ—¶æ»¡è¶³æ¡ä»¶ã€‚ å…¬å¼ï¼š ä¾‹å­è¯´æ˜ï¼š æ¯”å¦‚æŸè¶…å¸‚2016å¹´æœ‰100wç¬”é”€å”®ï¼Œé¡¾å®¢è´­ä¹°å¯ä¹åˆè´­ä¹°è–¯ç‰‡æœ‰20wç¬”ï¼Œé¡¾å®¢è´­ä¹°å¯ä¹åˆè´­ä¹°é¢åŒ…æœ‰10wç¬”ï¼Œé‚£å¯ä¹å’Œè–¯ç‰‡çš„å…³è”è§„åˆ™çš„æ”¯æŒåº¦æ˜¯20%ï¼Œå¯ä¹å’Œé¢åŒ…çš„æ”¯æŒåº¦æ˜¯10%ã€‚ 2ã€ç½®ä¿¡åº¦ (Confidence)ï¼šç½®ä¿¡åº¦æ˜¯è´­ä¹°Aåå†è´­ä¹°Bçš„æ¡ä»¶æ¦‚ç‡ã€‚ç®€å•æ¥è¯´å°±æ˜¯äº¤é›†éƒ¨åˆ†Cåœ¨Aä¸­æ¯”ä¾‹ï¼Œå¦‚æœæ¯”ä¾‹å¤§è¯´æ˜è´­ä¹°Açš„å®¢æˆ·å¾ˆå¤§æœŸæœ›ä¼šè´­ä¹°Bå•†å“ã€‚ å…¬å¼ï¼š ä¾‹å­è¯´æ˜ï¼š æŸè¶…å¸‚2016å¹´å¯ä¹è´­ä¹°æ¬¡æ•°40wç¬”ï¼Œè´­ä¹°å¯ä¹åˆè´­ä¹°äº†è–¯ç‰‡æ˜¯30wç¬”ï¼Œé¡¾å®¢è´­ä¹°å¯ä¹åˆè´­ä¹°é¢åŒ…æœ‰10wç¬”ï¼Œåˆ™è´­ä¹°å¯ä¹åˆä¼šè´­ä¹°è–¯ç‰‡çš„ç½®ä¿¡åº¦æ˜¯75%ï¼Œè´­ä¹°å¯ä¹åˆè´­ä¹°é¢åŒ…çš„ç½®ä¿¡åº¦æ˜¯25%ï¼Œè¿™è¯´æ˜ä¹°å¯ä¹ä¹Ÿä¼šä¹°è–¯ç‰‡çš„å…³è”æ€§æ¯”é¢åŒ…å¼ºï¼Œè¥é”€ä¸Šå¯ä»¥åšä¸€äº›ç»„åˆç­–ç•¥é”€å”®ã€‚ 3ã€æå‡åº¦ (Lift)ï¼šæå‡åº¦è¡¨ç¤ºå…ˆè´­ä¹°Aå¯¹è´­ä¹°Bçš„æ¦‚ç‡çš„æå‡ä½œç”¨ï¼Œç”¨æ¥åˆ¤æ–­è§„åˆ™æ˜¯å¦æœ‰å®é™…ä»·å€¼ï¼Œå³ä½¿ç”¨è§„åˆ™åå•†å“åœ¨è´­ç‰©è½¦ä¸­å‡ºç°çš„æ¬¡æ•°æ˜¯å¦é«˜äºå•†å“å•ç‹¬å‡ºç°åœ¨è´­ç‰©è½¦ä¸­çš„é¢‘ç‡ã€‚å¦‚æœå¤§äº1è¯´æ˜è§„åˆ™æœ‰æ•ˆï¼Œå°äº1åˆ™æ— æ•ˆã€‚ å…¬å¼ï¼š ä¾‹å­è¯´æ˜ï¼š å¯ä¹å’Œè–¯ç‰‡çš„å…³è”è§„åˆ™çš„æ”¯æŒåº¦æ˜¯20%ï¼Œè´­ä¹°å¯ä¹çš„æ”¯æŒåº¦æ˜¯3%ï¼Œè´­ä¹°è–¯ç‰‡çš„æ”¯æŒåº¦æ˜¯5%ï¼Œåˆ™æå‡åº¦æ˜¯1.33&gt;1, A-Bè§„åˆ™å¯¹äºå•†å“Bæœ‰æå‡æ•ˆæœã€‚ 4 éšè¯­ä¹‰æ¨¡å‹å¾…å­¦ä¹  æ¨èç³»ç»Ÿè¯„æµ‹ 1. å®éªŒæ–¹æ³•è·å¾—è¯„æµ‹æŒ‡æ ‡çš„å®éªŒæ–¹æ³•ï¼Œé€šå¸¸åˆ†3ç§ï¼š ç¦»çº¿å®éªŒï¼ˆoffline experimentï¼‰ ç”¨æˆ·è°ƒæŸ¥ï¼ˆuser studyï¼‰ åœ¨çº¿å®éªŒï¼ˆonline experimentï¼‰ æˆ‘ä»¬åˆ†åˆ«ä»‹ç»3ç§å®éªŒæ–¹æ³•çš„ä¼˜ç¼ºç‚¹ã€‚ 1ï¼‰ç¦»çº¿å®éªŒç¦»çº¿å®éªŒçš„æ–¹æ³•çš„æ­¥éª¤å¦‚ä¸‹ï¼šaï¼‰é€šè¿‡æ—¥å¿—ç³»ç»Ÿè·å¾—ç”¨æˆ·è¡Œä¸ºæ•°æ®ï¼Œå¹¶æŒ‰ç…§ä¸€å®šæ ¼å¼ç”Ÿæˆä¸€ä¸ªæ ‡å‡†çš„æ•°æ®é›†ï¼›bï¼‰å°†æ•°æ®é›†æŒ‰ç…§ä¸€å®šçš„è§„åˆ™åˆ†æˆè®­ç»ƒé›†å’Œæµ‹è¯•é›†ï¼›cï¼‰åœ¨è®­ç»ƒé›†ä¸Šè®­ç»ƒç”¨æˆ·å…´è¶£æ¨¡å‹ï¼Œåœ¨æµ‹è¯•é›†ä¸Šè¿›è¡Œé¢„æµ‹ï¼›dï¼‰é€šè¿‡äº‹å…ˆå®šä¹‰çš„ç¦»çº¿æŒ‡æ ‡ï¼Œè¯„æµ‹ç®—æ³•åœ¨æµ‹è¯•é›†ä¸Šçš„é¢„æµ‹ç»“æœã€‚ ä»ä»¥ä¸Šæ­¥éª¤çœ‹å‡ºï¼Œç¦»çº¿å®éªŒçš„éƒ½æ˜¯åœ¨æ•°æ®é›†ä¸Šå®Œæˆçš„ã€‚æ„å‘³ç€ï¼Œå®ƒä¸éœ€è¦ä¸€ä¸ªå®é™…çš„ç³»ç»Ÿä½œä¸ºæ”¯æ’‘ï¼Œåªéœ€è¦æœ‰ä¸€ä¸ªä»æ—¥å¿—ä¸­æå–çš„æ•°æ®é›†å³å¯ã€‚ ç¦»çº¿å®éªŒçš„ä¼˜ç‚¹æ˜¯ï¼š ä¸éœ€è¦æœ‰å¯¹å®é™…ç³»ç»Ÿçš„æ§åˆ¶æƒï¼› ä¸éœ€è¦ç”¨æˆ·å‚ä¸å®è·µï¼› é€Ÿåº¦å¿«ï¼Œå¯ä»¥æµ‹è¯•å¤§é‡ç®—æ³•ï¼› ç¼ºç‚¹æ˜¯ï¼š æ•°æ®é›†çš„ç¨€ç–æ€§é™åˆ¶äº†é€‚ç”¨èŒƒå›´ï¼Œä¾‹å¦‚ä¸€ä¸ªæ•°æ®é›†ä¸­æ²¡æœ‰åŒ…å«æŸç”¨æˆ·çš„å†å²è¡Œä¸ºï¼Œåˆ™æ— æ³•è¯„ä»·å¯¹è¯¥ç”¨æˆ·çš„æ¨èç»“æœï¼› è¯„ä»·ç»“æœçš„å®¢è§‚æ€§ï¼Œæ— æ³•å¾—åˆ°ç”¨æˆ·ä¸»è§‚æ€§çš„è¯„ä»·ï¼› éš¾ä»¥æ‰¾åˆ°ç¦»çº¿è¯„ä»·æŒ‡æ ‡å’Œåœ¨çº¿çœŸå®åé¦ˆ(å¦‚ ç‚¹å‡»ç‡ã€è½¬åŒ–ç‡ã€ç‚¹å‡»æ·±åº¦ã€è´­ä¹°å®¢å•ä»·ã€è´­ä¹°å•† å“ç±»åˆ«ç­‰)ä¹‹é—´çš„å…³è”å…³ç³»ï¼› 2ï¼‰ç”¨æˆ·è°ƒæŸ¥ç”¨æˆ·è°ƒæŸ¥éœ€è¦ä¸€äº›çœŸå®çš„ç”¨æˆ·ï¼Œè®©ä»–ä»¬åœ¨éœ€è¦æµ‹è¯•çš„æ¨èç³»ç»Ÿä¸Šå®Œæˆä¸€äº›ä»»åŠ¡ã€‚åœ¨ä»–ä»¬å®Œæˆä»»åŠ¡æ—¶ï¼Œéœ€è¦è§‚å¯Ÿå’Œè®°å½•ç”¨æˆ·çš„è¡Œä¸ºï¼Œå¹¶è®©ä»–ä»¬å›ç­”ä¸€äº›é—®é¢˜ã€‚ æœ€åï¼Œæˆ‘ä»¬é€šè¿‡åˆ†æä»–ä»¬çš„è¡Œä¸ºå’Œç­”æ¡ˆï¼Œäº†è§£æµ‹è¯•ç³»ç»Ÿçš„æ€§èƒ½ã€‚ ç”¨æˆ·è°ƒæŸ¥çš„ä¼˜ç‚¹æ˜¯ï¼š å¯ä»¥è·å¾—ç”¨æˆ·ä¸»è§‚æ„Ÿå—çš„æŒ‡æ ‡ï¼Œå‡ºé”™åå®¹æ˜“å¼¥è¡¥ï¼› ç¼ºç‚¹æ˜¯ï¼š æ‹›å‹Ÿæµ‹è¯•ç”¨æˆ·ä»£ä»·è¾ƒå¤§ï¼› æ— æ³•ç»„ç»‡å¤§è§„æ¨¡çš„æµ‹è¯•ç”¨æˆ·ï¼Œç»Ÿè®¡æ„ä¹‰ä¸è¶³ï¼› 3ï¼‰åœ¨çº¿å®éªŒåœ¨å®Œæˆç¦»çº¿å®éªŒå’Œç”¨æˆ·è°ƒæŸ¥ä¹‹åï¼Œå¯ä»¥å°†ç³»ç»Ÿä¸Šçº¿åšABæµ‹è¯•ï¼Œå°†å®ƒå’Œæ—§ç®—æ³•è¿›è¡Œæ¯”è¾ƒã€‚ åœ¨çº¿å®éªŒæœ€å¸¸ç”¨çš„è¯„æµ‹ç®—æ³•æ˜¯ã€A/Bæµ‹è¯•ã€‘ï¼Œå®ƒé€šè¿‡ä¸€å®šçš„è§„åˆ™å°†ç”¨æˆ·éšæœºåˆ†æˆå‡ ç»„ï¼Œå¯¹ä¸åŒç»„çš„ç”¨æˆ·é‡‡ç”¨ä¸åŒçš„ç®—æ³•ï¼Œç„¶åé€šè¿‡ç»Ÿè®¡ä¸åŒç»„çš„è¯„æµ‹æŒ‡æ ‡ï¼Œæ¯”è¾ƒä¸åŒç®—æ³•çš„å¥½åã€‚ å®ƒçš„æ ¸å¿ƒæ€æƒ³æ˜¯:a) å¤šä¸ªæ–¹æ¡ˆå¹¶è¡Œæµ‹è¯•;b) æ¯ä¸ªæ–¹æ¡ˆåªæœ‰ä¸€ä¸ªå˜é‡ä¸åŒ;c) ä»¥æŸç§è§„åˆ™ä¼˜èƒœåŠ£æ±°ã€‚ å…¶ä¸­ç¬¬2ç‚¹æš—ç¤ºäº†A/B æµ‹è¯•çš„åº”ç”¨èŒƒå›´ï¼šA/Bæµ‹è¯•å¿…é¡»æ˜¯å•å˜é‡ã€‚å¯¹äºæ¨èç³»ç»Ÿçš„è¯„ä»·ä¸­ï¼Œå”¯ä¸€å˜é‡å°±æ˜¯â€”æ¨èç®—æ³•ã€‚ æœ‰ä¸ªå¾ˆæ£’çš„ç½‘ç«™ï¼Œhttp://www.abtests.comï¼Œé‡Œé¢æœ‰å¾ˆå¤šé€šè¿‡å®é™…ABæµ‹è¯•æé«˜ç½‘ç«™ç”¨æˆ·æ»¡æ„åº¦çš„ä¾‹å­ã€‚ ABæµ‹è¯•çš„ä¼˜ç‚¹æ˜¯ï¼š å¯ä»¥å…¬å¹³è·å¾—ä¸åŒç®—æ³•å®é™…åœ¨çº¿æ—¶çš„æ€§èƒ½æŒ‡æ ‡ï¼ŒåŒ…æ‹¬å•†ä¸šä¸Šå…³æ³¨çš„æŒ‡æ ‡ï¼› ç¼ºç‚¹æ˜¯ï¼š å‘¨æœŸè¾ƒé•¿ï¼Œå¿…é¡»è¿›è¡Œé•¿æœŸçš„å®éªŒæ‰èƒ½å¾—åˆ°å¯é çš„ç»“æœï¼› å¤§å‹ç½‘ç«™åšABæµ‹è¯•ï¼Œå¯èƒ½ä¼šå› ä¸ºä¸åŒå›¢é˜ŸåŒæ—¶è¿›è¡Œå„ç§æµ‹è¯•å¯¹ç»“æœé€ æˆå¹²æ‰°ï¼Œæ‰€ä»¥åˆ‡åˆ†æµé‡æ˜¯ABæµ‹è¯•ä¸­çš„å…³é”®ã€‚ 4ï¼‰æ€»ç»“ä¸€èˆ¬æ¥è¯´ï¼Œä¸€ä¸ªæ–°çš„æ¨èç®—æ³•æœ€ç»ˆä¸Šçº¿ï¼Œéœ€è¦å®Œæˆä¸Šè¿°çš„3ä¸ªå®éªŒã€‚ é¦–å…ˆï¼Œé€šè¿‡ç¦»çº¿å®éªŒè¯æ˜å®ƒåœ¨å¾ˆå¤šç¦»çº¿æŒ‡æ ‡ä¸Šä¼˜äºç°æœ‰çš„ç®—æ³•ï¼› å…¶æ¬¡ï¼Œé€šè¿‡ç”¨æˆ·è°ƒæŸ¥ç¡®å®šç”¨æˆ·æ»¡æ„åº¦ä¸ä½äºç°æœ‰çš„ç®—æ³•ï¼› æœ€åï¼Œé€šè¿‡åœ¨çº¿ABæµ‹è¯•ç¡®å®šå®ƒåœ¨æˆ‘ä»¬å…³å¿ƒçš„æŒ‡æ ‡ä¸Šä¼˜äºç°æœ‰çš„ç®—æ³•ï¼› 2. è¯„æµ‹æŒ‡æ ‡è¯„æµ‹æŒ‡æ ‡ç”¨äºè¯„æµ‹æ¨èç³»ç»Ÿçš„æ€§èƒ½ï¼Œæœ‰äº›å¯ä»¥å®šé‡è®¡ç®—ï¼Œæœ‰äº›åªèƒ½å®šæ€§æè¿°ã€‚ 1ï¼‰ç”¨æˆ·æ»¡æ„åº¦ç”¨æˆ·æ»¡æ„åº¦æ˜¯è¯„æµ‹æ¨èç³»ç»Ÿçš„é‡è¦æŒ‡æ ‡ï¼Œæ— æ³•ç¦»çº¿è®¡ç®—ï¼Œåªèƒ½é€šè¿‡ç”¨æˆ·è°ƒæŸ¥æˆ–è€…åœ¨çº¿å®éªŒè·å¾—ã€‚ è°ƒæŸ¥é—®å·ï¼Œéœ€è¦è€ƒè™‘åˆ°ç”¨æˆ·å„æ–¹é¢çš„æ„Ÿå—ï¼Œç”¨æˆ·æ‰èƒ½é’ˆå¯¹é—®é¢˜ç»™å‡ºå‡†ç¡®çš„å›ç­”ã€‚ åœ¨çº¿ç³»ç»Ÿä¸­ï¼Œç”¨æˆ·æ»¡æ„åº¦é€šè¿‡ç»Ÿè®¡ç”¨æˆ·è¡Œä¸ºå¾—åˆ°ã€‚æ¯”å¦‚ç”¨æˆ·å¦‚æœè´­ä¹°äº†æ¨èçš„å•†å“ï¼Œå°±è¡¨ç¤ºä»–ä»¬åœ¨ä¸€å®šç¨‹åº¦ä¸Šæ»¡æ„ï¼Œå¯ä»¥ç”¨è´­ä¹°ç‡åº¦é‡ç”¨æˆ·æ»¡æ„åº¦ã€‚ ä¸€èˆ¬æƒ…å†µï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ç”¨æˆ·ç‚¹å‡»ç‡ã€åœç•™æ—¶é—´ã€è½¬åŒ–ç‡ç­‰æŒ‡æ ‡åº¦é‡ç”¨æˆ·çš„æ»¡æ„åº¦ã€‚ 2ï¼‰é¢„æµ‹å‡†ç¡®åº¦é¢„æµ‹å‡†ç¡®åº¦ï¼Œåº¦é‡çš„æ˜¯æ¨èç³»ç»Ÿé¢„æµ‹ç”¨æˆ·è¡Œä¸ºçš„èƒ½åŠ›ã€‚ æ˜¯æ¨èç³»ç»Ÿæœ€é‡è¦çš„ç¦»çº¿è¯„æµ‹æŒ‡æ ‡ã€‚ å¤§éƒ¨åˆ†çš„å…³äºæ¨èç³»ç»Ÿè¯„æµ‹æŒ‡æ ‡çš„ç ”ç©¶ï¼Œéƒ½æ˜¯é’ˆå¯¹é¢„æµ‹å‡†ç¡®åº¦çš„ã€‚å› ä¸ºè¯¥æŒ‡æ ‡å¯ä»¥é€šè¿‡ç¦»çº¿å®éªŒè®¡ç®—ï¼Œæ–¹ä¾¿äº†å­¦æœ¯ç•Œçš„ç ”ç©¶äººå‘˜ã€‚ ç”±äºç¦»çº¿çš„æ¨èç®—æ³•æœ‰ä¸åŒçš„ç ”ç©¶æ–¹å‘ï¼Œå‡†ç¡®åº¦æŒ‡æ ‡ä¹Ÿä¸åŒï¼Œæ ¹æ®ç ”ç©¶æ–¹å‘ï¼Œå¯åˆ†ä¸ºï¼šé¢„æµ‹è¯„åˆ†å‡†ç¡®åº¦å’ŒTopNæ¨èã€‚ aï¼‰é¢„æµ‹è¯„åˆ†å‡†ç¡®åº¦é¢„æµ‹è¯„åˆ†çš„å‡†ç¡®åº¦ï¼Œè¡¡é‡çš„æ˜¯ç®—æ³•é¢„æµ‹çš„è¯„åˆ†ä¸ç”¨æˆ·çš„å®é™…è¯„åˆ†çš„è´´è¿‘ç¨‹åº¦ã€‚è¿™é’ˆå¯¹äºä¸€äº›éœ€è¦ç”¨æˆ·ç»™ç‰©å“è¯„åˆ†çš„ç½‘ç«™ã€‚ é¢„æµ‹è¯„åˆ†çš„å‡†ç¡®åº¦æŒ‡æ ‡ï¼Œä¸€èˆ¬é€šè¿‡ä»¥ä¸‹æŒ‡æ ‡è®¡ç®—ï¼š å¹³å‡ç»å¯¹è¯¯å·®ï¼ˆMAEï¼‰ MAEå› å…¶è®¡ç®—ç®€å•ã€é€šä¿—æ˜“æ‡‚å¾—åˆ°äº†å¹¿æ³›çš„åº”ç”¨ã€‚ä½†MAEæŒ‡æ ‡ä¹Ÿæœ‰ä¸€å®šçš„å±€é™æ€§ï¼Œå› ä¸ºå¯¹MAEæŒ‡æ ‡è´¡çŒ®æ¯”è¾ƒå¤§çš„å¾€å¾€æ˜¯é‚£ç§å¾ˆéš¾é¢„æµ‹å‡†ç¡®çš„ä½åˆ†å•†å“ã€‚ æ‰€ä»¥å³ä¾¿æ¨èç³»ç»ŸAçš„MAEå€¼ä½äºç³»ç»ŸBï¼Œå¾ˆå¯èƒ½åªæ˜¯ç”±äºç³»ç»ŸAæ›´æ“…é•¿é¢„æµ‹è¿™éƒ¨åˆ†ä½åˆ†å•†å“çš„è¯„åˆ†ï¼Œå³ç³»ç»ŸAæ¯”ç³»ç»ŸBèƒ½æ›´å¥½çš„åŒºåˆ†ç”¨æˆ·éå¸¸è®¨åŒå’Œä¸€èˆ¬è®¨åŒçš„å•†å“ï¼Œæ˜¾ç„¶è¿™æ ·åŒºåˆ†çš„æ„ä¹‰ä¸å¤§ã€‚ å‡æ–¹æ ¹è¯¯å·®ï¼ˆRMSEï¼‰ Netflixè®¤ä¸ºRMSEåŠ å¤§äº†å¯¹é¢„æµ‹ä¸å‡†çš„ç”¨æˆ·ç‰©å“è¯„åˆ†çš„æƒ©ç½šï¼ˆå¹³æ–¹é¡¹çš„æƒ©ç½šï¼‰ï¼Œå› è€Œå¯¹ç³»ç»Ÿçš„è¯„æµ‹æ›´åŠ è‹›åˆ»ã€‚ç ”ç©¶è¡¨æ˜ï¼Œå¦‚æœè¯„åˆ†ç³»ç»Ÿæ˜¯åŸºäºæ•´æ•°å»ºç«‹çš„ï¼ˆå³ç”¨æˆ·ç»™çš„è¯„åˆ†éƒ½æ˜¯æ•´æ•°ï¼‰ï¼Œé‚£ä¹ˆå¯¹é¢„æµ‹ç»“æœå–æ•´æ•°ä¼šé™ä½MAEçš„è¯¯å·®ã€‚ bï¼‰TopNæ¨èç½‘ç«™æä¾›æ¨èæœåŠ¡æ—¶ï¼Œä¸€èˆ¬æ˜¯ç»™ç”¨æˆ·ä¸€ä¸ªä¸ªæ€§åŒ–çš„æ¨èåˆ—è¡¨ï¼Œè¿™ç§æ¨èå«åšTopNæ¨èã€‚ TopNæ¨èçš„é¢„æµ‹å‡†ç¡®ç‡ï¼Œä¸€èˆ¬é€šè¿‡2ä¸ªæŒ‡æ ‡åº¦é‡ï¼š å‡†ç¡®ç‡ï¼ˆprecisionï¼‰ å¬å›ç‡ï¼ˆrecallï¼‰ R(u)æ˜¯æ ¹æ®ç”¨æˆ·åœ¨è®­ç»ƒé›†ä¸Šçš„è¡Œä¸ºç»™ç”¨æˆ·åšå‡ºçš„æ¨èåˆ—è¡¨ï¼ŒT(u)æ˜¯ç”¨æˆ·åœ¨æµ‹è¯•é›†ä¸Šçš„è¡Œä¸ºåˆ—è¡¨ã€‚ TopNæ¨èæ›´ç¬¦åˆå®é™…çš„åº”ç”¨éœ€æ±‚ï¼Œæ¯”å¦‚é¢„æµ‹ç”¨æˆ·æ˜¯å¦ä¼šçœ‹ä¸€éƒ¨ç”µå½±ï¼Œæ¯”é¢„æµ‹ç”¨æˆ·çœ‹äº†ç”µå½±ä¹‹åä¼šç»™å®ƒä»€ä¹ˆè¯„åˆ†æ›´é‡è¦ã€‚ 3ï¼‰è¦†ç›–ç‡è¦†ç›–ç‡ï¼ˆcoverageï¼‰æ˜¯æè¿°ä¸€ä¸ªæ¨èç³»ç»Ÿå¯¹ç‰©å“é•¿å°¾çš„å‘æ˜èƒ½åŠ›ã€‚æœ€ç®€å•çš„å®šä¹‰æ˜¯ï¼Œæ¨èç³»ç»Ÿæ¨èå‡ºæ¥çš„ç‰©å“å æ€»ç‰©å“çš„æ¯”ä¾‹ã€‚ å‡è®¾ç³»ç»Ÿçš„ç”¨æˆ·é›†åˆä¸ºUï¼Œæ¨èç³»ç»Ÿç»™æ¯ä¸ªç”¨æˆ·æ¨èä¸€ä¸ªé•¿åº¦ä¸ºNçš„ç‰©å“åˆ—è¡¨R(u)ï¼Œè¦†ç›–ç‡å…¬å¼ä¸ºï¼š è¦†ç›–ç‡æ˜¯å†…å®¹æä¾›è€…å…³å¿ƒçš„æŒ‡æ ‡ï¼Œè¦†ç›–ç‡ä¸º100%çš„æ¨èç³»ç»Ÿå¯ä»¥å°†æ¯ä¸ªç‰©å“éƒ½æ¨èç»™è‡³å°‘ä¸€ä¸ªç”¨æˆ·ã€‚ é™¤äº†æ¨èç‰©å“çš„å æ¯”ï¼Œè¿˜å¯ä»¥é€šè¿‡ç ”ç©¶ç‰©å“åœ¨æ¨èåˆ—è¡¨ä¸­å‡ºç°çš„æ¬¡æ•°åˆ†å¸ƒï¼Œæ›´å¥½çš„æè¿°æ¨èç³»ç»Ÿçš„æŒ–æ˜é•¿å°¾çš„èƒ½åŠ›ã€‚ å¦‚æœåˆ†å¸ƒæ¯”è¾ƒå¹³ï¼Œè¯´æ˜æ¨èç³»ç»Ÿçš„è¦†ç›–ç‡å¾ˆé«˜ï¼›å¦‚æœåˆ†å¸ƒé™¡å³­ï¼Œè¯´æ˜åˆ†å¸ƒç³»ç»Ÿçš„è¦†ç›–ç‡è¾ƒä½ã€‚ ä¿¡æ¯è®ºå’Œç»æµå­¦ä¸­æœ‰ä¸¤ä¸ªè‘—åæŒ‡æ ‡ï¼Œå¯ä»¥å®šä¹‰è¦†ç›–ç‡ï¼š ä¿¡æ¯ç†µ p(i)æ˜¯ç‰©å“içš„æµè¡Œåº¦é™¤ä»¥æ‰€æœ‰ç‰©å“æµè¡Œåº¦ä¹‹å’Œã€‚ åŸºå°¼ç³»æ•°ï¼ˆGini Indexï¼‰ p(ij)æ˜¯æŒ‰ç…§ç‰©å“æµè¡Œåº¦p()ä»å°åˆ°å¤§æ’åºçš„ç‰©å“åˆ—è¡¨ä¸­ç¬¬jä¸ªç‰©å“ã€‚ è¯„æµ‹é©¬å¤ªæ•ˆåº” é©¬å¤ªæ•ˆåº”ï¼Œæ˜¯æŒ‡å¼ºè€…è¶Šå¼ºï¼Œå¼±è€…è¶Šå¼±çš„æ•ˆåº”ã€‚æ¨èç³»ç»Ÿçš„åˆè¡·æ˜¯å¸Œæœ›æ¶ˆé™¤é©¬å¤ªæ•ˆåº”ï¼Œä½¿å¾—å„ç‰©å“éƒ½èƒ½è¢«å±•ç¤ºç»™å¯¹å®ƒä»¬æ„Ÿå…´è¶£çš„äººç¾¤ã€‚ ä½†æ˜¯ï¼Œå¾ˆå¤šç ”ç©¶è¡¨æ˜ï¼Œç°åœ¨çš„ä¸»æµæ¨èç®—æ³•ï¼ˆååŒè¿‡æ»¤ï¼‰æ˜¯å…·æœ‰é©¬å¤ªæ•ˆåº”çš„ã€‚è¯„æµ‹æ¨èç³»ç»Ÿæ˜¯å¦å…·æœ‰é©¬å¤ªæ•ˆåº”å¯ä»¥ä½¿ç”¨åŸºå°¼ç³»æ•°ã€‚ å¦‚ï¼ŒG1æ˜¯ä»åˆå§‹ç”¨æˆ·è¡Œä¸ºä¸­è®¡ç®—å‡ºçš„ç‰©å“æµè¡Œåº¦çš„åŸºå°¼ç³»æ•°ï¼ŒG2æ˜¯ä»æ¨èåˆ—è¡¨ä¸­è®¡ç®—å‡ºçš„ç‰©å“æµè¡Œåº¦çš„åŸºå°¼ç³»æ•°ï¼Œé‚£ä¹ˆå¦‚æœG1&gt;G2ï¼Œå°±è¯´æ˜æ¨èç®—æ³•å…·æœ‰é©¬å¤ªæ•ˆåº”ã€‚ 4ï¼‰å¤šæ ·æ€§ä¸ºäº†æ»¡è¶³ç”¨æˆ·å¹¿æ³›çš„å…´è¶£ï¼Œæ¨èåˆ—è¡¨éœ€è¦èƒ½å¤Ÿè¦†ç›–ç”¨æˆ·ä¸åŒå…´è¶£çš„é¢†åŸŸï¼Œå³éœ€è¦å…·æœ‰å¤šæ ·æ€§ã€‚ å¤šæ ·æ€§æè¿°äº†æ¨èåˆ—è¡¨ä¸­ç‰©å“ä¸¤ä¸¤ä¹‹é—´çš„ä¸ç›¸ä¼¼æ€§ã€‚å‡è®¾s(i,j)åœ¨[0,1]åŒºé—´å®šä¹‰äº†ç‰©å“iå’Œjä¹‹é—´çš„ç›¸ä¼¼åº¦ï¼Œé‚£ä¹ˆç”¨æˆ·uçš„æ¨èåˆ—è¡¨R(u)çš„å¤šæ ·æ€§å®šä¹‰å¦‚ä¸‹ï¼š æ¨èç³»ç»Ÿæ•´ä½“å¤šæ ·æ€§å¯ä»¥å®šä¹‰ä¸ºæ‰€æœ‰ç”¨æˆ·æ¨èåˆ—è¡¨å¤šæ ·æ€§çš„å¹³å‡å€¼ï¼š 5ï¼‰æ–°é¢–æ€§æ–°é¢–æ€§ä¹Ÿæ˜¯å½±å“ç”¨æˆ·ä½“éªŒçš„é‡è¦æŒ‡æ ‡ä¹‹ä¸€ã€‚å®ƒæŒ‡çš„æ˜¯å‘ç”¨æˆ·æ¨èéçƒ­é—¨éæµè¡Œç‰©å“çš„èƒ½åŠ›ã€‚ è¯„æµ‹æ–°é¢–åº¦æœ€ç®€å•çš„æ–¹æ³•ï¼Œæ˜¯åˆ©ç”¨æ¨èç»“æœçš„å¹³å‡æµè¡Œåº¦ï¼Œå› ä¸ºè¶Šä¸çƒ­é—¨çš„ç‰©å“ï¼Œè¶Šå¯èƒ½è®©ç”¨æˆ·è§‰å¾—æ–°é¢–ã€‚ æ­¤è®¡ç®—æ¯”è¾ƒç²—ç³™ï¼Œéœ€è¦é…åˆç”¨æˆ·è°ƒæŸ¥å‡†ç¡®ç»Ÿè®¡æ–°é¢–åº¦ã€‚ 6ï¼‰æƒŠå–œåº¦æ¨èç»“æœå’Œç”¨æˆ·çš„å†å²å…´è¶£ä¸ç›¸ä¼¼ï¼Œä½†å´è®©ç”¨æˆ·æ»¡æ„ï¼Œè¿™æ ·å°±æ˜¯æƒŠå–œåº¦å¾ˆé«˜ã€‚ ç›®å‰æƒŠå–œåº¦è¿˜æ²¡æœ‰å…¬è®¤çš„æŒ‡æ ‡å®šä¹‰æ–¹å¼ï¼Œæœ€è¿‘å‡ å¹´ç ”ç©¶çš„äººå¾ˆå¤šï¼Œæ·±å…¥ç ”ç©¶å¯ä»¥å‚è€ƒä¸€äº›è®ºæ–‡ã€‚ 7ï¼‰ä¿¡ä»»åº¦å¦‚æœç”¨æˆ·ä¿¡ä»»æ¨èç³»ç»Ÿï¼Œå°±ä¼šå¢åŠ ç”¨æˆ·å’Œæ¨èç³»ç»Ÿçš„äº¤äº’ã€‚ æé«˜ä¿¡ä»»åº¦çš„æ–¹å¼æœ‰ä¸¤ç§ï¼š å¢åŠ ç³»ç»Ÿé€æ˜åº¦æä¾›æ¨èè§£é‡Šï¼Œè®©ç”¨æˆ·äº†è§£æ¨èç³»ç»Ÿçš„è¿è¡Œæœºåˆ¶ã€‚ åˆ©ç”¨ç¤¾äº¤ç½‘ç»œï¼Œé€šè¿‡å¥½å‹ä¿¡æ¯ç»™ç”¨æˆ·åšæ¨èé€šè¿‡å¥½å‹è¿›è¡Œæ¨èè§£é‡Š åº¦é‡ä¿¡ä»»åº¦çš„æ–¹å¼ï¼Œåªèƒ½é€šè¿‡é—®å·è°ƒæŸ¥ã€‚ 8ï¼‰å®æ—¶æ€§æ¨èç³»ç»Ÿçš„å®æ—¶æ€§ï¼ŒåŒ…æ‹¬ä¸¤æ–¹é¢ï¼š å®æ—¶æ›´æ–°æ¨èåˆ—è¡¨æ»¡è¶³ç”¨æˆ·æ–°çš„è¡Œä¸ºå˜åŒ–ï¼› å°†æ–°åŠ å…¥ç³»ç»Ÿçš„ç‰©å“æ¨èç»™ç”¨æˆ·ï¼› 9ï¼‰å¥å£®æ€§ä»»ä½•èƒ½å¸¦æ¥åˆ©ç›Šçš„ç®—æ³•ç³»ç»Ÿéƒ½ä¼šè¢«æ”»å‡»ï¼Œæœ€å…¸å‹çš„æ¡ˆä¾‹å°±æ˜¯æœç´¢å¼•æ“çš„ä½œå¼Šä¸åä½œå¼Šæ–—äº‰ã€‚ å¥å£®æ€§ï¼ˆrobustï¼Œé²æ£’æ€§ï¼‰è¡¡é‡äº†æ¨èç³»ç»ŸæŠ—å‡»ä½œå¼Šçš„èƒ½åŠ›ã€‚ 2011å¹´çš„æ¨èç³»ç»Ÿå¤§ä¼šä¸“é—¨æœ‰ä¸€ä¸ªæ¨èç³»ç»Ÿå¥å£®æ€§çš„æ•™ç¨‹ï¼Œä½œè€…æ€»ç»“äº†å¾ˆå¤šä½œå¼Šæ–¹æ³•ï¼Œæœ€è‘—åçš„æ˜¯è¡Œä¸ºæ³¨å…¥æ”»å‡»ï¼ˆprofile injection attackï¼‰ã€‚å°±æ˜¯æ³¨å†Œå¾ˆå¤šè´¦å·ï¼Œç”¨è¿™äº›è´¦å·åŒæ—¶è´­ä¹°Aå’Œè‡ªå·±çš„å•†å“ã€‚æ­¤æ–¹æ³•é’ˆå¯¹äºšé©¬é€Šçš„ä¸€ç§æ¨èæ–¹æ³•ï¼Œâ€œè´­ä¹°å•†å“Açš„ç”¨æˆ·ä¹Ÿç»å¸¸è´­ä¹°çš„å…¶ä»–å•†å“â€ã€‚ è¯„æµ‹ç®—æ³•çš„å¥å£®æ€§ï¼Œä¸»è¦åˆ©ç”¨æ¨¡æ‹Ÿæ”»å‡»ï¼š aï¼‰ç»™å®šä¸€ä¸ªæ•°æ®é›†å’Œç®—æ³•ï¼Œç”¨ç®—æ³•ç»™æ•°æ®é›†ä¸­çš„ç”¨æˆ·ç”Ÿæˆæ¨èåˆ—è¡¨ï¼›bï¼‰ç”¨å¸¸ç”¨çš„æ”»å‡»æ–¹æ³•å‘æ•°æ®é›†ä¸­æ³¨å…¥å™ªå£°æ•°æ®ï¼›cï¼‰åˆ©ç”¨ç®—æ³•åœ¨æœ‰å™ªå£°çš„æ•°æ®é›†ä¸Šå†æ¬¡ç”Ÿæˆæ¨èåˆ—è¡¨ï¼›dï¼‰é€šè¿‡æ¯”è¾ƒæ”»å‡»å‰åæ¨èåˆ—è¡¨çš„ç›¸ä¼¼åº¦è¯„æµ‹ç®—æ³•çš„å¥å£®æ€§ã€‚ æé«˜ç³»ç»Ÿå¥å£®æ€§çš„æ–¹æ³•ï¼š é€‰æ‹©å¥å£®æ€§é«˜çš„ç®—æ³•ï¼› é€‰æ‹©ä»£ä»·è¾ƒé«˜çš„ç”¨æˆ·è¡Œä¸ºï¼Œå¦‚è´­ä¹°è¡Œä¸ºæ¯”æµè§ˆè¡Œä¸ºä»£ä»·é«˜ï¼› åœ¨ä½¿ç”¨æ•°æ®å‰ï¼Œè¿›è¡Œæ”»å‡»æ£€æµ‹ï¼Œä»è€Œå¯¹æ•°æ®è¿›è¡Œæ¸…ç†ã€‚ 3. è¯„æµ‹ç»´åº¦å¢åŠ è¯„æµ‹ç»´åº¦çš„ç›®çš„ï¼Œå°±æ˜¯çŸ¥é“ä¸€ä¸ªç®—æ³•åœ¨ä»€ä¹ˆæƒ…å†µä¸‹æ€§èƒ½æœ€å¥½ã€‚ ä¸€èˆ¬è¯„æµ‹ç»´åº¦åˆ†3ç§ï¼š ç”¨æˆ·ç»´åº¦ä¸»è¦åŒ…æ‹¬ç”¨æˆ·çš„äººå£ç»Ÿè®¡å­¦ä¿¡æ¯ã€æ´»è·ƒåº¦ä»¥åŠæ˜¯ä¸æ˜¯æ–°ç”¨æˆ·ç­‰ï¼› ç‰©å“ç»´åº¦åŒ…æ‹¬ç‰©å“çš„å±æ€§ä¿¡æ¯ã€æµè¡Œåº¦ã€å¹³å‡åˆ†ä»¥åŠæ˜¯ä¸æ˜¯æ–°åŠ å…¥çš„ç‰©å“ç­‰ï¼› æ—¶é—´ç»´åº¦åŒ…æ‹¬å­£èŠ‚ï¼Œæ˜¯å·¥ä½œæ—¥è¿˜æ˜¯å‘¨æœ«ï¼Œç™½å¤©è¿˜æ˜¯æ™šä¸Šç­‰ï¼› å¦‚æœæ¨èç³»ç»Ÿçš„è¯„æµ‹æŠ¥å‘Šä¸­ï¼ŒåŒ…å«äº†ä¸åŒç»´åº¦ä¸‹çš„ç³»ç»Ÿè¯„æµ‹æŒ‡æ ‡ï¼Œå°±èƒ½å¸®æˆ‘ä»¬å…¨é¢äº†è§£ç³»ç»Ÿæ€§èƒ½ã€‚ å†·å¯åŠ¨é—®é¢˜1 è§£å†³æ–¹æ¡ˆï¼š æä¾›éä¸ªæ€§åŒ–æ¨èï¼Œå¦‚çƒ­é—¨æ’è¡Œã€‚ç­‰æœ‰äº†æ•°æ®ä¹‹åå†æ¨èã€‚ åˆ©ç”¨ç”¨æˆ·æ³¨å†Œä¿¡æ¯ï¼Œåšç²—ç²’åº¦çš„ä¸ªæ€§åŒ–ã€‚ åˆ©ç”¨ç”¨æˆ·çš„ç¤¾äº¤ç½‘ç»œè´¦å·ï¼Œå¯¼å…¥ç”¨æˆ·çš„å¥½å‹ï¼Œæ¨èå¥½å‹å–œæ¬¢çš„ç‰©å“ã€‚ ç”¨æˆ·åˆæ¬¡ç™»å½•æ—¶ï¼Œå¯¹ä¸€äº›ç‰©å“è¿›è¡Œåé¦ˆï¼Œæ ¹æ®è¿™äº›ä¿¡æ¯åšä¸ªæ€§åŒ–ã€‚ å¯¹äºæ–°ä¸Šçº¿çš„ç‰©å“ï¼Œåˆ©ç”¨å†…å®¹ä¿¡æ¯ï¼Œæ¨èç»™å–œæ¬¢ç±»ä¼¼ç‰©å“çš„ç”¨æˆ·ã€‚ ç³»ç»Ÿå†·å¯åŠ¨ï¼Œå¯ä»¥å¼•å…¥å¤–éƒ¨èµ„æºï¼Œå¦‚ä¸“å®¶çŸ¥è¯†ï¼Œå»ºç«‹èµ·ç‰©å“çš„ç›¸å…³åº¦ã€‚ 2 å†·å¯åŠ¨ï¼Œå¯åŠ¨ç”¨æˆ·å…´è¶£çš„ç‰©å“éœ€è¦å…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š æ¯”è¾ƒçƒ­é—¨ å…·æœ‰ä»£è¡¨æ€§å’ŒåŒºåˆ†æ€§ å¯åŠ¨ç‰©å“é›†åˆéœ€è¦æœ‰å¤šæ ·æ€§ 3 é€‰æ‹©å¯åŠ¨ç‰©å“é›†åˆçš„ç³»ç»Ÿ å¦‚ä½•è®¾è®¡ä¸€ä¸ªé€‰æ‹©å¯åŠ¨ç‰©å“é›†åˆçš„ç³»ç»Ÿï¼ŸNadav Golbandiåœ¨è®ºæ–‡ä¸­æå‡ºç”¨ä¸€ä¸ªå†³ç­–æ ‘è§£å†³ã€‚ é¦–å…ˆï¼Œç»™å®šä¸€ç¾¤ç”¨æˆ·ï¼Œç”¨è¿™ç¾¤ç”¨æˆ·å¯¹ç‰©å“è¯„åˆ†çš„æ–¹å·®åº¦é‡è¿™ç¾¤ç”¨æˆ·å…´è¶£çš„ä¸€è‡´ç¨‹åº¦ã€‚å¦‚æœæ–¹å·®å¾ˆå°ï¼Œè¯´æ˜è¿™ä¸€ç¾¤ç”¨æˆ·çš„å…´è¶£ä¸å¤ªä¸€è‡´ï¼Œä¹Ÿå°±æ˜¯ç‰©å“å…·æœ‰æ¯”è¾ƒå¤§çš„åŒºåˆ†åº¦ï¼Œåä¹‹åˆ™è¯´æ˜è¿™ç¾¤ç”¨æˆ·çš„å…´è¶£æ¯”è¾ƒä¸€è‡´ã€‚ å†æ ¹æ®ç”¨æˆ·çš„è¯„åˆ†æ–¹å·®è®¡ç®—ç‰©å“çš„åŒºåˆ†åº¦ã€‚ ä¹Ÿå°±æ˜¯è¯´ï¼Œå¯¹äºç‰©å“iï¼Œå°†ç”¨æˆ·åˆ†ä¸º3ç±»â€”å–œæ¬¢ç‰©å“içš„ç”¨æˆ·ï¼Œä¸å–œæ¬¢ç‰©å“içš„ç”¨æˆ·å’Œä¸çŸ¥é“ç‰©å“içš„ç”¨æˆ·ã€‚å¦‚æœè¿™3ç±»ç”¨æˆ·é›†åˆå†…çš„ç”¨æˆ·å¯¹å…¶ä»–çš„ç‰©å“å…´è¶£å¾ˆä¸ä¸€è‡´ï¼Œè¯´æ˜ç‰©å“iå…·æœ‰è¾ƒé«˜çš„åŒºåˆ†åº¦ã€‚ ç®—æ³•é¦–å…ˆä»æ‰€æœ‰ç”¨æˆ·ä¸­æ‰¾åˆ°å…·æœ‰æœ€é«˜åŒºåˆ†åº¦çš„ç‰©å“iï¼Œç„¶åå°†ç”¨æˆ·åˆ†æˆ3ç±»ã€‚ç„¶ååœ¨æ¯ç±»ç”¨æˆ·ä¸­å†æ‰¾åˆ°æœ€å…·åŒºåˆ†åº¦çš„ç‰©å“ï¼Œç„¶åå°†æ¯ä¸€ç±»ç”¨æˆ·åˆå„è‡ªåˆ†ä¸º3ç±»ï¼Œä¹Ÿå°±æ˜¯å°†æ€»ç”¨æˆ·åˆ†ä¸º9ç±»ï¼Œç„¶åç»§ç»­è¿™æ ·ä¸‹å»ï¼Œæœ€ç»ˆå¯ä»¥é€šè¿‡å¯¹ä¸€ç³»åˆ—ç‰©å“çš„çœ‹æ³•å°†ç”¨æˆ·è¿›è¡Œåˆ†ç±»ã€‚ åœ¨å†·å¯åŠ¨æ—¶ï¼Œä»æ ¹èŠ‚ç‚¹å¼€å§‹è¯¢é—®ç”¨æˆ·å¯¹è¯¥èŠ‚ç‚¹ç‰©å“çš„çœ‹æ³•ï¼Œç„¶åæ ¹æ®ç”¨æˆ·çš„é€‰æ‹©å°†ç”¨æˆ·æ”¾åˆ°ä¸åŒçš„åˆ†æï¼Œç›´åˆ°è¿›å…¥æœ€åçš„å¶å­èŠ‚ç‚¹ï¼Œæ­¤æ—¶å¯¹ç”¨æˆ·çš„å…´è¶£æœ‰äº†æ¯”è¾ƒæ¸…æ¥šçš„äº†è§£ï¼Œä»è€Œå¯ä»¥å¼€å§‹å¯¹ç”¨æˆ·è¿›è¡Œæ¯”è¾ƒå‡†ç¡®åœ°ä¸ªæ€§åŒ–æ¨èã€‚ 4 åˆ©ç”¨ç‰©å“çš„å†…å®¹ä¿¡æ¯ å°±æ˜¯åŸºäºå†…å®¹çš„æ¨èï¼Œå¾ˆé€‚åˆè§£å†³ç‰©å“å†·å¯åŠ¨é—®é¢˜ã€‚ ç‰©å“å†·å¯åŠ¨å¯¹è¯¸å¦‚æ–°é—»ç½‘ç«™ç­‰æ—¶æ•ˆæ€§å¾ˆå¼ºçš„ç½‘ç«™çš„æ¨èéå¸¸é‡è¦ï¼Œå› ä¸ºé‚£äº›ç½‘ç«™ä¸­æ—¶æ—¶åˆ»åˆ»éƒ½æœ‰æ–°åŠ å…¥çš„ç‰©å“ï¼Œè€Œä¸”æ¯ä¸ªç‰©å“å¿…é¡»èƒ½å¤Ÿåœ¨ç¬¬ä¸€æ—¶é—´å±•ç°ç»™ç”¨æˆ·ï¼Œå¦åˆ™ç»è¿‡ä¸€æ®µæ—¶é—´åï¼Œç‰©å“çš„ä»·å€¼å°±å¤§å¤§é™ä½äº†ã€‚ ä¸€èˆ¬æ¥è¯´ï¼Œç‰©å“çš„å†…å®¹å¯ä»¥é€šè¿‡å‘é‡ç©ºé—´æ¨¡å‹è¡¨ç¤ºï¼Œè¯¥æ¨¡å‹ä¼šå°†ç‰©å“è¡¨ç¤ºæˆä¸€ä¸ªå…³é”®è¯å‘é‡ã€‚ å¦‚æœç‰©å“çš„å†…å®¹æ˜¯è¯¸å¦‚å¯¼æ¼”ã€æ¼”å‘˜ç­‰å®ä½“ï¼Œå¯ä»¥ç›´æ¥å°†å®ä½“ä½œä¸ºå…³é”®è¯ã€‚å¦‚æœå†…å®¹æ˜¯æ–‡æœ¬ï¼Œéœ€è¦å¼•å…¥è‡ªç„¶è¯­è¨€çš„æŠ€æœ¯æŠ½å–å…³é”®è¯ã€‚å¦‚ä½•å»ºç«‹æ–‡ç« ã€è¯é¢˜å’Œå…³é”®è¯çš„å…³ç³»æ˜¯è¯é¢˜æ¨¡å‹ç ”ç©¶çš„é‡ç‚¹ï¼Œä»£è¡¨æ€§çš„è¯é¢˜æ¨¡å‹æœ‰LDAã€‚ æœ€åæ¨èå‡ ç¯‡åšæ–‡ åŸºäºå†…å®¹å’Œç”¨æˆ·ç”»åƒçš„æ¨èï¼šæ­¤ç§ç®—æ³•ï¼Œå¯è§ä¹‹å‰çš„ä¸€ç¯‡æ–‡ç« ï¼šhttp://www.rowkey.me/blog/2016/04/07/up-recommend/ã€‚ åŸºäºçŸ©é˜µåˆ†è§£çš„æ¨è: åŸºäºSVD/ALSç®—æ³•å¯¹ç”¨æˆ·è¿›è¡Œå†…å®¹æ¨èã€‚ç›¸æ¯”èµ·SVDï¼ŒALSæ›´åŠ é€‚åˆè§£å†³ç¨€ç–çŸ©é˜µçš„é—®é¢˜ã€‚Spark mlibä¸­å·²ç»é›†æˆäº†å¯¹alsç®—æ³•çš„å®ç°ï¼Œéœ€è¦åšçš„å°±æ˜¯åœ¨etl-1ä¸­æŠŠæ•°æ®è½¬æ¢ä¸ºalséœ€è¦çš„æ•°æ®æ ¼å¼ä»¥åŠè°ƒæ•´alsç®—æ³•çš„å„ç§å‚æ•°ã€‚è¿™é‡Œæœ‰ä¸€ç¯‡æ–‡ç« æ¯”è¾ƒå…·ä½“åœ°æè¿°äº†å¦‚ä½•ä½¿ç”¨sparkæ¥åšåŸºäºALSçš„æ¨èï¼šhttp://colobu.com/2015/11/30/movie-recommendation-for-douban-users-by-spark-mllib/ã€‚ ç”¨æˆ·&amp;ç‰©å“ååŒè¿‡æ»¤æ¨èï¼šåŒ…æ‹¬UserBased CFå’ŒItemBased CFã€‚å¯¹äºè¿™ä¸¤è€…ï¼Œéœ€è¦æ ¹æ®ä¸šåŠ¡çš„ä¸åŒæ¥é€‰æ‹©ä¸åŒçš„ç®—æ³•ã€‚å½“ç”¨æˆ·éå¸¸å¤šçš„æ—¶å€™ï¼Œè€ƒè™‘åˆ°ç»´æŠ¤ç”¨æˆ·çŸ©é˜µçš„æˆæœ¬ï¼Œä¸€èˆ¬æ˜¯ä¸æ¨èé€‰æ‹©ç”¨æˆ·ååŒè¿‡æ»¤çš„ï¼Œè€Œå¯¹äºå€™é€‰itemå¾ˆå¤šçš„æ—¶å€™ï¼Œåˆ™ä¸æ¨èä½¿ç”¨ç‰©å“ååŒè¿‡æ»¤ å‚è€ƒæ–‡çŒ®ï¼šé¡¹äº®ã€Šæ¨èç³»ç»Ÿå®è·µã€‹å‚è€ƒè®ºæ–‡ï¼šhttp://t.cn/RjXktmChttp://t.cn/RjXkiFPhttp://blog.csdn.net/qingqingpiaoguo/article/details/60882309 https://www.zhihu.com/question/27141495/answer/161027882]]></content>
      <categories>
        <category>æœºå™¨å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>æœºå™¨å­¦ä¹ </tag>
        <tag>æ¨èç³»ç»Ÿ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æµ…è°ˆåˆ†å¸ƒå¼]]></title>
    <url>%2F2018%2F06%2F07%2F%E6%B5%85%E8%B0%88%E5%88%86%E5%B8%83%E5%BC%8F%2F</url>
    <content type="text"><![CDATA[ä»ITæ—¶ä»£èµ°å‘DTæ—¶ä»£ åˆ†å¸ƒå¼åŸºç¡€åˆ†å¸ƒå¼ï¼ŒæŒ‰å­—é¢æ„æ€å°±æ˜¯å¹¶è¡Œè®¡ç®—ï¼Œå¯¹äºä¸€äº›ä¸²è¡Œçš„è®¡ç®—å¯ä»¥è¿ç”¨ã€‚ä¸€äº›æœ¬æ¥å°±å¹¶è¡Œçš„å°±ä¸å¯ä»¥ã€‚ ä¹‹å‰èŠèµ·è¿™ä¸ªï¼Œå°±ä¼šè¯´mapreduceï¼Œå°±æ˜¯æŠŠä»»åŠ¡åˆ†æ‹†å¼€æ¥ï¼Œæœ€åè®¡ç®—çš„æ—¶å€™å†åˆå¹¶ã€‚ä½†åæ¥å‘ç°è¿™æ ·çš„å›ç­”å¤ªæ°´äº†ï¼Œçœ‹äº†å‡ ç¯‡ä»‹ç»åˆ†å¸ƒå¼è®¡ç®—çš„PPTï¼Œç‰¹æ­¤å†™ä¸‹æ¥åˆ†å¸ƒå¼åˆ°åº•æ˜¯æ€ä¹ˆä¸€å›äº‹ã€‚ æˆ‘ä»¬ç”¨ä¸€ä¸ªçŸ©é˜µè¿ç®—ä½œä¸ºä¾‹å­ï¼š å¯¹äºä¸¤ä¸ªçŸ©é˜µï¼ŒAå’ŒBï¼š A = \(\begin{pmatrix}1 &amp; 2 &amp; 3\\\\ 4 &amp; 5 &amp;0 \\\\ 7 &amp; 8&amp;9\\\\ 10 &amp; 11&amp;12\end{pmatrix}\) B = \(\begin{pmatrix}10 &amp; 15\\\\ 0 &amp;2 \\\\ 11 &amp;9\end{pmatrix}\) æœ‰ C = AB = \(\begin{pmatrix}43 &amp; 46\\\\ 40 &amp;70 \\\\ 169 &amp;202\\\\ 232 &amp;280\end{pmatrix}\) æˆ‘ä»¬è¦æ”¹å˜çŸ©é˜µå­˜å‚¨æ–¹å¼ï¼Œåªå­˜å‚¨é‚£äº›éé›¶çš„æ•°å€¼ã€‚ æ‰€ä»¥çŸ©é˜µAå¯ä»¥è¡¨ç¤ºæˆ å…¶ä¸­ï¼Œæ¯ä¸€è¡Œç¬¬ä¸€ä¸ªå­—æ®µä¸ºè¡Œæ ‡ç­¾iï¼Œç¬¬äºŒä¸ªå­—æ®µä¸ºåˆ—æ ‡ç­¾jï¼Œç¬¬ä¸‰ä¸ªå­—æ®µæ˜¯A[i,j],å³çŸ©é˜µå¯¹åº”çš„å€¼ã€‚ åŒç†ï¼Œå¯¹äºçŸ©é˜µBï¼Œå¯ä»¥å˜æ¢ä¸º ä¸‹å›¾ä¸­ï¼Œå¯¹äºçŸ©é˜µAï¼Œå› ä¸ºçŸ©é˜µBä¸€å…±ä¸¤åˆ—ï¼Œæ‰€ä»¥p=2ï¼Œæ‰€ä»¥keyä¼šæœ‰ï¼ˆ1ï¼Œ1ï¼‰å’Œï¼ˆ1ï¼Œ2ï¼‰ã€‚è€Œå¯¹äºæ¯ä¸ªkeyï¼Œæ¯ä¸€è¡Œä¸­æ¯ä¸€ä¸ªä½ç½®çš„æ•°æ®éƒ½å¾—å˜æˆvalueï¼Œå³value=â€a:j,aijâ€ åŒç†ï¼Œå¯¹äºçŸ©é˜µBï¼Œkå°±åœ¨keyçš„å‰é¢ï¼Œå› ä¸ºæ˜¯æ¯ä¸€åˆ—æ‹¿å‡ºæ¥åšç›¸ä¹˜ã€‚Valueä¸­ä¹Ÿå˜æˆæŒ‰è¡Œéå†ã€‚ åœ¨shuffleé˜¶æ®µï¼Œå°±æŠŠç›¸åŒçš„keyæ”¾åœ¨ä¸€èµ·åœ¨reduceé˜¶æ®µï¼Œåœ¨åŒä¸€ä¸ªkeyä¸­ï¼Œvalueç¬¬ä¸€ç»´ç›¸åŒçš„åŒ¹é…ä¸€èµ·ï¼Œå…¶ç¬¬äºŒç»´ç›¸ä¹˜ï¼Œæœ€åæŠŠæ‰€æœ‰ç›¸åŠ ï¼ˆå¦‚keyï¼ˆ1ï¼Œ1ï¼‰ä¸­ï¼Œ\(110+311\)ï¼Œå› ä¸ºa:2æ²¡æœ‰åŒ¹é…çš„ï¼Œæ‰€ä»¥å»æ‰a:2ï¼‰ æœ€åæŠŠæ¯ä¸€ä¸ªkeyç›¸åŠ å°±å¯ä»¥å¾—åˆ°ç»“æœäº†ã€‚ æ•´ä½“çš„æµç¨‹å®ç°å¦‚ä¸‹å›¾ï¼š Pythonä»£ç å®ç°å¯¹äºwordcountï¼Œå¦‚æœæ˜¯ä¸²è¡Œçš„è¯ï¼Œç­‰äºæ˜¯å¯¹äºæ¯ä¸ªwordè¿›è¡Œä¸€æ¬¡å¾ªç¯ã€‚è€Œå¹¶è¡Œçš„è¯å¯ä»¥å¤šä¸ªwordä¸€èµ·éå†ã€‚ mapä»£ç å¦‚ä¸‹ï¼š 12345import sys for line in sys.stdin: word_list = line.strip().split(&apos; &apos;) for word in word_list: print &apos;\t&apos;.join([word.strip(), str(1)]) reduceä»£ç å¦‚ä¸‹ï¼š 123456789101112131415161718import syscur_word = Nonesum = 0 for line in sys.stdin: ss = line.strip().split(&apos;\t&apos;) if len(ss) &lt; 2: continue word = ss[0].strip() count = ss[1].strip() if cur_word == None: cur_word = word if cur_word != word: print &apos;\t&apos;.join([cur_word, str(sum)]) cur_word = word sum = 0 sum += int(count) print &apos;\t&apos;.join([cur_word, str(sum)])sum = 0 ç„¶ååœ¨linuxä¸Šè¿è¡Œä»¥ä¸‹ä»£ç ï¼š src.txtä¸ºè‡ªå·±éšä¾¿æ‰¾çš„æ–‡æœ¬æ–‡ä»¶txtæ ¼å¼ 1cat src.txt | python map.py | sort -k 1 | python reduce.py è¿˜ç®—æ¯”è¾ƒç®€å•çš„ï¼Œå°±ä¸è¿‡å¤šè§£é‡Šäº†ã€‚æœ¬æ„å°±æ˜¯mapä¸­ç®—å‡ºæ¯ä¸€è¡Œä¸­çš„wordï¼Œç„¶åä¼ åˆ°reduceä¸­å¤„ç†ã€‚ å®æˆ˜ä¸­æ€ä¹ˆè¿ç”¨å¹¶è¡ŒåŒ–å¤„ç†Pythonä¸­æœ‰å‡ ä¸ªpackageå¯ä»¥åšå¹¶è¡Œï¼Œå¦‚joblibï¼Œppï¼Œmultiprocessingç­‰ï¼Œ æ­¤å¤„ä»…ä»‹ç»joblib 123from joblib import Parallel, delayedfrom math import sqrtParallel(n_jobs=1)(delayed(sqrt)(i**2) for i in range(10)) å¾—åˆ°ï¼š [0.0, 1.0, 2.0, 3.0, 4.0, 5.0, 6.0, 7.0, 8.0, 9.0] æœ¬è´¨å°±æ˜¯ä½ è¦å®šä¹‰å¥½ä¸€ä¸ªå­å‡½æ•°ï¼Œè¿™ä¸ªå­å‡½æ•°æ˜¯å¹¶è¡Œä»»åŠ¡ä¸­æ¯ä¸ªä»»åŠ¡çš„è¾“å‡ºã€‚]]></content>
      <categories>
        <category>å¤§æ•°æ®</category>
      </categories>
      <tags>
        <tag>åˆ†å¸ƒå¼</tag>
        <tag>mapreduce</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æœºå™¨å­¦ä¹ ä¹‹èšç±»]]></title>
    <url>%2F2018%2F06%2F07%2F%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E4%B9%8B%E8%81%9A%E7%B1%BB%2F</url>
    <content type="text"><![CDATA[ä»ITæ—¶ä»£èµ°å‘DTæ—¶ä»£ æ— ç›‘ç£å­¦ä¹ æ–¹æ³•åœ¨ç°å®åœºæ™¯ä¸­è¿˜æ˜¯æœ‰å¾ˆå¤šåº”ç”¨çš„ï¼Œä¾‹å¦‚åœ¨é‡‘èå’Œè®¡ç®—å¹¿å‘Šç­‰åæ¬ºè¯ˆåœºæ™¯ä¸­ï¼Œæˆ‘ä»¬æ˜¯ä¸å¯èƒ½èƒ½å¤Ÿè·å–å¤§é‡çš„æ ‡ç­¾æ•°æ®çš„ï¼Œå› ä¸ºæ¬ºè¯ˆç”¨æˆ·ä¸ä¼šå‘Šè¯‰ä½ ä»–æ˜¯æ¬ºè¯ˆç”¨æˆ·çš„ã€‚è¿™æ—¶å€™ï¼Œå¦‚æœæƒ³è¦åˆ©ç”¨æœºå™¨å­¦ä¹ æ–¹æ³•æ£€æµ‹å‡ºä»–ä»¬æ¥ï¼Œåªèƒ½ä½¿ç”¨æ— ç›‘ç£æ–¹æ³•ã€‚ K-Meansç®—æ³•ç®—æ³•æè¿°ä¸‹é¢å…·ä½“çœ‹åˆ°è¯¥ç®—æ³•çš„æ­¥éª¤ï¼š ï¼ˆ1ï¼‰æ ¹æ®è®¾å®šçš„èšç±»æ•° Kï¼Œéšæœºåœ°é€‰æ‹© K ä¸ªèšç±»ä¸­å¿ƒï¼ˆCluster Centroidï¼‰ ï¼ˆ2ï¼‰è¯„ä¼°å„ä¸ªæ ·æœ¬åˆ°èšç±»ä¸­å¿ƒçš„è·ç¦»ï¼Œå¦‚æœæ ·æœ¬è·ç¦»ç¬¬ i ä¸ªèšç±»ä¸­å¿ƒæ›´è¿‘ï¼Œåˆ™è®¤ä¸ºå…¶å±äºç¬¬ ii ç°‡ ï¼ˆ3ï¼‰è®¡ç®—æ¯ä¸ªç°‡ä¸­æ ·æœ¬çš„å¹³å‡ï¼ˆMeanï¼‰ä½ç½®ï¼Œå°†èšç±»ä¸­å¿ƒç§»åŠ¨è‡³è¯¥ä½ç½® é‡å¤ä»¥ä¸Šæ­¥éª¤ç›´è‡³å„ä¸ªèšç±»ä¸­å¿ƒçš„ä½ç½®ä¸å†å‘ç”Ÿæ”¹å˜ã€‚ .å˜é‡æ ‡å‡†åŒ–åœ¨èšç±»å‰ï¼Œé€šå¸¸éœ€è¦å¯¹ä¸ªè¿ç»­å˜é‡è¿›è¡Œæ ‡å‡†åŒ–ï¼Œå› ä¸ºæ–¹å·®å¤§çš„å˜é‡æ¯”æ–¹å·®æ™“å¾—å˜é‡å¯¹è·ç¦»æˆ–ç›¸ä¼¼åº¦çš„å½±å“æ›´å¤§ï¼Œä»è€Œå¯¹èšç±»ç»“æœçš„å½±å“æ›´å¤§ã€‚ å¸¸ç”¨çš„æ–¹æ³•æœ‰ï¼š æ­£æ€æ ‡å‡†åŒ–ï¼š\(x_i=\frac {x_i-mean(X)}{std(X}\)å½’ä¸€åŒ–ï¼š\(x_i=\frac {x_i-min(X)}{max(X)-min(X)}\) å¦‚ä½•ç¡®å®šèšç±»æ•°å®é™…ä¸Šï¼Œä¸€å¼€å§‹æ˜¯å¾ˆéš¾ç¡®å®šèšç±»æ•°çš„ï¼Œä¸‹å›¾çš„ä¸¤ç§èšç±»æ•°ä¼¼ä¹éƒ½æ˜¯å¯è¡Œçš„ï¼š ä½†æ˜¯ï¼Œä¹Ÿå­˜åœ¨ä¸€ç§ç§°ä¹‹ä¸ºè‚˜éƒ¨æ³•åˆ™ï¼ˆElbow Methodï¼‰çš„æ–¹æ³•æ¥é€‰å®šé€‚å½“çš„Kå€¼ï¼š ä¸Šå›¾æ›²çº¿ç±»ä¼¼äºäººçš„æ‰‹è‚˜ï¼Œâ€œè‚˜å…³èŠ‚â€éƒ¨åˆ†å¯¹åº”çš„ K å€¼å°±æ˜¯æœ€æ°å½“çš„ Kå€¼ï¼Œä½†æ˜¯å¹¶ä¸æ˜¯æ‰€æœ‰ä»£ä»·å‡½æ•°æ›²çº¿éƒ½å­˜åœ¨æ˜æ˜¾çš„â€œè‚˜å…³èŠ‚â€ï¼Œä¾‹å¦‚ä¸‹é¢çš„æ›²çº¿ï¼š ä¸€èˆ¬æ¥è¯´ï¼ŒK-Means å¾—åˆ°çš„èšç±»ç»“æœæ˜¯æœåŠ¡äºæˆ‘ä»¬çš„åç»­ç›®çš„ï¼ˆå¦‚é€šè¿‡èšç±»è¿›è¡Œå¸‚åœºåˆ†æï¼‰ï¼Œæ‰€ä»¥ä¸èƒ½è„±ç¦»å®é™…è€Œå•çº¯ä»¥æ•°å­¦æ–¹æ³•æ¥é€‰æ‹© K å€¼ã€‚åœ¨ä¸‹é¢è¿™ä¸ªä¾‹å­ä¸­ï¼Œå‡å®šæˆ‘ä»¬çš„è¡£æœæƒ³è¦æ˜¯åˆ†ä¸º S,M,L ä¸‰ä¸ªå°ºç ï¼Œå°±è®¾å®š K=3ï¼Œå¦‚æœæˆ‘ä»¬æƒ³è¦ XSã€Sã€Mã€Lã€XL 5 ä¸ªè¡£æœçš„å°ºç ï¼Œå°±è®¾å®š K=5ï¼š è´¨å¿ƒçš„ç›®æ ‡å‡½æ•°èšç±»çš„ç›®æ ‡é€šå¸¸ç”¨ä¸€ä¸ªç›®æ ‡å‡½æ•°è¡¨ç¤ºï¼Œè¯¥å‡½æ•°ä¾èµ–äºç‚¹ä¹‹é—´ï¼Œæˆ–ç‚¹åˆ°ç°‡çš„è´¨å¿ƒçš„ä¸´è¿‘æ€§ å¸¸è§çš„é‚»è¿‘åº¦ã€è´¨å¿ƒå’Œç›®æ ‡å‡½æ•°ç»„åˆ é‚»è¿‘åº¦å‡½æ•° è´¨å¿ƒ ç›®æ ‡å‡½æ•° æ›¼å“ˆé¡¿è·ç¦» ä¸­ä½æ•° æœ€å°åŒ–å¯¹è±¡ä¸è´¨å¿ƒçš„ç»å¯¹è¯¯å·®å’ŒSAE å¹³æ–¹æ¬§å‡ é‡Œå¾—è·ç¦» å‡å€¼ æœ€å°åŒ–å¯¹è±¡ä¸è´¨å¿ƒçš„è¯¯å·®å¹³æ–¹å’ŒSSE ä½™å¼¦ å‡å€¼ æœ€å¤§åŒ–å¯¹è±¡ä¸è´¨å¿ƒçš„ä½™å¼¦ç›¸ä¼¼åº¦å’Œ Bregmanæ•£åº¦ å‡å€¼ æœ€å°åŒ–å¯¹è±¡åˆ°è´¨å¿ƒçš„Bregmanæ•£åº¦å’Œ Bregmanæ•£åº¦å®é™…ä¸Šæ˜¯ä¸€ç±»ç´§é‚»æ€§åº¦é‡ï¼ŒåŒ…æ‹¬å¹³æ–¹æ¬§å‡ é‡Œå¾—è·ç¦»ã€‚Bregmanæ•£åº¦å‡½æ•°çš„é‡è¦æ€§åœ¨äºï¼Œä»»æ„è¿™ç±»å‡½æ•°éƒ½å¯ä»¥ç”¨ä½œä»¥å‡å€¼ä¸ºè´¨å¿ƒçš„ K-means ç±»å‹çš„èšç±»ç®—æ³•çš„åŸºç¡€ã€‚ K-meansä¼˜ç¼ºç‚¹ä¼˜ç‚¹ ç®€å•å¹¶ä¸”å¯ä»¥ç”¨äºå„ç§æ•°æ®ç±»å‹ï¼› å…·å¤‡é€‚åˆçš„ç©ºé—´å¤æ‚åº¦å’Œè®¡ç®—è´Ÿè´£åº¦ï¼Œé€‚ç”¨äºå¤§æ ·æœ¬æ•°æ®ï¼› K-means æŸäº›å˜ç§ç”šè‡³æ›´æœ‰æ•ˆ ï¼ˆäºŒåˆ†K-meansï¼‰ä¸”ä¸å—åˆå§‹åŒ–é—®é¢˜å½±å“ã€‚ ç¼ºç‚¹1. å±äºâ€œç¡¬èšç±»â€ ï¼Œ æ¯ä¸ªæ ·æœ¬åªèƒ½æœ‰ä¸€ä¸ªç±»åˆ«ã€‚ å…¶ä»–çš„ä¸€äº›èšç±»æ–¹æ³•(GMMæˆ–è€…æ¨¡ç³ŠK-meanså…è®¸â€œè½¯èšç±»â€)ã€‚2. K-meanså¯¹å¼‚å¸¸ç‚¹çš„â€œå…ç–«åŠ›â€ å¾ˆå·®ï¼Œ æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸€äº›è°ƒæ•´ï¼Œæ¯”å¦‚ä¸­å¿ƒä¸ç›´æ¥å–å‡å€¼ï¼Œ è€Œæ˜¯æ‰¾å‡å€¼æœ€è¿‘çš„æ ·æœ¬ç‚¹ä»£æ›¿â€”â€”k-medoidsç®—æ³•ã€‚3. å¯¹äºå›¢çŠ¶çš„æ•°æ®ç‚¹é›†åŒºåˆ†åº¦å¥½ï¼Œ å¯¹äºå¸¦çŠ¶(ç¯ç»•)ç­‰â€œéå‡¸â€å½¢çŠ¶ä¸å¤ªå¥½ã€‚ (ç”¨è°±èšç±»æˆ–è€…åšç‰¹å¾æ˜ å°„) å¯†åº¦èšç±»æ–¹æ³•åŸºæœ¬åè¯ æ ¸å¿ƒç‚¹ï¼š å¦‚æœè¯¥ç‚¹æ»¡è¶³ç»™å®šçš„é‚»åŸŸå†…ï¼ˆåŠå¾„ä¸ºEpsEpsçš„èŒƒå›´å†…ï¼‰çš„ç‚¹çš„ä¸ªæ•°è¶…è¿‡ç»™å®šçš„é˜ˆå€¼MinptsMinptsï¼Œåˆ™è¯¥ç‚¹ä¸ºæ»¡è¶³è¯¥æ¡ä»¶ä¸‹çš„æ ¸å¿ƒç‚¹ã€‚ è¾¹ç•Œç‚¹ï¼š è¾¹ç•Œç‚¹è½åœ¨æŸä¸ªæ ¸å¿ƒç‚¹çš„é‚»åŸŸå†…ï¼ŒåŒæ—¶è¾¹ç•Œç‚¹å¯èƒ½è½åœ¨å¤šä¸ªæ ¸å¿ƒç‚¹çš„é‚»åŸŸå†…ã€‚ å™ªå£°ç‚¹ï¼š å™ªå£°ç‚¹æ—¢éæ ¸å¿ƒç‚¹ï¼Œä¹Ÿä¸æ˜¯è¾¹ç•Œç‚¹ Ïµ é‚»åŸŸ å¯¹äºæ ·æœ¬é›† D ä¸­æ ·æœ¬ç‚¹ xiï¼Œå®ƒçš„ Ïµ é‚»åŸŸå®šä¹‰ä¸ºä¸ xi è·ç¦»ä¸å¤§äº Ïµ çš„æ ·æœ¬çš„é›†åˆï¼Œå³ NÏµ(xi)={xâˆˆD|dist(x,xi)â‰¤Ïµ}ï¼› æ ¸å¿ƒå¯¹è±¡ å¦‚æœæ ·æœ¬ x çš„ Ïµ é‚»åŸŸå†…è‡³å°‘åŒ…å« mps ä¸ªæ ·æœ¬ï¼Œå³ |NÏµ(xi)|â‰¥mpsï¼Œåˆ™ç§° x ä¸ºæ ¸å¿ƒå¯¹è±¡ï¼› å¯†åº¦ç›´è¾¾ å¦‚æœ xi æ˜¯ä¸€ä¸ªæ ¸å¿ƒå¯¹è±¡ï¼Œå¹¶ä¸” xj ä½äºå®ƒçš„ Ïµé‚»åŸŸå†…ï¼Œé‚£ä¹ˆæˆ‘ä»¬ç§° xj ç”± xi å¯†åº¦ç›´è¾¾ï¼› å¯†åº¦å¯è¾¾ å¯¹äºä»»æ„çš„ä¸¤ä¸ªä¸åŒçš„æ ·æœ¬ç‚¹ xi ä¸ xjï¼Œå¦‚æœå­˜åœ¨è¿™æ ·çš„æ ·æœ¬åºåˆ— p1,p2,â‹¯,pnï¼Œå…¶ä¸­ p1=xi,pn=xjä¸”\(p_{i+1}\)ç”±piå¯†åº¦ç›´è¾¾ï¼Œåˆ™ç§° xi ä¸ xj å¯†åº¦å¯è¾¾ï¼› å¯†åº¦ç›¸è¿ å¯¹äºä»»æ„çš„ä¸¤ä¸ªä¸åŒçš„æ ·æœ¬ç‚¹ xi ä¸ xjï¼Œå¦‚æœå­˜åœ¨ç¬¬ä¸‰ä¸ªæ ·æœ¬ç‚¹ xk ä½¿å¾— xiä¸ xjå‡ç”± xkå¯†åº¦å¯è¾¾ï¼Œåˆ™ç§° xiä¸ xjå¯†åº¦ç›¸è¿ã€‚ DBSCANç®—æ³•æ­¥éª¤ å°†æ‰€æœ‰ç‚¹æ ‡è®°ä¸ºæ ¸å¿ƒç‚¹ã€è¾¹ç•Œç‚¹æˆ–å™ªéŸ³ç‚¹ åˆ é™¤å™ªéŸ³ç‚¹ ä¸ºè·ç¦»åœ¨ EpsEps ä¹‹å†…çš„æ‰€æœ‰æ ¸å¿ƒç‚¹ä¹‹é—´èµ‹äºˆä¸€æ¡è¾¹ æ¯ç»„è”é€šçš„æ ¸å¿ƒç‚¹å½¢æˆä¸€ä¸ªç°‡ å°†æ¯ä¸ªè¾¹ç•Œç‚¹æŒ‡æ´¾åˆ°ä¸€ä¸ªä¸ä¹‹å…³è”çš„æ ¸å¿ƒç‚¹çš„ç°‡ä¸­ é€‰æ‹© DBSCAN å‚æ•° kâˆ’è·ç¦»ï¼šå¦‚ä½•é€‰æ‹© Eps å’Œ MinPts å‚æ•°ï¼ŒåŸºæœ¬çš„æ–¹æ³•æ˜¯è§‚å¯Ÿç‚¹åˆ°å®ƒçš„ç¬¬ k ä¸ªæœ€è¿‘é‚»çš„è·ç¦»ã€‚è€ƒè™‘ä¸‹ï¼Œå¦‚ä½• kä¸å¤§äºç°‡ä¸ªæ•°çš„è¯ï¼Œ kâˆ’è·ç¦»ç›¸å¯¹è¾ƒå°ï¼Œåä¹‹å¯¹äºä¸åœ¨ç°‡ä¸­çš„ç‚¹ï¼ˆå™ªéŸ³ç‚¹æˆ–å¼‚å¸¸å€¼ï¼‰åˆ™kè·ç¦»è¾ƒå¤§ã€‚å› æ­¤å¯¹äºå‚æ•°çš„é€‰å–æˆ‘ä»¬å¯ä»¥åˆ©ç”¨è¿™ç‚¹è¿›è¡Œä½œå›¾ï¼šå…ˆé€‰å–ä¸€ä¸ª k (ä¸€èˆ¬ä¸º4)ï¼Œè®¡ç®—æ‰€æœ‰ç‚¹çš„kâˆ’è·ç¦»ï¼Œå¹¶é€’å¢æ’åºï¼Œç”»å‡ºæ›²çº¿å›¾ï¼Œåˆ™æˆ‘ä»¬ä¼šçœ‹åˆ°kâˆ’è·ç¦»çš„å˜åŒ–ï¼Œå¹¶ä¾ç…§æ­¤å›¾é€‰æ‹©å‡ºåˆé€‚çš„ MinPtså‚æ•°ï¼Œå³å¯¹åº”æ‹ç‚¹çš„ä½ç½®ã€‚ ä¼˜ç‚¹å’Œç¼ºç‚¹ å¯¹å™ªå£°ä¸æ•æ„Ÿï¼Œè€Œä¸”èƒ½å¤„ç†ä»»æ„å½¢çŠ¶å’Œå¤§å°çš„ç°‡ï¼Œ DBSCAN å¯ä»¥å‘ç°ä½¿ç”¨ K å‡å€¼ä¸èƒ½å‘ç°çš„è®¸å¤šç°‡ã€‚ å½“ç°‡çš„å¯†åº¦å˜åŒ–å¤ªå¤§æ—¶ï¼Œ DBSCAN å°±ä¼šæœ‰éº»çƒ¦ã€‚ å¯¹äºé«˜ç»´æ•°æ®ä¹Ÿä¼šæœ‰é—®é¢˜ï¼Œå› ä¸ºå¯¹äºè¿™æ ·çš„æ•°æ®ï¼Œå¯†åº¦å®šä¹‰æ›´å›°éš¾ã€‚æœ€åï¼Œå½“é‚»è¿‘è®¡ç®—éœ€è¦è®¡ç®—æ‰€æœ‰çš„ç‚¹å¯¹é‚»è¿‘åº¦æ—¶ï¼ˆå¯¹äºé«˜ç»´æ•°æ®ï¼Œå¸¸å¸¸å¦‚æ­¤ï¼‰ï¼ŒDBSCAN çš„å¼€é”€å¯èƒ½æ˜¯å¾ˆå¤§çš„ã€‚ å±‚æ¬¡èšç±»æ–¹æ³•æœ‰ä¸¤ç§äº§ç”Ÿå±‚æ¬¡èšç±»çš„åŸºæœ¬æ–¹æ³•ï¼š å‡èšå‹ï¼š ä»ç‚¹ä½œä¸ºä¸ªä½“ç°‡å¼€å§‹ï¼Œæ¯ä¸€æ­¥åˆå¹¶ä¸¤ä¸ªæœ€æ¥è¿‘çš„ç°‡ åˆ†è£‚å‹ï¼š ä»åŒ…å«æ‰€æœ‰çš„ç‚¹æŸä¸ªç°‡å¼€å§‹ï¼Œæ¯ä¸€æ­¥åˆ†è£‚ä¸€ä¸ªç°‡ï¼Œç›´åˆ°æˆä¸ºå•ç‚¹ç°‡åˆ°ç›®å‰ä¸ºä¹‹ï¼Œå‡èšå±‚æ¬¡èšç±»æœ€å¸¸è§ï¼Œè¿™é‡Œåªè®¨è®ºè¿™ç±»æ–¹æ³•ã€‚ ç°‡ä¹‹é—´çš„ä¸´è¿‘æ€§ MINï¼šMINå®šä¹‰ç°‡çš„é‚»è¿‘åº¦ä¸ºä¸åŒç°‡çš„ä¸¤ä¸ªæœ€è¿‘ç‚¹ä¹‹é—´çš„è·ç¦»ï¼Œä¹Ÿå«åšå•é“¾ï¼ˆsigle linkï¼‰ MAXï¼šMAXå®šä¹‰ç°‡çš„é‚»è¿‘åº¦ä¸ºä¸åŒç°‡çš„ä¸¤ä¸ªæœ€è¿œç‚¹ä¹‹é—´çš„è·ç¦»ï¼Œä¹Ÿå«åšå…¨é“¾ï¼ˆcomplete linkï¼‰ ç»„å¹³å‡ï¼šå®ƒå®šä¹‰ç°‡é‚»è¿‘åº¦ä¸ºå–è‡ªä¸åŒç°‡çš„æ‰€æœ‰ç‚¹å¯¹é‚»è¿‘åº¦çš„å¹³å‡å€¼ã€‚ å±‚æ¬¡èšç±»çš„ä¸»è¦é—®é¢˜å¤„ç†ä¸åŒå¤§å°ç°‡çš„èƒ½åŠ›å¯¹äºå¦‚ä½•å¤„ç†å¾…åˆå¹¶çš„ç°‡å¯¹çš„ç›¸å¯¹å¤§å°ï¼ˆé„™äººç†è§£ä¸ºæƒå€¼ï¼Œè¯¥è®¨è®ºä»…é€‚ç”¨äºæ¶‰åŠæ±‚å’Œçš„ç°‡ä¸´è¿‘æ€§æ–¹æ³•ï¼Œå¦‚è´¨å¿ƒã€Wardæ–¹æ³•å’Œç»„å¹³å‡ï¼‰æœ‰ä¸¤ç§æ–¹æ³•ï¼š éåŠ æƒï¼šå¹³ç­‰çš„å¯¹å¾…æ‰€æœ‰ç°‡ï¼Œèµ‹äºˆä¸åŒå¤§å°çš„ç°‡ä¸­ç‚¹ä¸åŒçš„æƒå€¼ åŠ æƒï¼š èµ‹äºˆä¸åŒå¤§å°ç°‡ä¸­ç‚¹ç›¸åŒçš„æƒå€¼ åˆå¹¶ä¸å¯é€†å¯¹äºåˆå¹¶ä¸¤ä¸ªç°‡ï¼Œå‡èšå±‚æ¬¡èšç±»ç®—æ³•å»ç›¸é‡ä½œå‡ºæœ‰å¥½çš„å±€éƒ¨å†³ç­–ã€‚ç„¶è€Œï¼Œä¸€æ—¦åšå‡ºåˆå¹¶å†³ç­–ï¼Œä»¥åå°±ä¸èƒ½æ’¤é”€ã€‚è¿™ç§æ–¹æ³•é˜»ç¢äº†å±€éƒ¨æœ€ä¼˜æ ‡å‡†å˜æˆå…¨å±€æœ€ä¼˜æ ‡å‡†ã€‚ æœ‰ä¸€äº›æŠ€æœ¯æ˜¯å›¾å…‹æœâ€œåˆå¹¶ä¸å¯é€†â€è¿™ä¸€é™åˆ¶ï¼Œä¸€ç§é€šè¿‡ç§»åŠ¨æ ‘çš„åˆ†æ”¯ä»¥æ”¹å–„å…¨å±€ç›®æ ‡å‡½æ•°ï¼›å¦ä¸€ç§ä½¿ç”¨åˆ’åˆ†èšç±»æŠ€æœ¯ï¼ˆå¦‚K-meansï¼‰æ¥åˆ›å»ºè®¸å¤šå°ç°‡ï¼Œç„¶åä»è¿™äº›å°ç°‡å‡ºå‘è¿›è¡Œå±‚æ¬¡èšç±»ã€‚ è¯„ä»·æŒ‡æ ‡ä¼—æ‰€å‘¨çŸ¥ï¼Œå¯¹äºæœ‰ç›‘ç£å­¦ä¹ æ–¹æ³•çš„åˆ†ç±»é¢„æµ‹ç»“æœï¼Œæˆ‘ä»¬æœ‰å¾ˆå¤šç§ä¸åŒçš„è¯„ä»·æŒ‡æ ‡æ¥åº¦é‡åˆ†ç±»æ•ˆæœçš„å¥½åã€‚ä¾‹å¦‚ï¼Œå¬å›ç‡ã€ç²¾å‡†ç‡ã€å‡†ç¡®ç‡ã€F1-Score ä»¥åŠ AUC å€¼ç­‰ç­‰ã€‚ä½†æ˜¯ï¼Œç”±äºæ— ç›‘ç£å­¦ä¹ æ–¹æ³•ä¸æœ‰ç›‘ç£å­¦ä¹ ä¸åŒï¼Œç»å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬æ ¹æœ¬ä¸çŸ¥é“å®ƒçš„çœŸå®ç±»åˆ«æ ‡ç­¾ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸å¯èƒ½å®Œå…¨ä¾æ®æœ‰ç›‘ç£å­¦ä¹ æ–¹æ³•çš„è¯„ä»·æŒ‡æ ‡æ¥åº¦é‡èšç±»ç®—æ³•ã€‚ æ— ç›‘ç£èšç±»ç®—æ³•çš„è¯„ä»·æŒ‡æ ‡å¤§è‡´å¯ä»¥åˆ†ä¸ºä¸¤å¤§ç±»ï¼šä¸€ç±»æ˜¯èšç±»çš„ç»“æœå…·æœ‰æŸä¸ªå‚è€ƒæ¨¡å‹ä½œä¸ºäººä¸ºåŸºå‡†è¿›è¡Œæ¯”è¾ƒï¼Œç§°ä¹‹ä¸ºå¤–éƒ¨æŒ‡æ ‡ï¼›ç¬¬äºŒç§æ˜¯ç›´æ¥è€ƒå¯Ÿèšç±»ç»“æœè€Œä¸å‚è€ƒä»»ä½•æ¨¡å‹ï¼Œç§°ä¹‹ä¸ºå†…éƒ¨æŒ‡æ ‡ã€‚ å¤–éƒ¨æŒ‡æ ‡å¯¹æ•°æ®é›† \(D=\{x_1, x_2,\cdots,x_m\}\)ï¼Œå‡å®šé€šè¿‡èšç±»ç®—æ³•å°†æ ·æœ¬èšä¸º \(C=\{C_1,C_2,\cdots,C_k\}\)ï¼Œå‚è€ƒæ¨¡å‹ç»™å‡ºçš„ç°‡åˆ’åˆ†ä¸º \(C^=\{C_1^,C_2^,\cdots,C_s^\}\)ã€‚ç›¸åº”çš„ï¼Œä»¤ Î» ä¸ \(Î»^âˆ—\) åˆ†åˆ«è¡¨ç¤ºä¸ C ä¸ \(C^âˆ—\)å¯¹åº”çš„ç°‡æ ‡è®°å‘é‡ã€‚æˆ‘ä»¬å°†æ ·æœ¬ä¸¤ä¸¤é…å¯¹è€ƒè™‘ï¼Œå®šä¹‰å¦‚ä¸‹ï¼š å…¶ä¸­é›†åˆ S1åŒ…å«äº†åœ¨ C ä¸­å±äºç›¸åŒçš„ç°‡å¹¶ä¸”åœ¨ Câˆ—ä¸­ä¹Ÿå±äºç›¸åŒçš„ç°‡çš„æ ·æœ¬ï¼› S2 åŒ…å«äº†åœ¨ C ä¸­å±äºç›¸åŒçš„ç°‡å¹¶ä¸”åœ¨ Câˆ—ä¸­ä¸å±äºç›¸åŒçš„ç°‡çš„æ ·æœ¬â€¦â€¦ä»¥æ­¤ç±»æ¨ã€‚å¯¹æ¯ä¸ªæ ·æœ¬å¯¹ (xi,xj) (i &lt; j) ä»…èƒ½å‡ºç°åœ¨ä¸€ä¸ªé›†åˆä¸­ï¼Œå› æ­¤æœ‰ a+b+c+d=m(mâˆ’1)/2ã€‚ åŸºäºä»¥ä¸Šå®šä¹‰ï¼Œå¯¹æ— ç›‘ç£èšç±»ç®—æ³•çš„èšç±»ç»“æœï¼Œæˆ‘ä»¬æœ‰å¦‚ä¸‹çš„æ€§èƒ½åº¦é‡æŒ‡æ ‡ï¼š Jaccard ç³»æ•°ï¼ˆç®€è®°ä¸º JCIï¼‰ \begin{align} JCI = \frac{a}{a+b+c} \end{align} FM æŒ‡æ•°ï¼ˆç®€è®°ä¸ºFMIï¼‰ Rand æŒ‡æ•°ï¼ˆç®€è®°ä¸º RIï¼‰ \begin{align} RI=\frac{2(a+d)}{m(m-1)} \end{align}å¾ˆæ˜¾ç„¶ï¼Œä¸Šè¿°æŒ‡æ•°å€¼éƒ½åœ¨ [0,1] ä¹‹é—´ï¼Œå¹¶ä¸”å€¼è¶Šå¤§è¶Šå¥½ã€‚ å†…éƒ¨æŒ‡æ ‡å¯¹äºèšç±»ç»“æœ\(C=\{C_1,C_2,\cdots,C_k\}\)ï¼Œä½œå¦‚ä¸‹å®šä¹‰ï¼š å…¶ä¸­ï¼Œ\(dist(x_i,x_j)\)ç”¨äºè®¡ç®—ä¸¤ä¸ªæ ·æœ¬é—´çš„è·ç¦» \(Î¼_i\)ä»£è¡¨ç±» \(C_j\) çš„æ ·æœ¬ä¸­å¿ƒã€‚åŸºäºä»¥ä¸Šå®šä¹‰å¦‚ä¸‹å†…éƒ¨æŒ‡æ ‡ï¼š DB æŒ‡æ•°ï¼ˆç®€ç§° DBIï¼‰ \begin{align} DBI=\frac{1}{k}\sum_{i=1}^k\max_{j\ne i}\bigl(\frac{avg(C_i)+avg(C_j)}{d_{cen}(\mu_i,\mu_j)}\bigl) \end{align} Dunn æŒ‡æ•°ï¼ˆç®€ç§° DIï¼‰ æ˜¾ç„¶ï¼ŒDBI çš„å€¼è¶Šå°è¶Šå¥½ï¼Œè€Œ DI å€¼è¶Šå¤§è¶Šå¥½ã€‚]]></content>
      <categories>
        <category>æœºå™¨å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>æœºå™¨å­¦ä¹ </tag>
        <tag>èšç±»ç®—æ³•</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æœºå™¨å­¦ä¹ ä¹‹KNN]]></title>
    <url>%2F2018%2F06%2F06%2F%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E4%B9%8BKNN%2F</url>
    <content type="text"><![CDATA[ä»ITæ—¶ä»£èµ°å‘DTæ—¶ä»£ KNN ç®—æ³•æ ¸å¿ƒï¼šKDTreeKNNé‡‡ç”¨çš„å°±æ˜¯ K æœ€è¿‘é‚»å¤šæ•°æŠ•ç¥¨çš„æ€æƒ³ã€‚æ‰€ä»¥ï¼Œç®—æ³•çš„å…³é”®å°±æ˜¯åœ¨ç»™å®šçš„è·ç¦»åº¦é‡ä¸‹ï¼Œå¯¹é¢„æµ‹å®ä¾‹å¦‚ä½•å‡†ç¡®å¿«é€Ÿåœ°æ‰¾åˆ°å®ƒçš„æœ€è¿‘çš„ K ä¸ªé‚»å±…ï¼Ÿ ä¹Ÿè®¸ç»å¤§å¤šæ•°åˆå­¦è€…ä¼šè¯´ï¼Œç›´æ¥æš´åŠ›å¯»æ‰¾å‘—ï¼Œåæ­£ K ä¸€èˆ¬å–å€¼ä¸ä¼šç‰¹åˆ«å¤§ã€‚ç¡®å®ï¼Œç‰¹å¾ç©ºé—´ç»´åº¦ä¸é«˜å¹¶ä¸”è®­ç»ƒæ ·æœ¬å®¹é‡å°çš„æ—¶å€™ç¡®å®å¯è¡Œï¼Œä½†æ˜¯å½“ç‰¹å¾ç©ºé—´ç»´åº¦ç‰¹åˆ«é«˜æˆ–è€…æ ·æœ¬å®¹é‡å¤§æ—¶ï¼Œè®¡ç®—å°±ä¼šéå¸¸è€—æ—¶ï¼Œå› æ­¤è¯¥æ–¹æ³•å¹¶ä¸å¯è¡Œã€‚ å› æ­¤ï¼Œä¸ºäº†å¿«é€ŸæŸ¥æ‰¾åˆ° K è¿‘é‚»ï¼Œæˆ‘ä»¬å¯ä»¥è€ƒè™‘ä½¿ç”¨ç‰¹æ®Šçš„æ•°æ®ç»“æ„å­˜å‚¨è®­ç»ƒæ•°æ®ï¼Œç”¨æ¥å‡å°‘æœç´¢æ¬¡æ•°ã€‚å…¶ä¸­ï¼ŒKDTree å°±æ˜¯æœ€è‘—åçš„ä¸€ç§ã€‚ KD æ ‘ç®€ä»‹ KD æ ‘ï¼ˆK-dimension Treeï¼‰æ˜¯ä¸€ç§å¯¹ K ç»´ç©ºé—´ä¸­çš„å®ä¾‹ç‚¹è¿›è¡Œå­˜å‚¨ä»¥ä¾¿å¯¹å…¶è¿›è¡Œå¿«é€Ÿæ£€ç´¢çš„æ ‘å½¢æ•°æ®ç»“æ„ã€‚KD æ ‘æ˜¯æ˜¯ä¸€ç§äºŒå‰æ ‘ï¼Œè¡¨ç¤ºå¯¹ K ç»´ç©ºé—´çš„ä¸€ä¸ªåˆ’åˆ†ï¼Œæ„é€  KD æ ‘ç›¸å½“äºä¸æ–­åœ°ç”¨å‚ç›´äºåæ ‡è½´çš„è¶…å¹³é¢å°† K ç»´ç©ºé—´åˆ‡åˆ†ï¼Œæ„æˆä¸€ç³»åˆ—çš„ K ç»´è¶…çŸ©å½¢åŒºåŸŸã€‚KD æ ‘çš„æ¯ä¸ªç»“ç‚¹å¯¹åº”äºä¸€ä¸ª K ç»´è¶…çŸ©å½¢åŒºåŸŸã€‚åˆ©ç”¨ KD æ ‘å¯ä»¥çœå»å¯¹å¤§éƒ¨åˆ†æ•°æ®ç‚¹çš„æœç´¢ï¼Œä»è€Œå‡å°‘æœç´¢çš„è®¡ç®—é‡ã€‚ KD æ ‘çš„æ„é€ KD æ ‘çš„æ„é€ æ˜¯ä¸€ä¸ªé€’å½’çš„æ–¹æ³•ï¼šï¼ˆ1ï¼‰æ„é€ æ ¹èŠ‚ç‚¹ï¼Œä½¿æ ¹èŠ‚ç‚¹å¯¹åº”äº K ç»´ç©ºé—´ä¸­åŒ…å«çš„æ‰€æœ‰ç‚¹çš„è¶…çŸ©å½¢åŒºåŸŸï¼›ï¼ˆ2ï¼‰ä¸æ–­åœ°å¯¹ K ç»´ç©ºé—´è¿›è¡Œåˆ‡åˆ†ï¼Œç”Ÿæˆå­èŠ‚ç‚¹ã€‚ æ„é€ è·ŸèŠ‚ç‚¹ é¦–å…ˆï¼Œåœ¨åŒ…å«æ‰€æœ‰èŠ‚ç‚¹çš„è¶…çŸ©å½¢åŒºåŸŸé€‰æ‹©ä¸€ä¸ªåæ ‡è½´å’Œåœ¨æ­¤åæ ‡è½´ä¸Šçš„ä¸€ä¸ªåˆ‡åˆ†ç‚¹ï¼Œç¡®å®šä¸€ä¸ªå‚ç›´äºè¯¥åæ ‡è½´çš„è¶…å¹³é¢ï¼Œè¿™ä¸ªè¶…å¹³é¢å°†å½“å‰åŒºåŸŸåˆ’åˆ†ä¸ºä¸¤ä¸ªå­åŒºåŸŸï¼ˆä¹Ÿå³äºŒå‰æ ‘çš„ä¸¤å·¦å³å­©å­èŠ‚ç‚¹ï¼‰ã€‚ é€’å½’æ„é€ å­èŠ‚ç‚¹ é€’å½’åœ°å¯¹ä¸¤ä¸ªå­åŒºåŸŸè¿›è¡Œç›¸åŒçš„åˆ’åˆ†ï¼Œç›´åˆ°å­åŒºåŸŸå†…æ²¡æœ‰å®ä¾‹æ—¶ç»ˆæ­¢ï¼ˆæ­¤æ—¶åªæœ‰å¶å­èŠ‚ç‚¹ï¼‰ã€‚ é€šå¸¸æˆ‘ä»¬å¾ªç¯åœ°é€‰æ‹©åæ ‡è½´å¯¹ç©ºé—´è¿›è¡Œåˆ’åˆ†ï¼Œå½“é€‰å®šä¸€ä¸ªç»´åº¦åæ ‡æ—¶ï¼Œåˆ‡åˆ†ç‚¹æˆ‘ä»¬é€‰æ‹©æ‰€æœ‰è®­ç»ƒå®ä¾‹åœ¨è¯¥åæ ‡è½´ä¸Šçš„ä¸­ä½æ•°ã€‚æ­¤æ—¶æˆ‘ä»¬æ¥æ„é€ çš„ KD æ ‘æ˜¯å¹³è¡¡äºŒå‰æ ‘ï¼Œä½†æ˜¯å¹³è¡¡äºŒå‰æ ‘åœ¨æœç´¢æ—¶ä¸ä¸€å®šæ˜¯æœ€é«˜æ•ˆçš„ã€‚ KNNç®—æ³•åŸç†KNNç®—æ³•çš„æ ¸å¿ƒæ€æƒ³æ˜¯ä¸ºé¢„æµ‹æ ·æœ¬çš„ç±»åˆ«ï¼Œå³ä½¿æœ€é‚»è¿‘çš„kä¸ªé‚»å±…ä¸­ç±»åˆ«å æ¯”æœ€é«˜çš„çš„ç±»åˆ«ï¼š å‡è®¾X_testä¸ºæœªæ ‡è®°çš„æ•°æ®æ ·æœ¬ï¼ŒX_trainä¸ºå·²æ ‡è®°ç±»åˆ«çš„æ ·æœ¬ï¼Œç®—æ³•åŸç†ä¼ªä»£ç å¦‚ä¸‹ï¼š éå†X_trainä¸­æ‰€æœ‰æ ·æœ¬ï¼Œè®¡ç®—æ¯ä¸ªæ ·æœ¬ä¸X_testçš„è·ç¦»ï¼Œå¹¶ä¿å­˜åœ¨Distanceæ•°ç»„ä¸­ å¯¹Distanceæ•°ç»„è¿›è¡Œæ’åºï¼Œå–è·ç¦»æœ€è¿‘çš„kä¸ªç‚¹ï¼Œè®°ä¸ºX_knn åœ¨X_knnä¸­ç»Ÿè®¡æ¯ä¸ªç±»åˆ«çš„ä¸ªæ•° ä»£è¡¨è®°å¾—æ ·æœ¬çš„ç±»åˆ«ï¼Œå°±æ˜¯åœ¨X_knnä¸­æ ·æœ¬æœ€å¤šçš„ç±»åˆ« ç®—æ³•ä¼˜ç¼ºç‚¹ä¼˜ç‚¹ï¼šå‡†ç¡®æ€§é«˜ï¼Œå¯¹å¼‚å¸¸å€¼å’Œå™ªå£°æœ‰è¾ƒé«˜çš„å®¹å¿åº¦ ç¼ºç‚¹ï¼šè®¡ç®—é‡å¤§ï¼Œå¯¹å†…å­˜çš„éœ€æ±‚ä¹Ÿè¾ƒå¤§ ç®—æ³•å‚æ•°ï¼ˆkï¼‰kè¶Šå¤§ï¼šæ¨¡å‹åå·®è¶Šå¤§ï¼Œå¯¹å™ªå£°è¶Šä¸æ•æ„Ÿã€‚è¿‡å¤§æ˜¯é€ æˆæ¬ æ‹Ÿåˆ kè¶Šå°ï¼šæ¨¡å‹çš„æ–¹å·®å°±ä¼šè¶Šå¤§ã€‚å¤ªå°æ˜¯ä¼šé€ æˆè¿‡æ‹Ÿåˆ ç®—æ³•çš„å˜ç§å¢åŠ é‚»å±…çš„æƒé‡ï¼šé»˜è®¤æƒ…å†µä¸‹X_knnçš„æƒé‡ç›¸ç­‰ï¼Œæˆ‘ä»¬å¯ä»¥æŒ‡å®šç®—æ³•çš„weightså‚æ•°è°ƒæ•´æˆè·ç¦»è¶Šè¿‘æƒé‡è¶Šå¤§ ä½¿ç”¨ä¸€å®šåŠå¾„å†…çš„ç‚¹å–ä»£è·ç¦»æœ€è¿‘çš„kkä¸ªç‚¹ï¼ŒRadiusNeighborsClassifierç±»å®ç°äº†è¿™ä¸ªç®—æ³• ä½¿ç”¨KNNä½œåˆ†ç±» sklearn.neighbors.KNeighborsClassifier 123456789101112131415from sklearn.datasets.samples_generator import make_blobs# ç”Ÿæˆn_samplesä¸ªè®­ç»ƒæ ·æœ¬ï¼Œåˆ†å¸ƒåœ¨centerså‚æ•°æŒ‡å®šçš„ä¸­å¿ƒç‚¹å‘¨å›´ã€‚ cluster_stdä¸ºæ ‡å‡†å·®ï¼ŒæŒ‡å®šç”Ÿæˆçš„ç‚¹åˆ†å¸ƒçš„ç¨€ç–ç¨‹åº¦centers = [[-2,2], [2,2], [0,4]]X , y = make_blobs(n_samples=100, centers=centers, random_state=0, cluster_std=0.60)# ç”»å‡ºæ•°æ®%matplotlib inlinefrom matplotlib import pyplot as pltimport numpy as npimport pandas as pdplt.figure(figsize=(8,5), dpi=100)c = np.array(centers)plt.scatter(X[:,0], X[:,1], c=y, s=10, cmap=&apos;cool&apos;)plt.scatter(c[:,0], c[:,1], s=50, marker=&apos;^&apos;, c=&apos;red&apos;) 12345from sklearn.neighbors import KNeighborsClassifierk = 5clf = KNeighborsClassifier(n_neighbors=k)clf.fit(X, y) 1234# X_test = np.array([0, 2]).reshape(1,-1)X_test = [[0,2]]y_test = clf.predict(X_test)neighbors = clf.kneighbors(X_test, return_distance=False) 12345678910111213141516171819from sklearn.datasets.samples_generator import make_blobs# ç”Ÿæˆn_samplesä¸ªè®­ç»ƒæ ·æœ¬ï¼Œåˆ†å¸ƒåœ¨centerså‚æ•°æŒ‡å®šçš„ä¸­å¿ƒç‚¹å‘¨å›´ã€‚ cluster_stdä¸ºæ ‡å‡†å·®ï¼ŒæŒ‡å®šç”Ÿæˆçš„ç‚¹åˆ†å¸ƒçš„ç¨€ç–ç¨‹åº¦centers = [[-2,2], [2,2], [0,4]]X , y = make_blobs(n_samples=100, centers=centers, random_state=0, cluster_std=0.60)# ç”»å‡ºæ•°æ®%matplotlib inlinefrom matplotlib import pyplot as pltimport numpy as npimport pandas as pdplt.figure(figsize=(8,5), dpi=100)c = np.array(centers)plt.scatter(X[:,0], X[:,1], c=y, s=10, cmap=&apos;cool&apos;) # æ ·æœ¬plt.scatter(c[:,0], c[:,1], s=50, marker=&apos;^&apos;, c=&apos;red&apos;) # ä¸­å¿ƒç‚¹plt.scatter(X_test[0][0], X_test[0][1], marker=&apos;x&apos;, s=50, c=&apos;blue&apos;) # ä¸­å¿ƒç‚¹for i in neighbors[0]: plt.plot([X[i][0], X_test[0][0]], [X[i][1], X_test[0][1]],&apos;k--&apos;, linewidth=0.5) KNNå›å½’æ‹Ÿåˆ12345678910from sklearn.neighbors import KNeighborsRegressorimport numpy as np%matplotlib inlinefrom matplotlib import pyplot as pltn = 50X = 5 * np.random.rand(n ,1)y = np.cos(X).ravel()# æ·»åŠ ä¸€äº›å™ªå£°y += 0.2 * np.random.rand(n) - 0.1 123k = 5knn = KNeighborsRegressor(k)knn.fit(X, y) KNeighborsRegressor(algorithm=â€™autoâ€™, leaf_size=30,metric=â€™minkowskiâ€™,metric_params=None, n_jobs=1,n_neighbors=5, p=2,weights=â€™uniformâ€™) 123T = np.linspace(0,5, 500)[:, np.newaxis]y_pred = knn.predict(T)knn.score(X,y) 0.9909058023770559 123456plt.figure(figsize=(8,5), dpi=100)plt.scatter(X, y, label=&apos;data&apos;, s=10)plt.scatter(T, y_pred, label=&apos;prediction&apos;, lw=4, s=0.1)plt.axis(&apos;tight&apos;)plt.title(&quot;KNeighborsRegressor (k=%i)&quot; % k)plt.show() ç³–å°¿ç—…é¢„æµ‹æ€»å…±æœ‰768ä¸ªæ•°æ®ã€8ä¸ªç‰¹å¾ï¼Œå…¶ä¸­Outcomeä¸ºæ ‡è®°å€¼ï¼ˆ1è¡¨ç¤ºæœ‰ç³–å°¿ç—…ï¼‰12345678import numpy as npimport pandas as pddata = pd.read_csv(&apos;code/datasets/pima-indians-diabetes/diabetes.csv&apos;)X = data.iloc[:,0:8]y = data.iloc[:,8]from sklearn.model_selection import train_test_splitX_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.2) æ¨¡å‹æ¯”è¾ƒ åˆ†åˆ«ä½¿ç”¨æ™®é€šKNNï¼ŒåŠ æƒé‡KNNï¼Œå’ŒæŒ‡å®šæƒé‡çš„KNNåˆ†åˆ«å¯¹æ•°æ®æ‹Ÿåˆè®¡ç®—è¯„åˆ† 1234567from sklearn.neighbors import KNeighborsClassifier, KNeighborsRegressor, RadiusNeighborsClassifiermodels = []models.append((&quot;KNN&quot;, KNeighborsClassifier(n_neighbors=10)))models.append((&quot;KNN + weights&quot;, KNeighborsClassifier(n_neighbors=10, weights=&quot;distance&quot;)))models.append((&quot;Radius Neighbors&quot;, RadiusNeighborsClassifier(n_neighbors=10, radius=500.0))) 123456results = []for name, model in models: model.fit(X_train, y_train) results.append((name, model.score(X_test, y_test)))for i in range(len(results)): print(&quot;name:&#123;&#125;; score:&#123;&#125;&quot;.format(results[i][0], results[i][1])) name:KNN; score:0.7207792207792207name:KNN + weights; score:0.6818181818181818name:Radius Neighbors; score:0.6558441558441559 æ­¤æ—¶å•ä»å¾—åˆ†ä¸Šçœ‹ï¼Œæ™®é€šçš„KNNæ€§èƒ½æ˜¯æœ€å¥½çš„ï¼Œä½†æ˜¯æˆ‘ä»¬çš„è®­ç»ƒæ ·æœ¬å’Œæµ‹è¯•æ ·æœ¬æ˜¯éšæœºåˆ†é…çš„ï¼Œä¸åŒçš„è®­ç»ƒé›†ã€æµ‹è¯•é›†ä¼šé€ æˆä¸åŒå¾—åˆ†ã€‚ ä¸ºäº†æ¶ˆé™¤éšæœºæ ·æœ¬é›†å¯¹å¾—åˆ†ç»“æœå¯èƒ½çš„å½±å“ï¼Œscikit-learnæä¾›äº†KFoldå’Œcross_val_score()å‡½æ•°æ¥å¤„ç†è¿™ä¸ªé—®é¢˜ 12345678910from sklearn.model_selection import KFoldfrom sklearn.model_selection import cross_val_scoreresults = []for name , model in models: kfold = KFold(n_splits=10) cv_result = cross_val_score(model, X, y, cv=kfold) # è¿™é‡Œè¦ç»™æ¨¡å‹å…¨éƒ¨çš„æ ·æœ¬é›† results.append((name, cv_result))for i in range(len(results)): print(&quot;name:&#123;&#125;; cross_val_score:&#123;&#125;&quot;.format(results[i][0], results[i][1].mean())) name:KNN; cross_val_score:0.74865003417635name:KNN + weights; cross_val_score:0.7330485304169514name:Radius Neighbors; cross_val_score:0.6497265892002735 ç”¨æŸ¥å‡†ç‡å’Œå¬å›ç‡ä»¥åŠF1å¯¹è¯¥æ¨¡å‹è¿›è¡Œè¯„ä¼°ï¼š123456789from sklearn.metrics import f1_score, precision_score, recall_scoreknn = KNeighborsClassifier(10)knn.fit(X_train, y_train)y_pred = knn.predict(X_test)print(&quot;è¯¥æ¨¡å‹æŸ¥å‡†ç‡ä¸ºï¼š&quot;, precision_score(y_test, y_pred))print(&quot;è¯¥æ¨¡å‹å¬å›ç‡ä¸ºï¼š&quot;, recall_score(y_test, y_pred))print(&quot;è¯¥æ¨¡å‹F1_scoreä¸ºï¼š&quot;, f1_score(y_test, y_pred)) è¯¥æ¨¡å‹æŸ¥å‡†ç‡ä¸ºï¼š 0.6086956521739131è¯¥æ¨¡å‹å¬å›ç‡ä¸ºï¼š 0.5283018867924528è¯¥æ¨¡å‹F1_scoreä¸ºï¼š 0.5656565656565657 æ¨¡å‹çš„è®­ç»ƒåŠåˆ†æ â€“ å­¦ä¹ æ›²çº¿ä¸‹é¢å°±é€‰æ‹©ç”¨æ™®é€šKNNç®—æ³•æ¨¡å‹å¯¹æ•°æ®é›†è¿›è¡Œè®­ç»ƒï¼Œå¹¶æŸ¥çœ‹è®­ç»ƒæ ·æœ¬çš„æ‹Ÿåˆæƒ…å†µåŠå¯¹ç­–æµ‹è¯•æ ·æœ¬çš„é¢„æµ‹å‡†ç¡®æ€§ï¼š è¾“å…¥å‚æ•°ï¼š estimator : ä½ ç”¨çš„åˆ†ç±»å™¨ã€‚title : è¡¨æ ¼çš„æ ‡é¢˜ã€‚X : è¾“å…¥çš„featureï¼Œnumpyç±»å‹y : è¾“å…¥çš„target vectorylim : tupleæ ¼å¼çš„(ymin, ymax), è®¾å®šå›¾åƒä¸­çºµåæ ‡çš„æœ€ä½ç‚¹å’Œæœ€é«˜ç‚¹cv : åšcross-validationçš„æ—¶å€™ï¼Œæ•°æ®åˆ†æˆçš„ä»½æ•°ï¼Œå…¶ä¸­ä¸€ä»½ä½œä¸ºcvé›†ï¼Œå…¶ä½™n-1ä»½ä½œä¸ºtraining(é»˜è®¤ä¸º3ä»½)n_jobs : å¹¶è¡Œçš„çš„ä»»åŠ¡æ•°(é»˜è®¤1)) è¾“å‡ºå‚æ•°ï¼š train_sizes_abs :è®­ç»ƒæ ·æœ¬æ•°train_scores:è®­ç»ƒé›†ä¸Šå‡†ç¡®ç‡test_scores:äº¤å‰éªŒè¯é›†ä¸Šçš„å‡†ç¡®ç‡) 123456knn = KNeighborsClassifier(n_neighbors=2)knn.fit(X_train, y_train)train_score = knn.score(X_train, y_train)test_score = knn.score(X_test, y_test)print(&apos;è®­ç»ƒé›†å¾—åˆ†ï¼š&apos;,train_score)print(&apos;æµ‹è¯•é›†å¾—åˆ†ï¼š&apos;,test_score) è®­ç»ƒé›†å¾—åˆ†ï¼š 0.8517915309446255æµ‹è¯•é›†å¾—åˆ†ï¼š 0.6948051948051948 123456789101112131415161718192021222324from sklearn.model_selection import learning_curvefrom sklearn.model_selection import ShuffleSplit# from common.utils import plot_learning_curvedef plot_learn_curve(estimator, title, X, y, ylim = None, cv=None, n_jobs=1, train_sizes=np.linspace(.1, 1., 10)): plt.title(title) if ylim is not None: plt.ylim(*ylim) plt.xlabel(&quot;train exs&quot;) plt.ylabel(&quot;Score&quot;) train_sizes, train_scores, test_scores = learning_curve(estimator, X, y, cv=cv, n_jobs=n_jobs, train_sizes=train_sizes) train_score_mean = np.mean(train_scores, axis=1) train_score_std = np.std(train_scores, axis=1) test_score_mean = np.mean(test_scores, axis=1) test_score_std = np.std(test_scores, axis=1) plt.grid() plt.fill_between(train_sizes, train_score_mean - train_score_std, train_score_mean + train_score_std, alpha=0.1, color=&apos;r&apos;) plt.fill_between(train_sizes, test_score_mean - test_score_std, test_score_mean + test_score_std, alpha=0.1, color=&apos;g&apos;) plt.plot(train_sizes, train_score_mean, &apos;o-&apos;, color=&apos;r&apos;, label=&apos;train scoreè®­ç»ƒå¾—åˆ†&apos;) plt.plot(train_sizes, test_score_mean, &apos;o-&apos;, color=&apos;g&apos;, label=&apos;cross-validation scoreäº¤å‰éªŒè¯å¾—åˆ†&apos;) plt.legend(loc=&apos;best&apos;) return plt 123456789data = pd.read_csv(&apos;code/datasets/pima-indians-diabetes/diabetes.csv&apos;)X = data.iloc[:,0:8]y = data.iloc[:,8]cv = ShuffleSplit(n_splits=10, test_size=0.2, random_state=0)plt.figure(figsize=(8,6), dpi=100)plot_learn_curve(KNeighborsClassifier(2),&quot;KNN score&quot;,X, y, ylim=(0.5, 1), cv=cv)plt.show() å½“è®­ç»ƒé›†å’Œæµ‹è¯•é›†çš„è¯¯å·®æ”¶æ•›ä½†å´å¾ˆé«˜æ—¶ï¼Œä¸ºé«˜åå·®ã€‚å·¦ä¸Šè§’çš„åå·®å¾ˆé«˜ï¼Œè®­ç»ƒé›†å’ŒéªŒè¯é›†çš„å‡†ç¡®ç‡éƒ½å¾ˆä½ï¼Œå¾ˆå¯èƒ½æ˜¯æ¬ æ‹Ÿåˆã€‚æˆ‘ä»¬å¯ä»¥å¢åŠ æ¨¡å‹å‚æ•°ï¼Œæ¯”å¦‚ï¼Œæ„å»ºæ›´å¤šçš„ç‰¹å¾ï¼Œå‡å°æ­£åˆ™é¡¹ã€‚æ­¤æ—¶é€šè¿‡å¢åŠ æ•°æ®é‡æ˜¯ä¸èµ·ä½œç”¨çš„ã€‚ å½“è®­ç»ƒé›†å’Œæµ‹è¯•é›†çš„è¯¯å·®ä¹‹é—´æœ‰å¤§çš„å·®è·æ—¶ï¼Œä¸ºé«˜æ–¹å·®ã€‚å½“è®­ç»ƒé›†çš„å‡†ç¡®ç‡æ¯”å…¶ä»–ç‹¬ç«‹æ•°æ®é›†ä¸Šçš„æµ‹è¯•ç»“æœçš„å‡†ç¡®ç‡è¦é«˜æ—¶ï¼Œä¸€èˆ¬éƒ½æ˜¯è¿‡æ‹Ÿåˆã€‚å³ä¸Šè§’æ–¹å·®å¾ˆé«˜ï¼Œè®­ç»ƒé›†å’ŒéªŒè¯é›†çš„å‡†ç¡®ç‡ç›¸å·®å¤ªå¤šï¼Œåº”è¯¥æ˜¯è¿‡æ‹Ÿåˆã€‚æˆ‘ä»¬å¯ä»¥å¢å¤§è®­ç»ƒé›†ï¼Œé™ä½æ¨¡å‹å¤æ‚åº¦ï¼Œå¢å¤§æ­£åˆ™é¡¹ï¼Œæˆ–è€…é€šè¿‡ç‰¹å¾é€‰æ‹©å‡å°‘ç‰¹å¾æ•°ã€‚ ç†æƒ³æƒ…å†µæ˜¯æ˜¯æ‰¾åˆ°åå·®å’Œæ–¹å·®éƒ½å¾ˆå°çš„æƒ…å†µï¼Œå³æ”¶æ•›ä¸”è¯¯å·®è¾ƒå°ã€‚ ç‰¹å¾é€‰æ‹©åŠæ•°æ®å¯è§†åŒ–ä½¿ç”¨sklearn.feature_selection.SelectKBesté€‰æ‹©ç›¸å…³æ€§æœ€å¤§çš„ä¸¤ä¸ªç‰¹å¾ 123456from sklearn.feature_selection import SelectKBestfrom sklearn.neighborse import KNselector = SelectKBest(k=2)X_new = selector.fit_transform(X,y)X_new[0:5] #æŠŠç›¸å…³æ€§æœ€å¤§çš„ä¸¤ä¸ªç‰¹å¾æ”¾åˆ°X_newé‡Œå¹¶æŸ¥çœ‹å‰5ä¸ªæ•°æ®æ ·æœ¬ array([[148. , 33.6],[ 85. , 26.6],[183. , 23.3],[ 89. , 28.1],[137. , 43.1]]) ä½¿ç”¨ç›¸å…³æ€§æœ€å¤§çš„ä¸¤ä¸ªç‰¹å¾ï¼Œå¯¹3ç§ä¸åŒçš„KNNç®—æ³•è¿›è¡Œæ£€éªŒ 123456789101112131415from sklearn.model_selection import KFoldfrom sklearn.model_selection import cross_val_scorefrom sklearn.neighbors import KNeighborsClassifier, KNeighborsRegressor, RadiusNeighborsClassifiermodels = []models.append((&quot;KNN&quot;, KNeighborsClassifier(n_neighbors=5)))models.append((&quot;KNN + weights&quot;, KNeighborsClassifier(n_neighbors=5, weights=&quot;distance&quot;)))models.append((&quot;Radius Neighbors&quot;, RadiusNeighborsClassifier(n_neighbors=5, radius=500.0)))results = []for name, model in models: kfold = KFold(n_splits=10) cv_result = cross_val_score(model, X_new, y, cv=kfold) results.append((name, cv_result))for i in range(len(results)): print(&quot;name: &#123;&#125;; cross_val_score: &#123;&#125;&quot;.format(results[i][0], results[i][1].mean())) name: KNN; cross_val_score: 0.7369104579630894name: KNN + weights; cross_val_score: 0.7199419002050581name: Radius Neighbors; cross_val_score: 0.6510252904989747 ä»è¾“å‡ºç»“æœæ¥çœ‹ï¼Œè¿˜æ˜¯æ™®é€šKNNçš„å‡†ç¡®æ€§æ›´é«˜ï¼Œä¸æ‰€æœ‰ç‰¹å¾æ”¾åˆ°ä¸€èµ·è®­ç»ƒçš„å‡†ç¡®æ€§å·®ä¸å¤šï¼Œè¿™ä¹Ÿä¾§é¢è¯æ˜äº†SelectKNBestç‰¹å¾é€‰å–çš„å‡†ç¡®æ€§ã€‚ å›åˆ°ç›®æ ‡ä¸Šæ¥ï¼Œæˆ‘ä»¬æ˜¯æƒ³çœ‹çœ‹ä¸ºä»€ä¹ˆKNNä¸èƒ½å¾ˆå¥½çš„æ‹Ÿåˆè®­ç»ƒæ ·æœ¬ã€‚ç°åœ¨æˆ‘ä»¬è‡³äº2ä¸ªç‰¹å¾å¯ä»¥å¾ˆæ–¹ä¾¿çš„åœ¨äºŒç»´åæ ‡ä¸Šç”»å‡ºæ‰€æœ‰çš„è®­ç»ƒæ ·æœ¬ï¼Œè§‚å¯Ÿè¿™äº›æ•°æ®åˆ†å¸ƒæƒ…å†µ 123456789%matplotlib inlinefrom matplotlib import pyplot as pltplt.figure(figsize=(8,6), dpi=100)plt.ylabel(&quot;BMI&quot;)plt.xlabel(&quot;Glucose&quot;)plt.scatter(X_new[y==0][:,0], X_new[y==0][:,1], marker=&apos;o&apos;, s=10)plt.scatter(X_new[y==1][:,0], X_new[y==1][:,1], marker=&apos;^&apos;, s=10) æ¨ªåæ ‡æ˜¯è¡€ç³–å€¼ï¼Œçºµåæ ‡æ˜¯BMIå€¼ååº”èº«ä½“è‚¥èƒ–æƒ…å†µã€‚åœ¨æ•°æ®å¯†é›†çš„åŒºåŸŸï¼Œä»£è¡¨ç³–å°¿ç—…çš„é˜´æ€§å’Œé˜³æ€§çš„æ ·æœ¬å‡ ä¹é‡å åˆ°äº†ä¸€èµ·ã€‚è¿™æ ·å°±å¾ˆç›´è§‚çš„çœ‹åˆ°ï¼ŒKNNåœ¨ç³–å°¿ç—…é¢„æµ‹çš„è¿™ä¸ªé—®é¢˜ä¸Šæ— æ³•è¾¾åˆ°å¾ˆé«˜çš„é¢„æµ‹å‡†ç¡®æ€§ã€‚]]></content>
      <categories>
        <category>æœºå™¨å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>æœºå™¨å­¦ä¹ </tag>
        <tag>KNN</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å†³ç­–æ ‘ä¹‹æ³°å¦ä¹‹ç¾]]></title>
    <url>%2F2018%2F06%2F05%2F%E5%86%B3%E7%AD%96%E6%A0%91%E4%B9%8B%E6%B3%B0%E5%9D%A6%E4%B9%8B%E7%81%BE%2F</url>
    <content type="text"><![CDATA[ä»ITæ—¶ä»£èµ°å‘DTæ—¶ä»£ æ•°æ®é¢„å¤„ç† ç­›é€‰ç‰¹å¾å€¼ï¼Œä¸¢æ‰ä¸éœ€è¦çš„ç‰¹å¾æ•°æ® å¯¹æ€§åˆ«è¿›è¡ŒäºŒå€¼åŒ–å¤„ç†ï¼ˆè½¬æ¢ä¸º0å’Œ1ï¼‰ æ¸¯å£è½¬æ¢æˆæ•°å€¼å‹æ•°æ® å¤„ç†ç¼ºå¤±å€¼ï¼ˆå¦‚å¹´é¾„ï¼Œæœ‰å¾ˆå¤šç¼ºå¤±å€¼ï¼‰ 1ã€é¦–å…ˆè¯»å–æ•°æ®123456789101112131415161718import pandas as pdimport numpy as npdef read_dataset(fname):# æŒ‡å®šç¬¬ä¸€åˆ—ä½œä¸ºè¡Œç´¢å¼• data = pd.read_csv(fname, index_col=0)# ä¸¢å¼ƒæ— ç”¨æ•°æ® data.drop([&apos;Name&apos;, &apos;Ticket&apos;, &apos;Cabin&apos;], axis=1, inplace=True)# å¤„ç†æ€§åˆ«æ•°æ® lables = data[&apos;Sex&apos;].unique().tolist() data[&apos;Sex&apos;] = [*map(lambda x: lables.index(x) , data[&apos;Sex&apos;])]# å¤„ç†ç™»èˆ¹æ¸¯å£æ•°æ® lables = data[&apos;Embarked&apos;].unique().tolist() data[&apos;Embarked&apos;] = data[&apos;Embarked&apos;].apply(lambda n: lables.index(n))# å¤„ç†ç¼ºå¤±æ•°æ®å¡«å……0 data = data.fillna(0) return datatrain = read_dataset(&apos;code/datasets/titanic/train.csv&apos;) 2ã€æ‹†åˆ†æ•°æ®é›†æŠŠSurvivedåˆ—æå–å‡ºæ¥ä½œä¸ºæ ‡ç­¾ï¼Œç„¶ååœ¨å…ƒæ•°æ®é›†ä¸­å°†å…¶ä¸¢å¼ƒã€‚åŒæ—¶æ‹†åˆ†æ•°æ®é›†å’Œäº¤å‰éªŒè¯æ•°æ®é›†12345678from sklearn.model_selection import train_test_splity = train[&apos;Survived&apos;].valuesX = train.drop([&apos;Survived&apos;], axis=1).valuesX_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.2)print(&quot;X_train_shape:&quot;, X_train.shape, &quot; y_train_shape:&quot;, y_train.shape)print(&quot;X_test_shape:&quot;, X_test.shape,&quot; y_test_shape:&quot;, y_test.shape) X_train_shape: (712, 7) y_train_shape: (712,)X_test_shape: (179, 7) y_test_shape: (179,) 3ã€æ‹Ÿåˆæ•°æ®é›†123456from sklearn.tree import DecisionTreeClassifierclf = DecisionTreeClassifier()clf.fit(X_train, y_train)print(&quot;train score:&quot;, clf.score(X_train, y_train))print(&quot;test score:&quot;, clf.score(X_test, y_test)) train score: 0.9845505617977528test score: 0.7597765363128491 ä¼˜åŒ–æ¨¡å‹å‚æ•°1ã€é€šè¿‡max_depthå‚æ•°æ¥ä¼˜åŒ–æ¨¡å‹ä»ä»¥ä¸Šè¾“å‡ºæ•°æ®å¯ä»¥çœ‹å‡ºï¼Œé’ˆå¯¹è®­ç»ƒæ ·æœ¬è¯„åˆ†å¾ˆé«˜ï¼Œä½†é’ˆå¯¹æµ‹è¯•æ•°æ®é›†è¯„åˆ†è¾ƒä½ã€‚å¾ˆæ˜æ˜¾è¿™æ˜¯è¿‡æ‹Ÿåˆçš„ç‰¹å¾ã€‚è§£å†³å†³ç­–æ ‘è¿‡æ‹Ÿåˆçš„æ–¹æ³•æ˜¯å‰ªæï¼ŒåŒ…æ‹¬å‰å‰ªæå’Œåå‰ªæã€‚ä½†æ˜¯sklearnä¸æ”¯æŒåå‰ªæï¼Œè¿™é‡Œé€šè¿‡max_depthå‚æ•°é™å®šå†³ç­–æ ‘æ·±åº¦ï¼Œåœ¨ä¸€å®šç¨‹åº¦ä¸Šé¿å…è¿‡æ‹Ÿåˆã€‚ è¿™é‡Œå…ˆåˆ›å»ºä¸€ä¸ªå‡½æ•°ä½¿ç”¨ä¸åŒçš„æ¨¡å‹æ·±åº¦è®­ç»ƒæ¨¡å‹ï¼Œå¹¶è®¡ç®—è¯„åˆ†æ•°æ®ã€‚1234def cv_score(d): clf = DecisionTreeClassifier(max_depth=d) clf.fit(X_train, y_train) return(clf.score(X_train, y_train), clf.score(X_test, y_test)) 12345678910111213from sklearn.model_selection import train_test_splitX_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.2)depths = np.arange(1,10)scores = [cv_score(d) for d in depths]tr_scores = [s[0] for s in scores]te_scores = [s[1] for s in scores]# æ‰¾å‡ºäº¤å‰éªŒè¯æ•°æ®é›†è¯„åˆ†æœ€é«˜çš„ç´¢å¼•tr_best_index = np.argmax(tr_scores)te_best_index = np.argmax(te_scores)print(&quot;bestdepth:&quot;, te_best_index+1, &quot; bestdepth_score:&quot;, te_scores[te_best_index], &apos;\n&apos;) bestdepth: 5 bestdepth_score: 0.8603351955307262 è¿™é‡Œç”±äºä»¥ä¸Štrain_test_splitæ–¹æ³•å¯¹æ•°æ®åˆ‡åˆ†æ˜¯éšæœºæ‰“æ•£çš„ï¼Œé€ æˆæ¯æ¬¡ç”¨ä¸åŒçš„æ•°æ®é›†è®­ç»ƒæ¨¡å‹æ€»å¾—åˆ°ä¸åŒçš„æœ€ä½³æ·±åº¦ã€‚è¿™é‡Œå†™ä¸ªå¾ªç¯åå¤æµ‹è¯•ï¼Œæœ€ç»ˆéªŒè¯è¿™é‡Œçœ‹åˆ°æœ€ä½³çš„åˆ†æ”¯æ·±åº¦ä¸º5å‡ºç°çš„é¢‘ç‡æœ€é«˜ï¼Œåˆæ­¥ç¡®å®š5ä¸ºæ·±åº¦æ¨¡å‹æœ€ä½³ã€‚ æŠŠæ¨¡å‹å‚æ•°å’Œå¯¹åº”çš„è¯„åˆ†ç”»å‡ºæ¥ï¼š12345678910%matplotlib inlinefrom matplotlib import pyplot as pltdepths = np.arange(1,10)plt.figure(figsize=(6,4), dpi=120)plt.grid()plt.xlabel(&apos;max depth of decison tree&apos;)plt.ylabel(&apos;Scores&apos;)plt.plot(depths, te_scores, label=&apos;test_scores&apos;)plt.plot(depths, tr_scores, label=&apos;train_scores&apos;)plt.legend() 2ã€é€šè¿‡min_impurity_decreaseæ¥ä¼˜åŒ–æ¨¡å‹è¿™ä¸ªå‚æ•°ç”¨æ¥æŒ‡å®šä¿¡æ¯å¢’æˆ–è€…åŸºå°¼ä¸çº¯åº¦çš„é˜ˆå€¼ï¼Œå½“å†³ç­–æ ‘åˆ†è£‚åï¼Œå…¶ä¿¡æ¯å¢ç›Šä½äºè¿™ä¸ªé˜ˆå€¼æ—¶åˆ™ä¸å†åˆ†è£‚ã€‚123456789101112131415161718192021222324252627X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.2)def minsplit_score(val): clf = DecisionTreeClassifier(criterion=&apos;gini&apos;, min_impurity_decrease=val) clf.fit(X_train, y_train) return (clf.score(X_train, y_train), clf.score(X_test, y_test), )# æŒ‡å®šå‚æ•°èŒƒå›´ï¼Œåˆ†åˆ«è®­ç»ƒæ¨¡å‹å¹¶è®¡ç®—å¾—åˆ†vals = np.linspace(0, 0.2, 100)scores = [minsplit_score(v) for v in vals]tr_scores = [s[0] for s in scores]te_scores = [s[1] for s in scores]bestmin_index = np.argmax(te_scores)bestscore = te_scores[bestmin_index]print(&quot;bestmin:&quot;, vals[bestmin_index])print(&quot;bestscore:&quot;, bestscore)plt.figure(figsize=(6,4), dpi=120)plt.grid()plt.xlabel(&quot;min_impurity_decrease&quot;)plt.ylabel(&quot;Scores&quot;)plt.plot(vals, te_scores, label=&apos;test_scores&apos;)plt.plot(vals, tr_scores, label=&apos;train_scores&apos;)plt.legend() bestmin: 0.00202020202020202bestscore: 0.7988826815642458 é—®é¢˜ï¼šæ¯æ¬¡ä½¿ç”¨ä¸åŒéšæœºåˆ‡å‰²çš„æ•°æ®é›†å¾—å‡ºæœ€ä½³å‚æ•°ä¸º0.002å¾ˆæ¥è¿‘0ï¼Œè¯¥æ€ä¹ˆè§£è¯»ï¼Ÿ123456789101112131415è‡³æ­¤ä¸ºæˆ‘ä»¬æ‰¾åˆ°äº†ä¸¤ä¸ªå‚æ•°,æœ€ä½³æ·±åº¦depth=5 å’Œæœ€ä½³min_impurity_decrease=0.002ï¼Œä¸‹é¢æˆ‘æ¥ç”¨ä¸¤ä¸ªå‚æ•°ç®€å†æ¨¡å‹è¿›è¡Œæµ‹è¯•ï¼šX_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.2)from sklearn import metrics model = DecisionTreeClassifier(max_depth=5, min_impurity_decrease=0.002)model.fit(X_train, y_train)print(&quot;tees_score:&quot;, model.score(X_test, y_test))y_pred = model.predict(X_test)print(&quot;æŸ¥å‡†ç‡:&quot;,metrics.precision_score(y_test, y_pred))print(&quot;å¬å›ç‡:&quot;,metrics.recall_score(y_test, y_pred))print(&quot;F1_score:&quot;,metrics.f1_score(y_test, y_pred)) tees_score: 0.7821229050279329æŸ¥å‡†ç‡: 0.8461538461538461å¬å›ç‡: 0.5866666666666667F1_score: 0.6929133858267718 æ¨¡å‹å‚æ•°é€‰æ‹©å·¥å…·åŒ…è‡³æ­¤å‘ç°ä»¥ä¸Šä¸¤ç§æ¨¡å‹ä¼˜åŒ–æ–¹æ³•æœ‰ä¸¤é—®é¢˜ï¼š 1ã€æ•°æ®ä¸ç¨³å®šï¼šâ€“&gt; æ¯æ¬¡é‡æ–°åˆ†é…è®­ç»ƒé›†æµ‹è¯•é›†ï¼ŒåŸå‚æ•°å°±ä¸æ˜¯æœ€ä¼˜äº†ã€‚ è§£å†³åŠæ³•æ˜¯å¤šæ¬¡è®¡ç®—æ±‚å¹³å‡å€¼ã€‚ 2ã€ä¸èƒ½ä¸€æ¬¡é€‰æ‹©å¤šä¸ªå‚æ•°ï¼šâ€“&gt; æƒ³è€ƒå¯Ÿmax_depthå’Œmin_impurity_decreaseä¸¤è€…ç»“åˆèµ·æ¥çš„æœ€ä¼˜å‚æ•°å°±æ²¡æ³•å®ç°ã€‚ æ‰€å¹¸scikit-learnåœ¨sklearn.model_selectionåŒ…æä¾›äº†å¤§é‡çš„æ¨¡å‹é€‰æ‹©å’Œè¯„ä¼°çš„å·¥å…·ä¾›æˆ‘ä»¬ä½¿ç”¨ã€‚é’ˆå¯¹è¯¥é—®é¢˜å¯ä»¥ä½¿ç”¨GridSearchCVç±»æ¥è§£å†³ã€‚ åˆ©ç”¨GridSearchCVæ±‚æœ€ä¼˜å‚æ•°123456789from sklearn.model_selection import GridSearchCVthresholds = np.linspace(0, 0.2, 50)param_grid = &#123;&apos;min_impurity_decrease&apos;:thresholds&#125;clf = GridSearchCV(DecisionTreeClassifier(), param_grid, cv=5)clf.fit(X,y)print(&quot;best_parms:&#123;0&#125;\nbest_score:&#123;1&#125;&quot;.format(clf.best_params_, clf.best_score_)) best_parms:{â€˜min_impurity_decreaseâ€™: 0.00816326530612245}best_score:0.8114478114478114 æ¨¡å‹è§£è¯»ï¼š1ã€å…³é”®å­—å‚æ•°param_gridæ˜¯ä¸€ä¸ªå­—å…¸ï¼Œå­—å…¸çš„å…³é”®å­—å¯¹åº”çš„å€¼æ˜¯ä¸€ä¸ªåˆ—è¡¨ã€‚GridSearchCVä¼šæšä¸¾åˆ—è¡¨é‡Œæ‰€æœ‰å€¼æ¥æ„å»ºæ¨¡å‹å¤šæ¬¡è®¡ç®—è®­ç»ƒæ¨¡å‹ï¼Œå¹¶è®¡ç®—æ¨¡å‹è¯„åˆ†ï¼Œæœ€ç»ˆå¾—å‡ºæŒ‡å®šå‚æ•°å€¼çš„å¹³å‡è¯„åˆ†åŠæ ‡å‡†å·®ã€‚ 2ã€å…³é”®å‚æ•°svï¼Œç”¨æ¥æŒ‡å®šäº¤å‰éªŒè¯æ•°æ®é›†çš„ç”Ÿæˆè§„åˆ™ã€‚è¿™é‡Œsv=5è¡¨ç¤ºæ¯æ¬¡è®¡ç®—éƒ½æŠŠæ•°æ®é›†åˆ†æˆ5ä»½ï¼Œæ‹¿å…¶ä¸­ä¸€ä»½ä½œä¸ºäº¤å‰éªŒè¯æ•°æ®é›†ï¼Œå…¶ä»–ä½œä¸ºè®­ç»ƒé›†ã€‚æœ€ç»ˆå¾—å‡ºæœ€ä¼˜å‚æ•°åŠæœ€ä¼˜è¯„åˆ†ä¿å­˜åœ¨clf.best_params_å’Œclf.best_score_é‡Œã€‚ 3ã€æ­¤å¤–clf.cv_results_é‡Œä¿å­˜äº†è®¡ç®—è¿‡ç¨‹çš„æ‰€æœ‰ä¸­é—´ç»“æœã€‚ ç”»å‡ºå­¦ä¹ æ›²çº¿ï¼š1234567891011121314151617def plot_curve(train_sizes, cv_results, xlabel): train_scores_mean = cv_results[&apos;mean_train_score&apos;] train_scores_std = cv_results[&apos;std_train_score&apos;] test_scores_mean = cv_results[&apos;mean_test_score&apos;] test_scores_std = cv_results[&apos;std_test_score&apos;] plt.figure(figsize=(6, 4), dpi=120) plt.title(&apos;parameters turning&apos;) plt.grid() plt.xlabel(xlabel) plt.ylabel(&apos;score&apos;) plt.fill_between(train_sizes, train_scores_mean - train_scores_std,train_scores_mean + train_scores_std, alpha=0.1, color=&quot;r&quot;) plt.fill_between(train_sizes, test_scores_mean - test_scores_std,test_scores_mean + test_scores_std, alpha=0.1, color=&quot;g&quot;) plt.plot(train_sizes, train_scores_mean, &apos;.--&apos;, color=&quot;r&quot;,label=&quot;Training score&quot;) plt.plot(train_sizes, test_scores_mean, &apos;.-&apos;, color=&quot;g&quot;, label=&quot;Cross-validation score&quot;) plt.legend(loc=&quot;best&quot;) 123456789101112from sklearn.model_selection import GridSearchCVthresholds = np.linspace(0, 0.2, 50)# Set the parameters by cross-validationparam_grid = &#123;&apos;min_impurity_decrease&apos;: thresholds&#125;clf = GridSearchCV(DecisionTreeClassifier(), param_grid, cv=5)clf.fit(X, y)print(&quot;best param: &#123;0&#125;\nbest score: &#123;1&#125;&quot;.format(clf.best_params_, clf.best_score_))# plot_curve(thresholds, clf.cv_results_, xlabel=&apos;gini thresholds&apos;) best param: {â€˜min_impurity_decreaseâ€™: 0.00816326530612245}best score: 0.8114478114478114 å¤šç»„å‚æ•°ä¹‹é—´é€‰æ‹©æœ€ä¼˜å‚æ•°ï¼š123456789from sklearn.model_selection import GridSearchCVentropy_thresholds = np.linspace(0, 1, 100)gini_thresholds = np.linspace(0, 0.2, 100)#è®¾ç½®å‚æ•°çŸ©é˜µï¼šparam_grid = [&#123;&apos;criterion&apos;: [&apos;entropy&apos;], &apos;min_impurity_decrease&apos;:entropy_thresholds&#125;,&#123;&apos;criterion&apos;: [&apos;gini&apos;], &apos;min_impurity_decrease&apos;: gini_thresholds&#125;,&#123;&apos;max_depth&apos;: np.arange(2,10)&#125;,&#123;&apos;min_samples_split&apos;: np.arange(2,30,2)&#125;]clf = GridSearchCV(DecisionTreeClassifier(), param_grid, cv=5)clf.fit(X, y)print(&quot;best param:&#123;0&#125;\nbest score:&#123;1&#125;&quot;.format(clf.best_params_, clf.best_score_)) best param:{â€˜min_impurity_decreaseâ€™: 0.00816326530612245}best score:0.8114478114478114 ç»“æœ1ã€{â€˜criterionâ€™: â€˜giniâ€™, â€˜min_impurity_decreaseâ€™: 0.00816326530612245} -&gt;6 ç»“æœ2ã€{â€˜min_samples_splitâ€™: 22} -&gt;10 ç»“æœ3ã€{â€˜min_samples_splitâ€™: 20} -&gt;4 ç»“æœæ³¢åŠ¨å¾ˆå¤§ï¼Œè¿™é‡Œåšäº†20æ¬¡æµ‹è¯•ï¼Œå¯¹åº”ç»“æœ1å‡ºç°6æ¬¡ï¼Œç»“æœ2å‡ºç°10æ¬¡ï¼Œç»“æœ3å‡ºç°4æ¬¡ã€‚ ä»£ç è§£è¯»ï¼šå…³é”®éƒ¨åˆ†è¿˜æ˜¯param_gridå‚æ•°ï¼Œä»–æ˜¯ä¸€ä¸ªåˆ—è¡¨ã€‚å¾ˆå¯¹åˆ—è¡¨çš„ç¬¬ä¸€ä¸ªå­—å…¸ï¼Œé€‰æ‹©ä¿¡æ¯å¢’ï¼ˆentropyï¼‰ä½œä¸ºåˆ¤æ–­æ ‡å‡†ï¼Œå–å€¼0ï½1èŒƒå›´50ç­‰åˆ†ï¼› ç¬¬äºŒä¸ªå­—å…¸é€‰æ‹©åŸºå°¼ç³»æ•°ï¼Œmin_impurity_decreaseå–å€¼0ï½0.2èŒƒå›´50ç­‰åˆ†ã€‚ GridSearchCVä¼šé’ˆå¯¹åˆ—è¡¨ä¸­çš„æ¯ä¸ªå­—å…¸è¿›è¡Œè¿­ä»£ï¼Œæœ€ç»ˆæ¯”è¾ƒåˆ—è¡¨ä¸­æ¯ä¸ªå­—å…¸æ‰€å¯¹åº”çš„å‚æ•°ç»„åˆï¼Œé€‰æ‹©å‡ºæœ€ä¼˜çš„å‚æ•°ã€‚ ç”Ÿæˆå†³ç­–æ ‘å›¾å½¢ä¸‹é¢ä»£ç å¯ä»¥ç”Ÿæˆ.dotæ–‡ä»¶ï¼Œéœ€è¦ç”µè„‘ä¸Šå®‰è£…graphvizæ‰èƒ½æŠŠæ–‡ä»¶è½¬æ¢æˆå›¾ç‰‡æ ¼å¼ã€‚ Macä¸Šå¯ä»¥ä½¿ç”¨brew install graphvizå‘½ä»¤æ¥å®‰è£…ï¼Œå®ƒä¼šåŒæ—¶å®‰è£…8ä¸ªä¾èµ–åŒ…ã€‚è¿™é‡Œä¸€å®šæ³¨æ„Macç¯å¢ƒä¸‹çš„æƒé™é—®é¢˜ï¼šç”±äºHomebrewé»˜è®¤æ˜¯å®‰è£…åœ¨/usr/localä¸‹ï¼Œè€ŒMacæœ‰å¼ºåˆ¶ä¿æŠ¤ä¸æ”¯æŒsudo chown -R uname localå¯¹localæ–‡ä»¶å¤¹è¿›è¡Œæƒé™ä¿®æ”¹ã€‚ è¿™é‡Œçš„è§£å†³æ–¹å¼æ˜¯æŠŠlocalä¸‹bin,lib,Cellarç­‰æ‰€éœ€å•ä¸ªæ–‡ä»¶å¤¹ä¸‹è¿›è¡Œèµ‹æƒï¼Œå³å¯æˆåŠŸå®‰è£…ã€‚ åœ¨ç”µè„‘ä¸Šå®‰è£… graphviz è¿è¡Œ dot -Tpng tree.dot -o filename.png åœ¨å½“å‰ç›®å½•æŸ¥çœ‹ç”Ÿæˆçš„å†³ç­–æ ‘ filename.png 123456789101112from sklearn.tree import DecisionTreeClassifier from sklearn import treeclf = DecisionTreeClassifier(min_samples_split=22)clf = clf.fit(X_train, y_train)train_score = clf.score(X_train, y_train)test_score = clf.score(X_test, y_test)print(&apos;train score: &#123;0&#125;; test score: &#123;1&#125;&apos;.format(train_score, test_score))# å¯¼å‡º titanic.dot æ–‡ä»¶with open(&quot;tree.dot&quot;, &apos;w&apos;) as f: f = tree.export_graphviz(clf, out_file=f) train score: 0.8834269662921348; test score: 0.8268156424581006 æ¨¡å‹è°ƒå‚æ³¨æ„äº‹é¡¹ï¼š å½“æ ·æœ¬å°‘æ•°é‡ä½†æ˜¯æ ·æœ¬ç‰¹å¾éå¸¸å¤šçš„æ—¶å€™ï¼Œå†³ç­–æ ‘å¾ˆå®¹æ˜“è¿‡æ‹Ÿåˆï¼Œä¸€èˆ¬æ¥è¯´ï¼Œæ ·æœ¬æ•°æ¯”ç‰¹å¾æ•°å¤šä¸€äº›ä¼šæ¯”è¾ƒå®¹æ˜“å»ºç«‹å¥å£®çš„æ¨¡å‹ å¦‚æœæ ·æœ¬æ•°é‡å°‘ä½†æ˜¯æ ·æœ¬ç‰¹å¾éå¸¸å¤šï¼Œåœ¨æ‹Ÿåˆå†³ç­–æ ‘æ¨¡å‹å‰ï¼Œæ¨èå…ˆåšç»´åº¦è§„çº¦ï¼Œæ¯”å¦‚ä¸»æˆåˆ†åˆ†æï¼ˆPCAï¼‰ï¼Œç‰¹å¾é€‰æ‹©ï¼ˆLossoï¼‰æˆ–è€…ç‹¬ç«‹æˆåˆ†åˆ†æï¼ˆICAï¼‰ã€‚è¿™æ ·ç‰¹å¾çš„ç»´åº¦ä¼šå¤§å¤§å‡å°ã€‚å†æ¥æ‹Ÿåˆå†³ç­–æ ‘æ¨¡å‹æ•ˆæœä¼šå¥½ã€‚ æ¨èå¤šç”¨å†³ç­–æ ‘çš„å¯è§†åŒ–ï¼ŒåŒæ—¶å…ˆé™åˆ¶å†³ç­–æ ‘çš„æ·±åº¦ï¼ˆæ¯”å¦‚æœ€å¤š3å±‚ï¼‰ï¼Œè¿™æ ·å¯ä»¥å…ˆè§‚å¯Ÿä¸‹ç”Ÿæˆçš„å†³ç­–æ ‘é‡Œæ•°æ®çš„åˆæ­¥æ‹Ÿåˆæƒ…å†µï¼Œç„¶åå†å†³å®šæ˜¯å¦è¦å¢åŠ æ·±åº¦ã€‚ åœ¨è®­ç»ƒæ¨¡å‹å…ˆï¼Œæ³¨æ„è§‚å¯Ÿæ ·æœ¬çš„ç±»åˆ«æƒ…å†µï¼ˆä¸»è¦æŒ‡åˆ†ç±»æ ‘ï¼‰ï¼Œå¦‚æœç±»åˆ«åˆ†å¸ƒéå¸¸ä¸å‡åŒ€ï¼Œå°±è¦è€ƒè™‘ç”¨class_weightæ¥é™åˆ¶æ¨¡å‹è¿‡äºåå‘æ ·æœ¬å¤šçš„ç±»åˆ«ã€‚ å†³ç­–æ ‘çš„æ•°ç»„ä½¿ç”¨çš„æ˜¯numpyçš„float32ç±»å‹ï¼Œå¦‚æœè®­ç»ƒæ•°æ®ä¸æ˜¯è¿™æ ·çš„æ ¼å¼ï¼Œç®—æ³•ä¼šå…ˆåšcopyå†è¿è¡Œã€‚ å¦‚æœè¾“å…¥çš„æ ·æœ¬çŸ©é˜µæ˜¯ç¨€ç–çš„ï¼Œæ¨èåœ¨æ‹Ÿåˆå‰è°ƒç”¨csc_matrixç¨€ç–åŒ–ï¼Œåœ¨é¢„æµ‹å‰è°ƒç”¨csr_matrixç¨€ç–åŒ–ã€‚]]></content>
      <categories>
        <category>æœºå™¨å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>æœºå™¨å­¦ä¹ </tag>
        <tag>å†³ç­–æ ‘</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[sklearnä¹‹æ•°æ®é¢„å¤„ç†å’Œåˆ›å»ºæ¨¡å‹]]></title>
    <url>%2F2018%2F06%2F05%2Fsklearn%E4%B9%8B%E6%95%B0%E6%8D%AE%E9%A2%84%E5%A4%84%E7%90%86%E5%92%8C%E5%88%9B%E5%BB%BA%E6%A8%A1%E5%9E%8B%2F</url>
    <content type="text"><![CDATA[ä»ITæ—¶ä»£èµ°å‘DTæ—¶ä»£ æ•°æ®é¢„å¤„ç†123456import numpy as npfrom sklearn import preprocessingdata = np.array([[ 3, -1.5, 2, -5.4],[ 0, 4, -0.3, 2.1],[ 1, 3.3, -1.9, -4.3]]) å‡å€¼ç§»é™¤ mean removal â€œé€šå¸¸æˆ‘ä»¬ä¼šæŠŠæ¯ä¸ªç‰¹å¾çš„å¹³å‡å€¼ç§»é™¤ï¼Œä»¥ä¿è¯ç‰¹å¾å‡å€¼ä¸º0ï¼ˆå³æ ‡å‡†åŒ–å¤„ç†ï¼‰ã€‚è¿™æ ·åšå¯ä»¥æ¶ˆé™¤ç‰¹å¾å½¼æ­¤é—´çš„åå·®ï¼ˆbiasï¼‰â€ 123data_standardized = preprocessing.scale(data)print (&quot;\nMeanç‰¹å¾å‡å€¼ =&quot;, data_standardized.mean(axis=0))print (&quot;Std deviationæ ‡å‡†åå·® =&quot;, data_standardized.std(axis=0)) Meanç‰¹å¾å‡å€¼ = [ 5.55111512e-17 -1.11022302e-16 -7.40148683e-17 -7.40148683e-17]Std deviationæ ‡å‡†åå·® = [1. 1. 1. 1.] èŒƒå›´ç¼©æ”¾ min max scaling â€œæ•°æ®ç‚¹ä¸­æ¯ä¸ªç‰¹å¾çš„æ•°å€¼èŒƒå›´å¯èƒ½å˜åŒ–å¾ˆå¤§ï¼Œå› æ­¤ï¼Œæœ‰æ—¶å°†ç‰¹å¾çš„æ•°å€¼èŒƒå›´ç¼©æ”¾åˆ°åˆç†çš„å¤§å°æ˜¯éå¸¸é‡è¦çš„ã€‚â€ 123data_scaler = preprocessing.MinMaxScaler(feature_range=(0, 1))data_scaled = data_scaler.fit_transform(data)print (&quot;\nMin max scaled dataèŒƒå›´ç¼©æ”¾æ•°æ®:\n&quot;, data_scaled) Min max scaled dataèŒƒå›´ç¼©æ”¾æ•°æ®: [[1. 0. 1. 0. ] [0. 1. 0.41025641 1. ] [0.33333333 0.87272727 0. 0.14666667]] å½’ä¸€åŒ– normalization â€œæ•°æ®å½’ä¸€åŒ–ç”¨äºéœ€è¦å¯¹ç‰¹å¾å‘é‡çš„å€¼è¿›è¡Œè°ƒæ•´æ—¶ï¼Œä»¥ä¿è¯æ¯ä¸ªç‰¹å¾å‘é‡çš„å€¼éƒ½ç¼©æ”¾åˆ°ç›¸åŒçš„æ•°å€¼èŒƒå›´ã€‚æœºå™¨å­¦ä¹ ä¸­æœ€å¸¸ç”¨çš„å½’ä¸€åŒ–å½¢å¼å°±æ˜¯å°†ç‰¹å¾å‘é‡è°ƒæ•´ä¸ºL1èŒƒæ•°ï¼Œä½¿ç‰¹å¾å‘é‡çš„æ•°å€¼ä¹‹å’Œä¸º1ã€‚â€ â€œè¿™ä¸ªæ–¹æ³•ç»å¸¸ç”¨äºç¡®ä¿æ•°æ®ç‚¹æ²¡æœ‰å› ä¸ºç‰¹å¾çš„åŸºæœ¬æ€§è´¨è€Œäº§ç”Ÿè¾ƒå¤§å·®å¼‚ï¼Œå³ç¡®ä¿æ•°æ®å¤„äºåŒä¸€æ•°é‡çº§ï¼Œæé«˜ä¸åŒç‰¹å¾æ•°æ®çš„å¯æ¯”æ€§ã€‚â€ 12data_normalized = preprocessing.normalize(data, norm=&apos;l1&apos;)print (&quot;\nL1 normalized dataå½’ä¸€åŒ–åæ•°æ®:\n&quot;, data_normalized) L1 normalized dataå½’ä¸€åŒ–åæ•°æ®: [[ 0.25210084 -0.12605042 0.16806723 -0.45378151] [ 0. 0.625 -0.046875 0.328125 ] [ 0.0952381 0.31428571 -0.18095238 -0.40952381]] äºŒå€¼åŒ– binarization â€œäºŒå€¼åŒ–ç”¨äºå°†æ•°å€¼ç‰¹å¾å‘é‡è½¬æ¢ä¸ºå¸ƒå°”ç±»å‹å‘é‡ã€‚â€ 12data_binarized = preprocessing.Binarizer(threshold=1.4).transform(data)print (&quot;\näºŒå€¼åŒ– data:\n&quot;, data_binarized) äºŒå€¼åŒ– data: [[1. 0. 1. 0.] [0. 1. 0. 1.] [0. 1. 0. 0.]] ç‹¬çƒ­ç¼–ç  one hot encodingç‹¬çƒ­ç¼–ç â€œé€šå¸¸ï¼Œéœ€è¦å¤„ç†çš„æ•°å€¼éƒ½æ˜¯ç¨€ç–åœ°ã€æ•£ä¹±åœ°åˆ†å¸ƒåœ¨ç©ºé—´ä¸­ï¼Œç„¶è€Œï¼Œæˆ‘ä»¬å¹¶ä¸éœ€è¦å­˜å‚¨è¿™äº›å¤§æ•°å€¼ï¼Œè¿™æ—¶å°±éœ€è¦ä½¿ç”¨ç‹¬çƒ­ç¼–ç ï¼ˆOne-Hot Encodingï¼‰ã€‚å¯ä»¥æŠŠç‹¬çƒ­ç¼–ç çœ‹ä½œæ˜¯ä¸€ç§æ”¶ç´§ ï¼ˆtightenï¼‰ç‰¹å¾å‘é‡çš„å·¥å…·ã€‚å®ƒæŠŠç‰¹å¾å‘é‡çš„æ¯ä¸ªç‰¹å¾ä¸ç‰¹å¾çš„éé‡å¤æ€»æ•°ç›¸å¯¹åº”ï¼Œé€šè¿‡one-of-k çš„å½¢å¼å¯¹æ¯ä¸ªå€¼è¿›è¡Œç¼–ç ã€‚ç‰¹å¾å‘é‡çš„æ¯ä¸ªç‰¹å¾å€¼éƒ½æŒ‰ç…§è¿™ç§æ–¹å¼ç¼–ç ï¼Œè¿™æ ·å¯ä»¥æ›´åŠ æœ‰æ•ˆåœ°è¡¨ç¤ºç©ºé—´ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬éœ€è¦å¤„ç†4ç»´å‘é‡ç©ºé—´ï¼Œå½“ç»™ä¸€ä¸ªç‰¹æ€§å‘é‡çš„ç¬¬n ä¸ªç‰¹å¾è¿›è¡Œç¼–ç æ—¶ï¼Œç¼–ç å™¨ä¼šéå†æ¯ä¸ªç‰¹å¾å‘é‡çš„ç¬¬n ä¸ªç‰¹å¾ï¼Œç„¶åè¿›è¡Œéé‡å¤è®¡æ•°ã€‚å¦‚æœéé‡å¤è®¡æ•°çš„å€¼æ˜¯K ï¼Œé‚£ä¹ˆå°±æŠŠè¿™ä¸ªç‰¹å¾è½¬æ¢ä¸ºåªæœ‰ä¸€ä¸ªå€¼æ˜¯1å…¶ä»–å€¼éƒ½æ˜¯0çš„K ç»´å‘é‡ã€‚â€ â€œåœ¨ä¸‹é¢çš„ç¤ºä¾‹ä¸­ï¼Œè§‚å¯Ÿä¸€ä¸‹æ¯ä¸ªç‰¹å¾å‘é‡çš„ç¬¬ä¸‰ä¸ªç‰¹å¾ï¼Œåˆ†åˆ«æ˜¯1 ã€5 ã€2 ã€4 è¿™4ä¸ªä¸é‡å¤çš„å€¼ï¼Œä¹Ÿå°±æ˜¯è¯´ç‹¬çƒ­ç¼–ç å‘é‡çš„é•¿åº¦æ˜¯4ã€‚å¦‚æœä½ éœ€è¦å¯¹5 è¿›è¡Œç¼–ç ï¼Œé‚£ä¹ˆå‘é‡å°±æ˜¯[0, 1, 0, 0] ã€‚å‘é‡ä¸­åªæœ‰ä¸€ä¸ªå€¼æ˜¯1ã€‚ç¬¬äºŒä¸ªå…ƒç´ æ˜¯1ï¼Œå¯¹åº”çš„å€¼æ˜¯5 ã€‚â€ 1234encoder = preprocessing.OneHotEncoder()encoder.fit([[0, 2, 1, 12], [1, 3, 5, 3], [2, 3, 2, 12], [1, 2, 4, 3]])encoded_vector = encoder.transform([[2, 3, 5, 3]]).toarray()print (&quot;\nç¼–ç çŸ¢é‡:\n&quot;, encoded_vector) ç¼–ç çŸ¢é‡: [[0. 0. 1. 0. 1. 0. 0. 0. 1. 1. 0.]] æ ‡è®°ç¼–ç æ–¹æ³•åœ¨ç›‘ç£å­¦ä¹ ä¸­ï¼Œç»å¸¸éœ€è¦å¤„ç†å„ç§å„æ ·çš„æ ‡è®°ã€‚è¿™äº›æ ‡è®°å¯èƒ½æ˜¯æ•°å­—ï¼Œä¹Ÿå¯èƒ½æ˜¯å•è¯ã€‚å¦‚æœæ ‡è®°æ˜¯æ•°å­—ï¼Œé‚£ä¹ˆç®—æ³•å¯ä»¥ç›´æ¥ä½¿ç”¨å®ƒä»¬ï¼Œä½†æ˜¯ï¼Œè®¸å¤šæƒ…å†µä¸‹ï¼Œæ ‡è®°éƒ½éœ€è¦ä»¥äººä»¬å¯ç†è§£çš„å½¢å¼å­˜åœ¨ï¼Œå› æ­¤ï¼Œäººä»¬é€šå¸¸ä¼šç”¨å•è¯æ ‡è®°è®­ç»ƒæ•°æ®é›†ã€‚æ ‡è®°ç¼–ç å°±æ˜¯è¦æŠŠå•è¯æ ‡è®°è½¬æ¢æˆæ•°å€¼å½¢å¼ï¼Œè®©ç®—æ³•æ‡‚å¾—å¦‚ä½•æ“ä½œæ ‡è®°ã€‚æ¥ä¸‹æ¥çœ‹çœ‹å¦‚ä½•æ ‡è®°ç¼–ç ã€‚ 1234567891011from sklearn import preprocessing# å®šä¹‰ä¸€ä¸ªæ ‡è®°ç¼–ç å™¨label_encoder = preprocessing.LabelEncoder()# label_encoderå¯¹è±¡çŸ¥é“å¦‚ä½•ç†è§£å•è¯æ ‡è®°ï¼Œæ¥ä¸‹æ¥åˆ›å»ºæ ‡è®°input_classes = [&apos;audi&apos;, &apos;ford&apos;, &apos;audi&apos;, &apos;toyota&apos;, &apos;ford&apos;, &apos;bmw&apos;]# å¼€å§‹æ ‡è®°label_encoder.fit(input_classes)print(&quot;Classes mapping: ç»“æœæ˜¾ç¤ºå•è¯èƒŒè½¬æ¢æˆä»0å¼€å§‹çš„ç´¢å¼•å€¼&quot;)for i, item in enumerate(lable_encoder.classes_):print(item, &apos;--&gt;&apos;, i) Classes mapping: ç»“æœæ˜¾ç¤ºå•è¯èƒŒè½¬æ¢æˆä»0å¼€å§‹çš„ç´¢å¼•å€¼audi â€”&gt; 0bmw â€”&gt; 1ford â€”&gt; 2toyota â€”&gt; 3 è¿™æ—¶ï¼Œå¦‚æœé‡åˆ°ä¸€ç»„æ•°æ®å°±å¯ä»¥è½»æ¾çš„è½¬æ¢å®ƒä»¬äº†ã€‚ï¼ˆå¦‚è¯å“æ•°æ®çš„è¯å“åï¼‰12345labels = [&apos;toyota&apos;, &apos;ford&apos;, &apos;audi&apos;]encoded_labels = label_encoder.transform(labels)print (&quot;\nLabels =&quot;, labels)print (&quot;Encoded labels =&quot;, list(encoded_labels)) Labels = [â€˜toyotaâ€™, â€˜fordâ€™, â€˜audiâ€™]Encoded labels = [3, 2, 0] è¿˜å¯ä»¥æ•°å­—åè½¬å›å•è¯ï¼ˆæˆ–å­—ç¬¦ä¸²ï¼‰:1234encoded_labels = [2,1,0,3,1]decoded_labels = label_encoder.inverse_transform(encoded_labels)print(encoded_labels)print(list(decoded_labels)) [2, 1, 0, 3, 1][â€˜fordâ€™, â€˜bmwâ€™, â€˜audiâ€™, â€˜toyotaâ€™, â€˜bmwâ€™] åˆ›å»ºçº¿æ€§å›å½’å›å½’æ˜¯ä¼°è®¡è¾“å…¥æ•°æ®ä¸è¿ç»­å€¼è¾“å‡ºæ•°æ®ä¹‹é—´å…³ç³»çš„è¿‡ç¨‹ã€‚æ•°æ®é€šå¸¸æ˜¯å®æ•°å½¢å¼çš„ï¼Œæˆ‘ä»¬çš„ç›®æ ‡æ˜¯ä¼°è®¡æ»¡è¶³è¾“å…¥åˆ°è¾“å‡ºæ˜ å°„å…³ç³»çš„åŸºæœ¬å‡½æ•°ã€‚ çº¿æ€§å›å½’çš„ç›®æ ‡æ˜¯æå–è¾“å…¥å˜é‡ä¸è¾“å‡ºå˜é‡çš„å…³è”çº¿æ€§æ¨¡å‹ï¼Œè¿™å°±è¦æ±‚å®é™…è¾“å‡ºä¸çº¿æ€§æ–¹ç¨‹é¢„æµ‹çš„è¾“å‡ºçš„æ®‹å·®å¹³æ–¹å’Œï¼ˆsum of squares of differencesï¼‰æœ€å°åŒ–ã€‚è¿™ç§æ–¹æ³•è¢«ç§°ä¸ºæ™®é€šæœ€å°äºŒä¹˜æ³• ï¼ˆOrdinary Least Squaresï¼ŒOLSï¼‰ã€‚ ä½ å¯èƒ½è§‰å¾—ç”¨ä¸€æ¡æ›²çº¿å¯¹è¿™äº›ç‚¹è¿›è¡Œæ‹Ÿåˆæ•ˆæœä¼šæ›´å¥½ï¼Œä½†æ˜¯çº¿æ€§å›å½’ä¸å…è®¸è¿™æ ·åšã€‚çº¿æ€§å›å½’çš„ä¸»è¦ä¼˜ç‚¹å°±æ˜¯æ–¹ç¨‹ç®€å•ã€‚å¦‚æœä½ æƒ³ç”¨éçº¿æ€§å›å½’ï¼Œå¯èƒ½ä¼šå¾—åˆ°æ›´å‡†ç¡®çš„æ¨¡å‹ï¼Œä½†æ˜¯æ‹Ÿåˆé€Ÿåº¦ä¼šæ…¢å¾ˆå¤šã€‚çº¿æ€§å›å½’æ¨¡å‹å°±åƒå‰é¢é‚£å¼ å›¾é‡Œæ˜¾ç¤ºçš„ï¼Œç”¨ä¸€æ¡ç›´çº¿è¿‘ä¼¼æ•°æ®ç‚¹çš„è¶‹åŠ¿ 123456789101112import sysimport numpy as np# åŠ è½½æ•°æ®filename = sys.argv[1]X = []y = []with open(&apos;data_singlevar.txt&apos;, &apos;r&apos;) as f: for line in f.readlines(): data = [float(i) for i in line.split(&apos;,&apos;)] xt, yt = data[:-1], data[-1] X.append(xt) y.append(yt) 12345678# 80%è®­ç»ƒé›†å’Œ20%æµ‹è¯•é›†num_train = int(0.8 * len(X))num_test = len(X) - num_trainX_train = np.array(X[:num_train]).reshape(num_train,1)y_train = np.array(y[:num_train])X_test = np.array(X[num_train:]).reshape(num_test, 1)y_test = np.array(y[num_train:]) 123from sklearn import linear_modellinear_regr = linear_model.LinearRegression()linear_regr.fit(X_train, y_train) æˆ‘ä»¬åˆ©ç”¨è®­ç»ƒæ•°æ®é›†è®­ç»ƒäº†çº¿æ€§å›å½’å™¨ã€‚å‘fit æ–¹æ³•æä¾›è¾“å…¥æ•°æ®å³å¯è®­ç»ƒæ¨¡å‹ã€‚ç”¨ä¸‹é¢çš„ä»£ç çœ‹çœ‹å®ƒå¦‚ä½•æ‹Ÿåˆ12345678import matplotlib.pyplot as pltprint(&apos;è®­ç»ƒé›†æ‹Ÿåˆæ•ˆæœ&apos;)y_train_pred = linear_regr.predict(X_train)plt.figure()plt.scatter(X_train, y_train)plt.plot(X_train, y_train_pred, color=&apos;green&apos;, linewidth=2)plt.title(&apos;Training Data&apos;)plt.show() 123456y_test_pred = linear_regr.predict(X_test)print(&quot;æµ‹è¯•é›†æ‹Ÿåˆæ•ˆæœ&quot;)plt.scatter(X_test, y_test)plt.plot(X_test, y_test_pred, color=&apos;green&apos;)plt.title(&quot;Test Data&quot;)plt.show() è®¡ç®—å›å½’å‡†ç¡®æ€§ç°åœ¨å·²ç»å»ºç«‹äº†å›å½’å™¨ï¼Œæ¥ä¸‹æ¥æœ€é‡è¦çš„å°±æ˜¯å¦‚ä½•è¯„ä»·å›å½’å™¨çš„æ‹Ÿåˆæ•ˆæœã€‚åœ¨æ¨¡å‹è¯„ä»·çš„ç›¸å…³å†…å®¹ä¸­ï¼Œç”¨è¯¯å·® ï¼ˆerrorï¼‰è¡¨ç¤ºå®é™…å€¼ä¸æ¨¡å‹é¢„æµ‹å€¼ä¹‹é—´çš„å·®å€¼ã€‚ ä¸‹é¢å¿«é€Ÿäº†è§£å‡ ä¸ªè¡¡é‡å›å½’å™¨æ‹Ÿåˆæ•ˆæœçš„é‡è¦æŒ‡æ ‡ï¼ˆmetricï¼‰ã€‚å›å½’å™¨å¯ä»¥ç”¨è®¸å¤šä¸åŒçš„æŒ‡æ ‡è¿›è¡Œè¡¡é‡ï¼Œéƒ¨åˆ†æŒ‡æ ‡å¦‚ä¸‹æ‰€ç¤ºã€‚ å¹³å‡ç»å¯¹è¯¯å·®ï¼ˆmean absolute errorï¼‰ ï¼šè¿™æ˜¯ç»™å®šæ•°æ®é›†çš„æ‰€æœ‰æ•°æ®ç‚¹çš„ç»å¯¹è¯¯å·®å¹³å‡å€¼ã€‚ å‡æ–¹è¯¯å·®ï¼ˆmean squared errorï¼‰ ï¼šè¿™æ˜¯ç»™å®šæ•°æ®é›†çš„æ‰€æœ‰æ•°æ®ç‚¹çš„è¯¯å·®çš„å¹³æ–¹çš„å¹³å‡å€¼ã€‚è¿™æ˜¯æœ€æµè¡Œçš„æŒ‡æ ‡ä¹‹ä¸€ã€‚ ä¸­ä½æ•°ç»å¯¹è¯¯å·®ï¼ˆmedian absolute errorï¼‰ ï¼šè¿™æ˜¯ç»™å®šæ•°æ®é›†çš„æ‰€æœ‰æ•°æ®ç‚¹çš„è¯¯å·®çš„ä¸­ä½æ•°ã€‚è¿™ä¸ªæŒ‡æ ‡çš„ä¸»è¦ä¼˜ç‚¹æ˜¯å¯ä»¥æ¶ˆé™¤å¼‚å¸¸å€¼ï¼ˆoutlierï¼‰çš„å¹²æ‰°ã€‚æµ‹è¯•æ•°æ®é›†ä¸­çš„å•ä¸ªåç‚¹ä¸ä¼šå½±å“æ•´ä¸ªè¯¯å·®æŒ‡æ ‡ï¼Œå‡å€¼è¯¯å·®æŒ‡æ ‡ä¼šå—åˆ°å¼‚å¸¸ç‚¹çš„å½±å“ã€‚ è§£é‡Šæ–¹å·®åˆ†ï¼ˆexplained variance scoreï¼‰ ï¼šè¿™ä¸ªåˆ†æ•°ç”¨äºè¡¡é‡æˆ‘ä»¬çš„æ¨¡å‹å¯¹æ•°æ®é›†æ³¢åŠ¨çš„è§£é‡Šèƒ½åŠ›ã€‚å¦‚æœå¾—åˆ†1.0åˆ†ï¼Œé‚£ä¹ˆè¡¨æ˜æˆ‘ä»¬çš„æ¨¡å‹æ˜¯å®Œç¾çš„ã€‚ Ræ–¹å¾—åˆ†ï¼ˆR2 scoreï¼‰ ï¼šè¿™ä¸ªæŒ‡æ ‡è¯»ä½œâ€œRæ–¹â€ï¼Œæ˜¯æŒ‡ç¡®å®šæ€§ç›¸å…³ç³»æ•°ï¼Œç”¨äºè¡¡é‡æ¨¡å‹å¯¹æœªçŸ¥æ ·æœ¬é¢„æµ‹çš„æ•ˆæœã€‚æœ€å¥½çš„å¾—åˆ†æ˜¯1.0ï¼Œå€¼ä¹Ÿå¯ä»¥æ˜¯è´Ÿæ•°ã€‚ â€œæ¯ä¸ªæŒ‡æ ‡éƒ½æè¿°å¾—é¢é¢ä¿±åˆ°æ˜¯éå¸¸ä¹å‘³çš„ï¼Œå› æ­¤åªé€‰æ‹©ä¸€ä¸¤ä¸ªæŒ‡æ ‡æ¥è¯„ä¼°æˆ‘ä»¬çš„æ¨¡å‹ã€‚é€šå¸¸çš„åšæ³•æ˜¯å°½é‡ä¿è¯å‡æ–¹è¯¯å·®æœ€ä½ï¼Œè€Œä¸”è§£é‡Šæ–¹å·®åˆ†æœ€é«˜â€12345678910111213141516import sklearn.metrics as smprint(&quot;å¹³å‡ç»å¯¹è¯¯å·®ï¼ˆmean absolute errorï¼‰ ï¼š&quot; , round(sm.mean_absolute_error(y_test, y_test_pred), 2))print(&quot;å‡æ–¹è¯¯å·®ï¼ˆmean squared errorï¼‰ ï¼š&quot; , round(sm.mean_squared_error(y_test, y_test_pred), 2))print(&quot;ä¸­ä½æ•°ç»å¯¹è¯¯å·®ï¼ˆmedian absolute errorï¼‰ ï¼š&quot; , round(sm.median_absolute_error(y_test, y_test_pred), 2))print(&quot;è§£é‡Šæ–¹å·®åˆ†ï¼ˆexplained variance scoreï¼‰ ï¼š&quot; , round(sm.explained_variance_score(y_test, y_test_pred), 2))print(&quot;Ræ–¹å¾—åˆ†ï¼ˆR2 scoreï¼‰ ï¼š&quot; , round(sm.r2_score(y_test, y_test_pred))) å¹³å‡ç»å¯¹è¯¯å·®ï¼ˆmean absolute errorï¼‰ ï¼š 0.54å‡æ–¹è¯¯å·®ï¼ˆmean squared errorï¼‰ ï¼š 0.38ä¸­ä½æ•°ç»å¯¹è¯¯å·®ï¼ˆmedian absolute errorï¼‰ ï¼š 0.54è§£é‡Šæ–¹å·®åˆ†ï¼ˆexplained variance scoreï¼‰ ï¼š 0.68Ræ–¹å¾—åˆ†ï¼ˆR2 scoreï¼‰ ï¼š 1.0 ä¿å­˜æ¨¡å‹æ•°æ®12345import pickleregr = pickle.dumps(linear_regr) # ä¿å­˜regr1 = pickle.loads(regr) # åŠ è½½regr1.predict(X_test) array([2.20369892, 4.45873314, 2.12918475, 3.1253216 , 3.21944477,3.75673118, 3.91360313, 2.66647116, 3.32925513, 2.77235973]) åœ¨scikitçš„å…·ä½“æƒ…å†µä¸‹ï¼Œä½¿ç”¨ joblib æ›¿æ¢ pickleï¼ˆ joblib.dump &amp; joblib.load ï¼‰å¯èƒ½ä¼šæ›´æœ‰è¶£ï¼Œè¿™å¯¹å¤§æ•°æ®æ›´æœ‰æ•ˆï¼Œä½†åªèƒ½åºåˆ—åŒ– (pickle) åˆ°ç£ç›˜è€Œä¸æ˜¯å­—ç¬¦ä¸²å˜é‡: ä¹‹åï¼Œæ‚¨å¯ä»¥åŠ è½½å·²ä¿å­˜çš„æ¨¡å‹ï¼ˆå¯èƒ½åœ¨å¦ä¸€ä¸ª Python è¿›ç¨‹ä¸­ï¼‰: 1234from sklearn.externals import joblibjoblib.dump(linear_regr, &apos;regr.pkl&apos;) regr2 = joblib.load(&apos;regr.pkl&apos;) regr2.predict(X_test) array([2.20369892, 4.45873314, 2.12918475, 3.1253216 , 3.21944477,3.75673118, 3.91360313, 2.66647116, 3.32925513, 2.77235973]) åˆ›å»ºå²­å›å½’ çº¿æ€§å›å½’çš„ä¸»è¦é—®é¢˜æ˜¯å¯¹å¼‚å¸¸å€¼æ•æ„Ÿã€‚åœ¨çœŸå®ä¸–ç•Œçš„æ•°æ®æ”¶é›†è¿‡ç¨‹ä¸­ï¼Œç»å¸¸ä¼šé‡åˆ°é”™è¯¯çš„åº¦é‡ç»“æœã€‚è€Œçº¿æ€§å›å½’ä½¿ç”¨çš„æ™®é€šæœ€å°äºŒä¹˜æ³•ï¼Œå…¶ç›®æ ‡æ˜¯ä½¿å¹³æ–¹è¯¯å·®æœ€å°åŒ–ã€‚è¿™æ—¶ï¼Œç”±äºå¼‚å¸¸å€¼è¯¯å·®çš„ç»å¯¹å€¼å¾ˆå¤§ï¼Œå› æ­¤ä¼šå¼•èµ·é—®é¢˜ï¼Œä»è€Œç ´åæ•´ä¸ªæ¨¡å‹ã€‚ æ™®é€šæœ€å°äºŒä¹˜æ³•åœ¨å»ºæ¨¡æ—¶ä¼šè€ƒè™‘æ¯ä¸ªæ•°æ®ç‚¹çš„å½±å“ï¼Œå› æ­¤ï¼Œæœ€ç»ˆæ¨¡å‹å°±ä¼šç˜¦å¼‚å¸¸å€¼å½±å“è¾ƒå¤§ã€‚æ˜¾ç„¶ï¼Œæˆ‘ä»¬å‘ç°è¿™ä¸ªæ¨¡å‹ä¸æ˜¯æœ€ä¼˜çš„ã€‚ä¸ºäº†é¿å…è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å¼•å…¥æ­£åˆ™åŒ–é¡¹ çš„ç³»æ•°ä½œä¸ºé˜ˆå€¼æ¥æ¶ˆé™¤å¼‚å¸¸å€¼çš„å½±å“ã€‚è¿™ä¸ªæ–¹æ³•è¢«ç§°ä¸ºå²­å›å½’ ã€‚ 1234567891011121314151617import pandas as pdX = []y = []with open(&apos;data_multivar.txt&apos;, &apos;r&apos;) as f: for line in f.readlines(): data = [float(i) for i in line.split(&apos;,&apos;)] xt, yt = data[:-1], data[-1] X.append(xt) y.append(yt)# 80%è®­ç»ƒé›†å’Œ20%æµ‹è¯•é›†num_train = int(0.8 * len(X))num_test = len(X) - num_trainX_train = np.array(X[:num_train]).reshape(num_train,3)y_train = np.array(y[:num_train])X_test = np.array(X[num_train:]).reshape(num_test, 3)y_test = np.array(y[num_train:]) alpha å‚æ•°æ§åˆ¶å›å½’å™¨çš„å¤æ‚ç¨‹åº¦ã€‚å½“alpha è¶‹äº0 æ—¶ï¼Œå²­å›å½’å™¨å°±æ˜¯ç”¨æ™®é€šæœ€å°äºŒä¹˜æ³•çš„çº¿æ€§å›å½’å™¨ã€‚å› æ­¤ï¼Œå¦‚æœä½ å¸Œæœ›æ¨¡å‹å¯¹å¼‚å¸¸å€¼ä¸é‚£ä¹ˆæ•æ„Ÿï¼Œå°±éœ€è¦è®¾ç½®ä¸€ä¸ªè¾ƒå¤§çš„alpha å€¼ã€‚è¿™é‡ŒæŠŠalpha å€¼è®¾ç½®ä¸º0.01 ã€‚123456789101112131415161718192021rid = linear_model.Ridge(alpha=0.01, fit_intercept=True, max_iter=10000)rid.fit(X_train, y_train)y_test_pred = rid.predict(X_test)import sklearn.metrics as smprint(&quot;å¹³å‡ç»å¯¹è¯¯å·®ï¼ˆmean absolute errorï¼‰ ï¼š&quot; , round(sm.mean_absolute_error(y_test, y_test_pred), 2))print(&quot;å‡æ–¹è¯¯å·®ï¼ˆmean squared errorï¼‰ ï¼š&quot; , round(sm.mean_squared_error(y_test, y_test_pred), 2))print(&quot;ä¸­ä½æ•°ç»å¯¹è¯¯å·®ï¼ˆmedian absolute errorï¼‰ ï¼š&quot; , round(sm.median_absolute_error(y_test, y_test_pred), 2))print(&quot;è§£é‡Šæ–¹å·®åˆ†ï¼ˆexplained variance scoreï¼‰ ï¼š&quot; , round(sm.explained_variance_score(y_test, y_test_pred), 2))print(&quot;Ræ–¹å¾—åˆ†ï¼ˆR2 scoreï¼‰ ï¼š&quot; , round(sm.r2_score(y_test, y_test_pred))) å¹³å‡ç»å¯¹è¯¯å·®ï¼ˆmean absolute errorï¼‰ ï¼š 3.95å‡æ–¹è¯¯å·®ï¼ˆmean squared errorï¼‰ ï¼š 23.15ä¸­ä½æ•°ç»å¯¹è¯¯å·®ï¼ˆmedian absolute errorï¼‰ ï¼š 3.69è§£é‡Šæ–¹å·®åˆ†ï¼ˆexplained variance scoreï¼‰ ï¼š 0.84Ræ–¹å¾—åˆ†ï¼ˆR2 scoreï¼‰ ï¼š 1.0 1234567891011121314from pyecharts import Lineline = Line(&quot;æœŸæœ›å€¼æµ‹è¯•å¯¹æ¯”&quot;)line.add(&apos;æµ‹è¯•ç›®æ ‡å€¼&apos;, np.linspace(-20,40,len(y_test)), y_test, mark_line=[&quot;average&quot;], is_datazoom_show=True)line.add(&apos;å®é™…æµ‹è¯•å€¼&apos;, np.linspace(-20,40,len(y_test)), y_test_pred, mark_line=[&quot;average&quot;], is_datazoom_show=True)line# 80%è®­ç»ƒé›†å’Œ20%æµ‹è¯•é›†num_train = int(0.8 * len(X))num_test = len(X) - num_trainX_train = np.array(X[:num_train]).reshape(num_train,1)y_train = np.array(y[:num_train])X_test = np.array(X[num_train:]).reshape(num_test, 1)y_test = np.array(y[num_train:]) åˆ›å»ºå¤šé¡¹å¼å›å½’å™¨ï¼ˆé‡ç‚¹ï¼‰æ•°æ®ç‚¹æœ¬èº«çš„æ¨¡å¼ä¸­å¸¦æœ‰è‡ªç„¶çš„æ›²çº¿ï¼Œè€Œçº¿æ€§æ¨¡å‹æ˜¯ä¸èƒ½æ•æ‰åˆ°è¿™ä¸€ç‚¹çš„ã€‚å¤šé¡¹å¼å›å½’æ¨¡å‹çš„æ›²ç‡æ˜¯ç”±å¤šé¡¹å¼çš„æ¬¡æ•°å†³å®šçš„ã€‚éšç€æ¨¡å‹æ›²ç‡çš„å¢åŠ ï¼Œæ¨¡å‹å˜å¾—æ›´å‡†ç¡®ã€‚ä½†æ˜¯ï¼Œå¢åŠ æ›²ç‡çš„åŒæ—¶ä¹Ÿå¢åŠ äº†æ¨¡å‹çš„å¤æ‚æ€§ï¼Œå› æ­¤æ‹Ÿåˆé€Ÿåº¦ä¼šå˜æ…¢ã€‚å½“æˆ‘ä»¬å¯¹æ¨¡å‹çš„å‡†ç¡®æ€§çš„ç†æƒ³è¿½æ±‚ä¸è®¡ç®—èƒ½åŠ›é™åˆ¶çš„æ®‹é…·ç°å®å‘ç”Ÿå†²çªæ—¶ï¼Œå°±éœ€è¦ç»¼åˆè€ƒè™‘äº†ã€‚ ä¸‹é¢ä½¿ç”¨å²­å›å½’çš„æ•°æ®ï¼Œæ³¨æ„å’Œç®€å•çº¿æ€§å›å½’çš„åŒºåˆ«ã€‚ 12345678910111213141516from sklearn.preprocessing import PolynomialFeatures#å°†æ›²çº¿çš„å¤šé¡¹å¼æ¬¡æ•°åˆå§‹å€¼è®¾ç½®ä¸º3poly = PolynomialFeatures(degree = 20)# â€œå…¶ä¸­ï¼ŒX_train_transformed è¡¨ç¤ºå¤šé¡¹å¼å½¢å¼çš„è¾“å…¥ï¼Œä¸çº¿æ€§å›å½’æ¨¡å‹æ˜¯ä¸€æ ·çš„ã€‚â€X_train_transformed = poly.fit_transform(X_train)#æµ‹è¯•ä¸€ä¸‹dp = X_train[0].reshape(1,-1)poly_dp = poly.fit_transform(dp)poly_liner = linear_model.LinearRegression()poly_liner.fit(X_train_transformed, y_train) #è¿™é‡Œæ³¨æ„è¾“å…¥è½¬æ¢åçš„X_trainprint (&quot;\nLinear regression:&quot;, rid.predict(dp)[0])print (&quot;\nPolynomial regression:&quot;, poly_liner.predict(poly_dp)[0]) ##è¿™è¾“å…¥è½¬æ¢åçš„X_test Linear regression: -11.058646635286552Polynomial regression: -8.070076359128953 å¤šé¡¹å¼æ¬¡æ•°ä¸º1æ—¶ è¿”å›é¢„æµ‹ç»“æœä¸ºï¼š-11.058729498335897ï¼Œæ¬ æ‹Ÿåˆ å¤šé¡¹å¼æ¬¡æ•°ä¸º10æ—¶ è¿”å›é¢„æµ‹ç»“æœä¸ºï¼š-8.206005341193759ï¼Œè¿™é‡Œä¸çœŸå®å€¼-8.07å·²ç»éå¸¸æ¥è¿‘äº† å¤šé¡¹å¼æ¬¡æ•°ä¸º20æ—¶ è¿”å›é¢„æµ‹ç»“æœä¸ºï¼š-8.070076359128953ï¼Œé’ˆå¯¹è¿™ä¸ªå€¼çš„é¢„æµ‹æœ€å®Œç¾ å¤šé¡¹å¼æ¬¡æ•°ä¸º100æ—¶ è¿”å›é¢„æµ‹ç»“æœä¸ºï¼š10.01397529328105ï¼Œè¯´æ˜å‡ºç°è¿‡æ‹Ÿåˆ AdaBoostç®—æ³•ä¼°ç®—æˆ¿å±‹ä»·æ ¼åˆ©ç”¨AdaBoostç®—æ³•çš„å†³ç­–æ ‘å›å½’å™¨ï¼ˆdecision tree regreessorï¼‰æ¥ä¼°ç®—æˆ¿å±‹ä»·æ ¼ å†³ç­–æ ‘æ˜¯ä¸€ä¸ªæ ‘çŠ¶æ¨¡å‹ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½åšå‡ºä¸€ä¸ªå†³ç­–ï¼Œä»è€Œå½±å“æœ€ç»ˆç»“æœã€‚å¶å­èŠ‚ç‚¹è¡¨ç¤ºè¾“å‡ºæ•°å€¼ï¼Œåˆ†æ”¯è¡¨ç¤ºæ ¹æ®è¾“å…¥ç‰¹å¾åšå‡ºçš„ä¸­é—´å†³ç­–ã€‚AdaBoostç®—æ³•æ˜¯æŒ‡è‡ªé€‚åº”å¢å¼ºï¼ˆadaptive boostingï¼‰ç®—æ³•ï¼Œè¿™æ˜¯ä¸€ç§åˆ©ç”¨å…¶ä»–ç³»ç»Ÿå¢å¼ºæ¨¡å‹å‡†ç¡®æ€§çš„æŠ€æœ¯ã€‚è¿™ç§æŠ€æœ¯æ˜¯å°†ä¸åŒç‰ˆæœ¬çš„ç®—æ³•ç»“æœè¿›è¡Œç»„åˆï¼Œç”¨åŠ æƒæ±‡æ€»çš„æ–¹å¼è·å¾—æœ€ç»ˆç»“æœï¼Œè¢«ç§°ä¸ºå¼±å­¦ä¹ å™¨ ï¼ˆweak learnersï¼‰ã€‚AdaBoostç®—æ³•åœ¨æ¯ä¸ªé˜¶æ®µè·å–çš„ä¿¡æ¯éƒ½ä¼šåé¦ˆåˆ°æ¨¡å‹ä¸­ï¼Œè¿™æ ·å­¦ä¹ å™¨å°±å¯ä»¥åœ¨åä¸€é˜¶æ®µé‡ç‚¹è®­ç»ƒéš¾ä»¥åˆ†ç±»çš„æ ·æœ¬ã€‚è¿™ç§å­¦ä¹ æ–¹å¼å¯ä»¥å¢å¼ºç³»ç»Ÿçš„å‡†ç¡®æ€§ã€‚ é¦–å…ˆä½¿ç”¨AdaBoostç®—æ³•å¯¹æ•°æ®é›†è¿›è¡Œå›å½’æ‹Ÿåˆï¼Œå†è®¡ç®—è¯¯å·®ï¼Œç„¶åæ ¹æ®è¯¯å·®è¯„ä¼°ç»“æœï¼Œç”¨åŒæ ·çš„æ•°æ®é›†é‡æ–°æ‹Ÿåˆã€‚å¯ä»¥æŠŠè¿™äº›çœ‹ä½œæ˜¯å›å½’å™¨çš„è°ƒä¼˜è¿‡ç¨‹ï¼Œç›´åˆ°è¾¾åˆ°é¢„æœŸçš„å‡†ç¡®æ€§ã€‚å‡è®¾ä½ æ‹¥æœ‰ä¸€ä¸ªåŒ…å«å½±å“æˆ¿ä»·çš„å„ç§å‚æ•°çš„æ•°æ®é›†ï¼Œæˆ‘ä»¬çš„ç›®æ ‡å°±æ˜¯ä¼°è®¡è¿™äº›å‚æ•°ä¸æˆ¿ä»·çš„å…³ç³»ï¼Œè¿™æ ·å°±å¯ä»¥æ ¹æ®æœªçŸ¥å‚æ•°ä¼°è®¡æˆ¿ä»·äº†ã€‚123456789import numpy as npfrom sklearn.tree import DecisionTreeRegressorfrom sklearn.ensemble import AdaBoostRegressorfrom sklearn import datasetsfrom sklearn.metrics import mean_squared_error, explained_variance_scorefrom sklearn.utils import shuffleimport matplotlib.pyplot as plthous_data = datasets.load_boston() 123456789101112131415161718192021222324252627# åˆ©ç”¨shuffleå‡½æ•°æŠŠæ•°æ®çš„é¡ºåºæ‰“ä¹±ï¼ˆå‚æ•°random_stateç”¨æ¥æ§åˆ¶å¦‚ä½•æ‰“ä¹±æ•°æ®ï¼‰X, y = shuffle(hous_data.data, hous_data.target, random_state=7)num = int(0.8 * len(X))X_train, y_train = X[:num], y[:num]X_test, y_test = X[num:], y[num:]# é€‰æ‹©æœ€å¤§æ·±åº¦ä¸º5çš„å†³ç­–æ ‘å›å½’æ¨¡å‹dtre = DecisionTreeRegressor(max_depth=5)dtre.fit(X_train, y_train)# å†ç”¨å¸¦AdaBoostç®—æ³•çš„å†³ç­–æ ‘å›å½’æ¨¡å‹è¿›è¡Œæ‹Ÿåˆä¸ä¸Šé¢è¿›è¡Œæ¯”è¾ƒabre = AdaBoostRegressor(DecisionTreeRegressor(max_depth=5), n_estimators=400, random_state=7)abre.fit(X_train, y_train)# çœ‹çœ‹AdaBoostç®—æ³•å¯¹å†³ç­–æ ‘å›å½’å™¨çš„è®­ç»ƒæ•ˆæœæœ‰å¤šå¤§æ”¹å–„y_pred_dt = dtre.predict(X_test)mse = mean_squared_error(y_test, y_pred_dt)evs = explained_variance_score(y_test, y_pred_dt)print(&quot;å†³ç­–æ ‘-å‡æ–¹è¯¯å·®: &quot;, mse)print(&quot;å†³ç­–æ ‘-è§£é‡Šæ–¹å·®: &quot;, evs)y_pred_ab = abre.predict(X_test)mse = mean_squared_error(y_test, y_pred_ab)evs = explained_variance_score(y_test, y_pred_ab)print(&quot;\nAbaBoostå†³ç­–æ ‘-å‡æ–¹è¯¯å·®: &quot;, mse)print(&quot;AbaBoostå†³ç­–æ ‘-è§£é‡Šæ–¹å·®: &quot;, evs) å†³ç­–æ ‘-å‡æ–¹è¯¯å·®: 12.74782456548819å†³ç­–æ ‘-è§£é‡Šæ–¹å·®: 0.8454595720920495AbaBoostå†³ç­–æ ‘-å‡æ–¹è¯¯å·®: 7.015648111222207AbaBoostå†³ç­–æ ‘-è§£é‡Šæ–¹å·®: 0.9147414844474588 è®¡ç®—ç‰¹å¾çš„ç›¸å¯¹é‡è¦æ€§ ï¼ˆå¦‚äº¤é€šæ¡ˆä¾‹è®¡ç®—å„å‡ºå£è´¡çŒ®ç‡ï¼‰(_modle.feature__importances_) åœ¨è¿™ä¸ªæ¡ˆä¾‹ä¸­ï¼Œæˆ‘ä»¬ç”¨äº†13ä¸ªç‰¹å¾ï¼Œå®ƒä»¬å¯¹æ¨¡å‹éƒ½æœ‰è´¡çŒ®ã€‚ä½†æ˜¯ï¼Œæœ‰ä¸€ä¸ªé‡è¦çš„é—®é¢˜å‡ºç°äº†ï¼šå¦‚ä½•åˆ¤æ–­å“ªä¸ªç‰¹å¾æ›´åŠ é‡è¦ï¼Ÿæ˜¾ç„¶ï¼Œæ‰€æœ‰çš„ç‰¹å¾å¯¹ç»“æœçš„è´¡çŒ®æ˜¯ä¸ä¸€æ ·çš„ã€‚å¦‚æœéœ€è¦å¿½ç•¥ä¸€äº›ç‰¹å¾ï¼Œå°±éœ€è¦çŸ¥é“å“ªäº›ç‰¹å¾ä¸å¤ªé‡è¦ã€‚scikit-learné‡Œé¢æœ‰è¿™æ ·çš„åŠŸèƒ½ã€‚123456789101112131415161718192021def plot_feature_importances(feature_importances, title, feature_names): # å°†é‡è¦æ€§å€¼æ ‡å‡†åŒ– feature_importances = 100.0 * (feature_importances / max(feature_importances)) # å°†å¾—åˆ†ä»é«˜åˆ°ä½æ’åº index_sorted = np.flipud(np.argsort(feature_importances)) # è®©Xåæ ‡è½´ä¸Šçš„æ ‡ç­¾å±…ä¸­æ˜¾ç¤º pos = np.arange(index_sorted.shape[0]) + 0.5 # ç”»æ¡å½¢å›¾ plt.figure() plt.bar(pos, feature_importances[index_sorted], align=&apos;center&apos;) plt.xticks(pos, feature_names[index_sorted]) plt.ylabel(&apos;Relative Importance&apos;) plt.title(title) plt.show()# ç”»å‡ºç‰¹å¾çš„ç›¸å¯¹é‡è¦æ€§plot_feature_importances(dtre.feature_importances_, &apos;Decision Tree regressor&apos;, hous_data.feature_names)plot_feature_importances(abre.feature_importances_, &apos;AdaBoost regressor&apos;, hous_data.feature_names) ä¸Šå›¾å¯ä»¥çœ‹å‡ºä¸å¸¦AbaBoostçš„å†³ç­–æ ‘å›å½’å™¨æ˜¾ç¤ºæœ€é‡è¦çš„ç‰¹å¾æ˜¯RMï¼Œè€Œå¸¦AbaBoostç®—æ³•çš„å†³ç­–å›å½’å™¨ç°å®çš„æœ€ä¸»è¦ç‰¹å¾æ˜¯LASTATã€‚ç°å®ç”Ÿæ´»ä¸­å¦‚æœå¯¹è¿™ä¸ªæ•°æ®é›†å»ºç«‹ä¸åŒçš„å›å½’å™¨ä¼šå‘ç°æœ€é‡è¦çš„ç‰¹å¾å°±æ˜¯LSTATï¼Œè¿™è¶³ä»¥ä½“ç°AbaBoostç®—æ³•å¯¹å†³ç­–æ ‘è®­ç»ƒæ•ˆæœçš„æ”¹å–„ã€‚1234567891011from pyecharts import Pieattr = f_namev1 = rf_regr.feature_importances_pie = Pie(&quot;å½±å“æˆ¿ä»·çš„å› ç´ åˆ†æ&quot;)pie.add(&quot;å†³ç­–æ ‘å›å½’å™¨&quot;, hous_data.feature_names, dtre.feature_importances_, is_label_show=True, label_emphasis_textcolor=&apos;red&apos;,label_emphasis_textsize=14, is_random=True, legend_orient=&apos;vertical&apos;, legend_pos=&apos;1&apos;, legend_top=&apos;40&apos;,center=[35, 50],radius=[0, 50])pie.add(&quot;AbaBoostå†³ç­–æ ‘&quot;, hous_data.feature_names, abre.feature_importances_,is_label_show=True, label_emphasis_textcolor=&apos;red&apos;,label_emphasis_textsize=14, is_random=True, legend_orient=&apos;vertical&apos;, legend_pos=&apos;1&apos;, legend_top=&apos;40&apos;,center=[75, 50],radius=[0, 50])pie éšæœºæ£®æ—è¯„ä¼°å…±äº«å•è½¦çš„éœ€æ±‚åˆ†å¸ƒé‡‡ç”¨éšæœºæ£®æ—å›å½’å™¨(random forest regressor)ä¼°è®¡è¾“å‡ºç»“æœã€‚ éšæœºæ£®æ—æ­»ä¸€ä¸ªå†³ç­–æ ‘åˆé›†ï¼Œå®ƒåŸºæœ¬ä¸Šå°±æ˜¯ç”¨ä¸€ç»„ç”±æ•°æ®é›†çš„è‹¥å¹²å­é›†æ„å»ºçš„å†³ç­–æ ‘æ„æˆï¼Œå†ç”¨å†³ç­–æ ‘å¹³å‡å€¼æ”¹å–„æ•´ä½“å­¦ä¹ æ•ˆæœ æˆ‘ä»¬å°†ä½¿ç”¨bike_day.csvæ–‡ä»¶ä¸­çš„æ•°æ®é›†ï¼Œå®ƒå¯ä»¥åœ¨ https://archive.ics.uci.edu/ml/datasets/Bike+Sharing+Dataset è·å–ã€‚è¿™ä»½æ•°æ®é›†ä¸€å…±16åˆ—ï¼Œå‰ä¸¤åˆ—æ˜¯åºåˆ—å·ä¸æ—¥æœŸï¼Œåˆ†æçš„æ—¶å€™å¯ä»¥ä¸ç”¨ï¼›æœ€åä¸‰åˆ—æ•°æ®æ˜¯ä¸åŒç±»å‹çš„è¾“å‡ºç»“æœï¼›æœ€åä¸€åˆ—æ˜¯ç¬¬åå››åˆ—ä¸ç¬¬åäº”åˆ—çš„å’Œï¼Œå› æ­¤å»ºç«‹æ¨¡å‹æ—¶å¯ä»¥ä¸è€ƒè™‘ç¬¬åå››åˆ—ä¸ç¬¬åäº”åˆ—ã€‚ å‚æ•°n_estimatorsæ˜¯æŒ‡è¯„ä¼°å™¨ï¼ˆestimatorï¼‰çš„æ•°é‡ï¼Œè¡¨ç¤ºéšæœºæ£®æ—éœ€è¦ä½¿ç”¨çš„å†³ç­–æ ‘æ•°é‡ï¼›å‚æ•°max_depth æ˜¯æŒ‡æ¯ä¸ªå†³ç­–æ ‘çš„æœ€å¤§æ·±åº¦ï¼›å‚æ•°min_samples_splitæ˜¯æŒ‡å†³ç­–æ ‘åˆ†è£‚ä¸€ä¸ªèŠ‚ç‚¹éœ€è¦ç”¨åˆ°çš„æœ€å°æ•°æ®æ ·æœ¬é‡ã€‚123456789101112131415161718192021222324252627import pandas as pdfrom sklearn.ensemble import RandomForestRegressorfrom housing import plot_feature_importances #è¿™ä¸ªæ–¹æ³•æºç å‚è€ƒä¸Šä¾‹data = pd.read_csv(&apos;bike_day.csv&apos;,sep=&apos;,&apos;)X = data[data.columns[2:13]]y = data[data.columns[-1]]f_name = X.columnsX, y = shuffle(X, y, random_state=7)num = int(0.9 * len(X))X_train, y_train = X[:num], y[:num]X_test, y_test = X[num:], y[num:]rf_regr = RandomForestRegressor(n_estimators=1000, max_depth=15, min_samples_split=12)rf_regr.fit(X_train, y_train)y_pred = rf_regr.predict(X_test)mse = mean_squared_error(y_test, y_pred)evs = explained_variance_score(y_test, y_pred)print(&quot;éšæœºæ£®æ—å›å½’å™¨æ•ˆæœï¼š&quot;)print(&quot;å‡æ–¹è¯¯å·®ï¼š&quot;, round(mse, 2))print(&quot;è§£é‡Šæ–¹å·®åˆ†ï¼š&quot;, round(evs, 2)) éšæœºæ£®æ—å›å½’å™¨æ•ˆæœï¼šå‡æ–¹è¯¯å·®ï¼š 368026.24è§£é‡Šæ–¹å·®åˆ†ï¼š 0.89 12345678from pyecharts import Pieattr = f_namev1 = rf_regr.feature_importances_pie = Pie(&quot;å…±äº«å•è½¦å› ç´ åˆ†æ&quot;)pie.add(&quot;å› ç´ &quot;, attr, v1, is_label_show=True, label_emphasis_textcolor=&apos;red&apos;,label_emphasis_textsize=14, is_random=True, legend_orient=&apos;vertical&apos;, legend_pos=&apos;1&apos;, legend_top=&apos;40&apos;)pie åˆ©ç”¨æŒ‰å°æ—¶çš„æ•°æ®è®¡ç®—ç›¸å…³æ€§ è¿™é‡Œè¦ç”¨åˆ°3ï½14åˆ—1len(X_train) 15641 123456789101112131415161718hour_data = pd.read_csv(&apos;bike_hour.csv&apos;, sep=&apos;,&apos;)X = hour_data[hour_data.columns[2:14]]y = hour_data[hour_data.columns[-1]]X, y = shuffle(X, y, random_state=7)num = int(0.9*len(X))X_train, y_train = X[:num], y[:num]X_test, y_test = X[num:], y[num:]f_names = X.columnshrf_regr = RandomForestRegressor(n_estimators=1000, max_depth=15, min_samples_split=10)hrf_regr.fit(X_train, y_train)y_pred = hrf_regr.predict(X_test)mse = mean_squared_error(y_test, y_pred)evs = explained_variance_score(y_test, y_pred)print(&quot;å‡æ–¹è¯¯å·®ï¼š&quot;, mse)print(&quot;è§£é‡Šæ–¹å·®åˆ†ï¼š&quot;, evs) å‡æ–¹è¯¯å·®ï¼š 1884.1767363623571è§£é‡Šæ–¹å·®åˆ†ï¼š 0.9414038595964176 1234567attr = f_namesv1 = hrf_regr.feature_importances_pie = Pie(&quot;å…±äº«å•è½¦å› ç´ åˆ†æ&quot;)pie.add(&quot;å› ç´ &quot;, attr, v1, is_label_show=True, label_emphasis_textcolor=&apos;red&apos;,label_emphasis_textsize=14, is_random=True, legend_orient=&apos;vertical&apos;, legend_pos=&apos;1&apos;, legend_top=&apos;40&apos;)pie ç”±å›¾å¯è§ï¼Œå…¶ä¸­æœ€é‡è¦çš„ç‰¹å¾æ˜¯ä¸€å¤©ä¸­çš„ä¸åŒæ—¶é—´ç‚¹ï¼ˆhrï¼‰ï¼Œå…¶æ¬¡é‡è¦çš„æ˜¯æ¸©åº¦ï¼Œè¿™å®Œå…¨ç¬¦åˆäººä»¬çš„ç›´è§‰ã€‚]]></content>
      <categories>
        <category>æœºå™¨å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>æœºå™¨å­¦ä¹ </tag>
        <tag>sklearn</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æœºå™¨å­¦ä¹ ä¹‹é€»è¾‘å›å½’]]></title>
    <url>%2F2018%2F06%2F04%2F%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E4%B9%8B%E9%80%BB%E8%BE%91%E5%9B%9E%E5%BD%92%2F</url>
    <content type="text"><![CDATA[ä»ITæ—¶ä»£èµ°å‘DTæ—¶ä»£ é€»è¾‘å›å½’åŸºç¡€Sigmoidé¢„æµ‹å‡½æ•°åœ¨é€»è¾‘å›å½’ä¸­ï¼Œå®šä¹‰é¢„æµ‹å‡½æ•°ä¸ºï¼š h_\theta (x) = g(z)å…¶ä¸­ï¼Œ\(z=\theta^Tx\)æ˜¯åˆ†ç±»è¾¹ç•Œï¼Œä¸”\(g(z)=\frac{1}{1+e^{-z}}\)g(z)ç§°ä¹‹ä¸º Sigmoid Functionï¼Œäº¦ç§° Logic Functionï¼Œå…¶å‡½æ•°å›¾åƒå¦‚ä¸‹ï¼š å¯ä»¥çœ‹åˆ°ï¼Œé¢„æµ‹å‡½æ•° hÎ¸(x)è¢«å¾ˆå¥½åœ°é™åˆ¶åœ¨äº† 0ã€1 ä¹‹é—´ï¼Œå¹¶ä¸”ï¼Œsigmoid æ˜¯ä¸€ä¸ªéå¸¸å¥½çš„é˜ˆå€¼å‡½æ•°ï¼šé˜ˆå€¼ä¸º 0.5ï¼Œå¤§äº 0.5ä¸º 1 ç±»ï¼Œåä¹‹ä¸º 0 ç±»ã€‚å‡½æ•°æ›²çº¿è¿‡æ¸¡å…‰æ»‘è‡ªç„¶ï¼Œå…³äº 0.5ä¸­å¿ƒå¯¹ç§°ä¹Ÿæå…·ç¾æ„Ÿã€‚ å†³ç­–è¾¹ç•Œ çº¿æ€§å†³ç­–è¾¹ç•Œ éçº¿æ€§å†³ç­–è¾¹ç•Œ é¢„æµ‹ä»£ä»·å‡½æ•°ä¸‹é¢ä¸¤å¹…å›¾ä¸­ï¼Œå·¦å›¾è¿™æ ·çŠ¬ç‰™å·®äº’çš„ä»£ä»·æ›²çº¿ï¼ˆéå‡¸å‡½æ•°ï¼‰æ˜¾ç„¶ä¼šä½¿æˆ‘ä»¬åœ¨åšæ¢¯åº¦ä¸‹é™çš„æ—¶å€™é™·å…¥è¿·èŒ«ï¼Œä»»ä½•ä¸€ä¸ªæå°å€¼éƒ½æœ‰å¯èƒ½è¢«é”™è®¤ä¸ºæœ€å°å€¼ï¼Œä½†æ— æ³•è·å¾—æœ€ä¼˜é¢„æµ‹ç²¾åº¦ã€‚ä½†åœ¨å³å›¾çš„ä»£ä»·æ›²çº¿ä¸­ï¼Œå°±åƒæ»‘æ¢¯ä¸€æ ·ï¼Œæˆ‘ä»¬å°±å¾ˆå®¹æ˜“è¾¾åˆ°æœ€å°å€¼ï¼š é€»è¾‘å›å½’å®šä¹‰çš„ä»£ä»·å‡½æ•°ä¸ºï¼š J(\theta)=\frac{1}{m}\sum\limits_{i=1}^mCost(h_\theta(x^{(i)}),y^{(i)})ä¸ºä¿è¯ä»£ä»·å‡½æ•°å‘ˆå‡¸å½¢æ›²çº¿ï¼Œåˆ™å®šä¹‰ \(Cost(h_\theta(x^{(i)}),y^{(i)})\)ï¼š Cost(h_\theta(x),y)= \begin{cases} -log(h_\theta(x)),&\mbox{if $y=1$}\\ -log(1-h_\theta(x)),&\mbox{if $y=0$} \end{cases}è¯¥å‡½æ•°ç­‰ä»·äºï¼š \begin{align*} Cost(h_\theta(x),y) &=-ylog(h_\theta(x))-(1-y)log(1-h_\theta(x)) \\ &= (\,log\,(g(X\theta))^Ty+(\,log\,(1-g(X\theta))^T(1-y) \end{align*}ä»£ä»·å‡½æ•°éšé¢„æµ‹å€¼ hÎ¸(x)hÎ¸(x) çš„å˜åŒ–å¦‚ä¸‹ï¼š æ‰‹æ¨LR è¿‡æ‹Ÿåˆé—®é¢˜æ­£åˆ™åŒ–æ˜¯ç»“æ„é£é™©æœ€å°åŒ–ç­–ç•¥çš„å®ç°ï¼Œæ˜¯åœ¨ç»éªŒé£é™©ä¸ŠåŠ ä¸€ä¸ªæ­£åˆ™åŒ–é¡¹æˆ–æƒ©ç½šé¡¹ã€‚æ­£åˆ™åŒ–é¡¹ä¸€èˆ¬æ˜¯æ¨¡å‹å¤æ‚åº¦çš„å•è°ƒé€’å¢å‡½æ•°ï¼Œæ¨¡å‹è¶Šå¤æ‚ï¼Œæ­£åˆ™åŒ–é¡¹å°±è¶Šå¤§ã€‚ å¦‚ä¸‹ä¾‹æ‰€ç¤ºï¼Œæˆ‘ä»¬å°† Î¸3 åŠ Î¸4 å‡å°ï¼ˆæƒ©ç½šï¼‰åˆ°è¶‹è¿‘äº 00ï¼ŒåŸæœ¬è¿‡æ‹Ÿåˆçš„æ›²çº¿å°±å˜å¾—æ›´åŠ å¹³æ»‘ï¼Œè¶‹è¿‘äºä¸€æ¡äºŒæ¬¡æ›²çº¿ï¼ˆåœ¨æœ¬ä¾‹ä¸­ï¼ŒäºŒæ¬¡æ›²çº¿æ˜¾ç„¶æ›´èƒ½åæ˜ ä½æˆ¿é¢ç§¯å’Œæˆ¿ä»·çš„å…³ç³»ï¼‰ï¼Œä¹Ÿå°±èƒ½å¤Ÿæ›´å¥½çš„æ ¹æ®ä½æˆ¿é¢ç§¯æ¥é¢„æµ‹æˆ¿ä»·ã€‚ ç›´è§‚æ¥çœ‹ï¼Œå¦‚æœæˆ‘ä»¬æƒ³è§£å†³è¿™ä¸ªä¾‹å­ä¸­çš„è¿‡æ‹Ÿåˆé—®é¢˜ï¼Œæœ€å¥½èƒ½å°†çš„å½±å“æ¶ˆé™¤ï¼Œä¹Ÿå°±æ˜¯è®©ã€‚å‡è®¾æˆ‘ä»¬å¯¹è¿›è¡Œæƒ©ç½šï¼Œå¹¶ä¸”ä»¤å…¶å¾ˆå°ï¼Œä¸€ä¸ªç®€å•çš„åŠæ³•å°±æ˜¯ç»™åŸæœ‰çš„Costå‡½æ•°åŠ ä¸Šä¸¤ä¸ªç•¥å¤§æƒ©ç½šé¡¹ï¼Œä¾‹å¦‚ï¼š è¿™æ ·åœ¨æœ€å°åŒ–Costå‡½æ•°çš„æ—¶å€™ï¼Œã€‚æ­£åˆ™é¡¹å¯ä»¥å–ä¸åŒçš„å½¢å¼ï¼Œåœ¨å›å½’é—®é¢˜ä¸­å–å¹³æ–¹æŸå¤±ï¼Œå°±æ˜¯å‚æ•°çš„L2èŒƒæ•°ï¼Œä¹Ÿå¯ä»¥å–L1èŒƒæ•°ã€‚å–å¹³æ–¹æŸå¤±æ—¶ï¼Œæ¨¡å‹çš„æŸå¤±å‡½æ•°å˜ä¸ºï¼š lambdaæ˜¯æ­£åˆ™é¡¹ç³»æ•°ï¼š 1.å¦‚æœå®ƒçš„å€¼å¾ˆå¤§ï¼Œè¯´æ˜å¯¹æ¨¡å‹çš„å¤æ‚åº¦æƒ©ç½šå¤§ï¼Œå¯¹æ‹Ÿåˆæ•°æ®çš„æŸå¤±æƒ©ç½šå°ï¼Œè¿™æ ·å®ƒå°±ä¸ä¼šè¿‡åˆ†æ‹Ÿåˆæ•°æ®ï¼Œåœ¨è®­ç»ƒæ•°æ®ä¸Šçš„åå·®è¾ƒå¤§ï¼Œåœ¨æœªçŸ¥æ•°æ®ä¸Šçš„æ–¹å·®è¾ƒå°ï¼Œä½†æ˜¯å¯èƒ½å‡ºç°æ¬ æ‹Ÿåˆçš„ç°è±¡ï¼› 2.å¦‚æœå®ƒçš„å€¼å¾ˆå°ï¼Œè¯´æ˜æ¯”è¾ƒæ³¨é‡å¯¹è®­ç»ƒæ•°æ®çš„æ‹Ÿåˆï¼Œåœ¨è®­ç»ƒæ•°æ®ä¸Šçš„åå·®ä¼šå°ï¼Œä½†æ˜¯å¯èƒ½ä¼šå¯¼è‡´è¿‡æ‹Ÿåˆã€‚ æ­£åˆ™åŒ–åçš„æ¢¯åº¦ä¸‹é™ä¸­Î¸çš„æ›´æ–°å˜ä¸ºï¼š æ­£åˆ™åŒ–åçš„çº¿æ€§å›å½’çš„Normal Equationçš„å…¬å¼ä¸ºï¼š scikit-learn é€»è¾‘å›å½’ç±»å¸¦L1ä¸L2æ­£åˆ™çš„é€»è¾‘å›å½’æŸå¤±å‡½æ•°scikit-learnåœ¨LogisticRegressionçš„sklearn.linear_model.LogisticRegressionç±»ä¸­å®ç°äº†äºŒåˆ†ç±»ï¼ˆbinaryï¼‰ã€ä¸€å¯¹å¤šåˆ†ç±»ï¼ˆone-vs-restï¼‰åŠå¤šé¡¹å¼ logistic å›å½’ï¼Œå¹¶å¸¦æœ‰å¯é€‰çš„ L1 å’Œ L2 æ­£åˆ™åŒ–ã€‚ ä½œä¸ºä¼˜åŒ–é—®é¢˜ï¼Œå¸¦ L2 æ­£åˆ™çš„äºŒåˆ†ç±» logistic å›å½’è¦æœ€å°åŒ–ä»¥ä¸‹ä»£ä»·å‡½æ•°ï¼ˆcost functionï¼‰ï¼š \underset{w, c}{min\,} \frac{1}{2}w^T w + C \sum_{i=1}^n \log(\exp(- y_i (X_i^T w + c)) + 1)ç±»ä¼¼åœ°ï¼Œå¸¦ L1 æ­£åˆ™çš„ logistic å›å½’è§£å†³çš„æ˜¯å¦‚ä¸‹ä¼˜åŒ–é—®é¢˜ï¼š \underset{w, c}{min\,} \|w\|_1 + C \sum_{i=1}^n \log(\exp(- y_i (X_i^T w + c)) + 1) L1 èŒƒæ•°ä½œä¸ºæ­£åˆ™é¡¹ç”±ä»¥ä¸‹å‡ ä¸ªç”¨é€”ï¼š ç‰¹å¾é€‰æ‹©ï¼š å®ƒä¼šè®©æ¨¡å‹å‚æ•°å‘é‡é‡Œçš„å…ƒç´ ä¸º0çš„ç‚¹å°½é‡å¤šã€‚ å› æ­¤å¯ä»¥æ’é™¤æ‰é‚£äº›å¯¹é¢„æµ‹å€¼æ²¡æœ‰ä»€ä¹ˆå½±å“çš„ç‰¹å¾ï¼Œä»è€Œç®€åŒ–é—®é¢˜ã€‚æ‰€ä»¥ L1 èŒƒæ•°è§£å†³è¿‡æ‹Ÿåˆæªæ–½å®é™…ä¸Šæ˜¯å‡å°‘ç‰¹å¾æ•°é‡ã€‚ å¯è§£é‡Šæ€§ï¼š æ¨¡å‹å‚æ•°å‘é‡ç¨€ç–åŒ–åï¼Œåªä¼šç•™ä¸‹é‚£äº›å¯¹é¢„æµ‹å€¼æœ‰é‡è¦å½±å“çš„ç‰¹å¾ã€‚ è¿™æ ·æˆ‘ä»¬å°±å®¹æ˜“è§£é‡Šæ¨¡å‹çš„å› æœå…³ç³»ã€‚ æ¯”å¦‚é’ˆå¯¹æŸä¸ªç™Œç—‡çš„ç­›æŸ¥ï¼Œå¦‚æœæœ‰100ä¸ªç‰¹å¾ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ— ä»è§£é‡Šåˆ°åº•å“ªäº›ç‰¹å¾å¯¹é˜³æ€§æˆå…³é”®ä½œç”¨ã€‚ ç¨€ç–åŒ–åï¼Œåªç•™ä¸‹å‡ ä¸ªå…³é”®ç‰¹å¾ï¼Œå°±æ›´å®¹æ˜“çœ‹åˆ°å› æœå…³ç³» ç”±æ­¤å¯è§ï¼Œ L1 èŒƒæ•°ä½œä¸ºæ­£åˆ™é¡¹ï¼Œæ›´å¤šçš„æ˜¯ä¸€ä¸ªåˆ†æå·¥å…·ï¼Œè€Œé€‚åˆç”¨æ¥å¯¹æ¨¡å‹æ±‚è§£ã€‚å› ä¸ºå®ƒä¼šæŠŠä¸é‡è¦çš„ç‰¹å¾ç›´æ¥å»é™¤ã€‚ å¤§éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬è§£å†³è¿‡æ‹Ÿåˆé—®é¢˜ï¼Œè¿˜æ˜¯é€‰æ‹© L2 å•æ•°ä½œä¸ºæ­£åˆ™é¡¹ï¼Œ è¿™ä¹Ÿæ˜¯ sklearn é‡Œçš„é»˜è®¤å€¼ã€‚ ä¼˜åŒ–æ–¹æ³•å‚æ•°solverå‚æ•°å†³å®šäº†æˆ‘ä»¬å¯¹é€»è¾‘å›å½’æŸå¤±å‡½æ•°çš„ä¼˜åŒ–æ–¹æ³•ï¼Œæœ‰å››ç§ç®—æ³•å¯ä»¥é€‰æ‹©ï¼Œåˆ†åˆ«æ˜¯ï¼š liblinearï¼šä½¿ç”¨äº†å¼€æºçš„liblinearåº“å®ç°ï¼Œå†…éƒ¨ä½¿ç”¨äº†åæ ‡è½´ä¸‹é™æ³•æ¥è¿­ä»£ä¼˜åŒ–æŸå¤±å‡½æ•°ã€‚ lbfgsï¼šæ‹Ÿç‰›é¡¿æ³•çš„ä¸€ç§ï¼Œåˆ©ç”¨æŸå¤±å‡½æ•°äºŒé˜¶å¯¼æ•°çŸ©é˜µå³æµ·æ£®çŸ©é˜µæ¥è¿­ä»£ä¼˜åŒ–æŸå¤±å‡½æ•°ã€‚ newton-cgï¼šä¹Ÿæ˜¯ç‰›é¡¿æ³•å®¶æ—çš„ä¸€ç§ï¼Œåˆ©ç”¨æŸå¤±å‡½æ•°äºŒé˜¶å¯¼æ•°çŸ©é˜µå³æµ·æ£®çŸ©é˜µæ¥è¿­ä»£ä¼˜åŒ–æŸå¤±å‡½æ•°ã€‚ sagï¼šå³éšæœºå¹³å‡æ¢¯åº¦ä¸‹é™ï¼Œæ˜¯æ¢¯åº¦ä¸‹é™æ³•çš„å˜ç§ï¼Œå’Œæ™®é€šæ¢¯åº¦ä¸‹é™æ³•çš„åŒºåˆ«æ˜¯æ¯æ¬¡è¿­ä»£ä»…ä»…ç”¨ä¸€éƒ¨åˆ†çš„æ ·æœ¬æ¥è®¡ç®—æ¢¯åº¦ï¼Œé€‚åˆäºæ ·æœ¬æ•°æ®å¤šçš„æ—¶å€™ã€‚ sagaï¼šçº¿æ€§æ”¶æ•›çš„éšæœºä¼˜åŒ–ç®—æ³•çš„çš„å˜é‡ã€‚ Case Solver L1æ­£åˆ™ â€œliblinearâ€ or â€œsagaâ€ å¤šé¡¹å¼æŸå¤±ï¼ˆmultinomial lossï¼‰ â€œlbfgsâ€, â€œsagâ€, â€œsagaâ€ or â€œnewton-cgâ€ å¤§æ•°æ®é›†ï¼ˆn_samplesï¼‰ â€œsagâ€ or â€œsagaâ€ â€œsagaâ€ ä¸€èˆ¬éƒ½æ˜¯æœ€ä½³çš„é€‰æ‹©ï¼Œä½†å‡ºäºä¸€äº›å†å²é—ç•™åŸå› é»˜è®¤çš„æ˜¯ â€œliblinearâ€ ä¹³è…ºç™Œæ£€æµ‹ä½¿ç”¨é€»è¾‘å›å½’ç®—æ³•è§£å†³ä¹³è…ºç™Œæ£€æµ‹é—®é¢˜ã€‚ æˆ‘ä»¬éœ€è¦å…ˆé‡‡é›†è‚¿ç˜¤ç—…ç¶é€ å½±å›¾ç‰‡ï¼Œ ç„¶åå¯¹å›¾ç‰‡è¿›è¡Œåˆ†æï¼Œ ä»å›¾ç‰‡ä¸­æå–ç‰¹å¾ï¼Œ åœ¨æ ¹æ®ç‰¹å¾æ¥è®­ç»ƒæ¨¡å‹ã€‚ æœ€ç»ˆä½¿ç”¨æ¨¡å‹æ¥æ£€æµ‹æ–°é‡‡é›†åˆ°çš„è‚¿ç˜¤ç—…ç¶é€ å½±ï¼Œ åˆ¤æ–­æ˜¯è‰¯æ€§è¿˜æ˜¯æ¶æ€§ã€‚ è¿™ä¸ªæ˜¯å…¸å‹çš„äºŒå…ƒåˆ†ç±»é—®é¢˜ã€‚12345678910# åŠ è½½æ•°æ®import numpy as npimport pandas as pdfrom sklearn.datasets import load_breast_cancercancer = load_breast_cancer()X = cancer.datay = cancer.targetprint(X.shape, y.shape,&apos;\n&apos;, X[0], &apos;\n&apos;, y[0]) (569, 30) (569,) [1.799e+01 1.038e+01 1.228e+02 1.001e+03 1.184e-01 2.776e-01 3.001e-01 1.471e-01 2.419e-01 7.871e-02 1.095e+00 9.053e-01 8.589e+00 1.534e+02 6.399e-03 4.904e-02 5.373e-02 1.587e-02 3.003e-02 6.193e-03 2.538e+01 1.733e+01 1.846e+02 2.019e+03 1.622e-01 6.656e-01 7.119e-01 2.654e-01 4.601e-01 1.189e-01] 0 å®é™…ä¸Šå®ƒåªå…³æ³¨äº† 10 ä¸ªç‰¹å¾ï¼Œç„¶ååˆæ„é€ å‡ºæ¥æ¯ä¸ªç‰¹å¾çš„æ ‡å‡†å·®åŠæœ€å¤§å€¼ï¼Œè¿™æ ·æ¯ä¸ªç‰¹å¾åˆè¡ç”Ÿå‡ºäº†ä¸¤ä¸ªç‰¹å¾ï¼Œæ‰€ä»¥å…±æœ‰30ä¸ªç‰¹å¾ã€‚ ç–‘é—®ï¼š è¯¥æ–¹å¼æ˜¯å¦ç›´æ¥ä¼šå¯¼è‡´å¤šé‡å…±çº¿æ€§çš„å‡ºç°ï¼Ÿ ä»£ç å®ç°1234567891011from sklearn.model_selection import train_test_splitX_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.2)from sklearn.linear_model import LogisticRegressionmodel = LogisticRegression()model.fit(X_train, y_train)train_score = model.score(X_train, y_train)test_score = model.score(X_test, y_test)y_pred = model.predict(X_test)print(&quot;train_score:&quot;, train_score)print(&quot;test_score:&quot;, test_score) train_score: 0.9626373626373627test_score: 0.9473684210526315 1234567```from sklearn.metrics import precision_score, recall_score, f1_scoreprint(&quot;æŸ¥å‡†ç‡ï¼š&quot;, precision_score(y_test, y_pred))print(&quot;å¬å›ç‡ï¼š&quot;, recall_score(y_test, y_pred))print(&quot;F1Scoreï¼š&quot;, f1_score(y_test, y_pred))print(np.equal(y_pred, y_test).shape[0], y_test.shape[0]) # è¾“å‡ºé¢„æµ‹åŒ¹é…æˆåŠŸæ•°é‡å’Œæµ‹è¯•æ ·æœ¬çš„æ•°é‡ æŸ¥å‡†ç‡ï¼š 0.9358974358974359 å¬å›ç‡ï¼š 0.9733333333333334F1Scoreï¼š 0.954248366013072114 114 è¿™é‡Œæ•°é‡ä¸Šæ˜¾ç¤ºå…¨éƒ¨éƒ½é¢„æµ‹æ­£ç¡®ï¼Œè€Œtest_scoreå´ä¸æ˜¯1ï¼Œæ˜¯å› ä¸ºsklearnä¸æ˜¯ä½¿ç”¨è¿™ä¸ªæ•°æ®æ¥è®¡ç®—å¾—åˆ†ï¼Œå› ä¸ºè¿™ä¸ªæ•°æ®ä¸èƒ½å®Œå…¨åæ˜ è¯¯å·®æƒ…å†µï¼Œè€Œæ˜¯ä½¿ç”¨é¢„æµ‹æ¦‚ç‡æ¥è®¡ç®—æ¨¡å‹å¾—åˆ†ã€‚ æŸ¥çœ‹é¢„æµ‹è‡ªä¿¡åº¦äºŒå…ƒåˆ†ç±»æ¨¡å‹ä¼šé’ˆå¯¹æ¯ä¸ªæ ·æœ¬è¾“å‡ºçš„ä¸¤ä¸ªæ¦‚ç‡ï¼Œå³0å’Œ1çš„æ¦‚ç‡ï¼Œå“ªä¸ªæ¦‚ç‡é«˜å°±é¢„æµ‹å™¨å“ªä¸ªç±»åˆ«ã€‚æˆ‘ä»¬å¯ä»¥æ‰¾å‡ºé’ˆå¯¹æµ‹è¯•æ•°æ®é›†ï¼Œæ¨¡å‹é¢„æµ‹çš„â€œè‡ªä¿¡åº¦â€ä½äº90%çš„æ ·æœ¬ã€‚æˆ‘ä»¬å…ˆè®¡ç®—å‡ºæµ‹è¯•æ•°æ®é›†é‡Œæ¯ä¸ªæ ·æœ¬çš„é¢„æµ‹æ¦‚ç‡æ•°æ®ï¼Œé’ˆå¯¹æ¯ä¸ªæ ·æœ¬ä¼šæœ‰ä¸¤ä¸ªæ•°æ®ï¼šä¸€ä¸ªé¢„æµ‹ä¸º0ï¼Œä¸€ä¸ªé¢„æµ‹ä¸º1ã€‚ç»“åˆæ‰¾å‡ºé¢„æµ‹ä¸ºé˜´æ€§å’Œé˜³æ€§çš„æ¦‚ç‡å¤§äº0.1çš„æ ·æœ¬ã€‚æˆ‘ä»¬å¯ä»¥çœ‹ä¸‹æ¦‚ç‡æ•°æ®ï¼š 1234# è®¡ç®—æ¯ä¸ªæµ‹è¯•æ ·æœ¬çš„é¢„æµ‹æ¦‚ç‡ï¼šy_pred_proba = model.predict_proba(X_test)print(&quot;è‡ªä¿¡åº¦ç¤ºä¾‹ï¼š&quot;,y_pred_proba[0]) è‡ªä¿¡åº¦ç¤ºä¾‹ï¼š [0.00452578 0.99547422] 12345y_pred_proba_0 = y_pred_proba[:, 0] &gt; 0.1result = y_pred_proba[y_pred_proba_0]y_pred_proba_1 = result[:, 1] &gt; 0.1print(result[y_pred_proba_1]) [[0.11338788 0.88661212] [0.18245824 0.81754176] [0.13110396 0.86889604] [0.35245276 0.64754724] [0.30664405 0.69335595] [0.24931118 0.75068882] [0.8350464 0.1649536 ] [0.44807883 0.55192117] [0.74071324 0.25928676] [0.43085792 0.56914208] [0.13388416 0.86611584] [0.33507985 0.66492015] [0.53672412 0.46327588] [0.11422612 0.88577388] [0.42946531 0.57053469] [0.69759146 0.30240854] [0.25982004 0.74017996] [0.12179042 0.87820958] [0.88546887 0.11453113]] æ¨¡å‹ä¼˜åŒ–12345678910#è¿™é‡Œä½¿ç”¨Pipelineæ¥å¢åŠ å¤šé¡¹å¼ç‰¹å¾from sklearn.linear_model import LogisticRegressionfrom sklearn.preprocessing import PolynomialFeaturesfrom sklearn.pipeline import Pipelinedef poly_model(degree=2, penalty=penalty): poly_features = PolynomialFeatures(degree=degree, include_bias=False) log_regr = LogisticRegression(penalty=penalty) # æ³¨æ„è¿™é‡Œæ˜¯L1è€Œä¸æ˜¯11ï¼ŒæŒ‡çš„æ˜¯ä½¿ç”¨L1èŒƒå¼ä½œä¸ºå…¶æ­£åˆ™é¡¹ pipeline = Pipeline([(&quot;poly_features&quot;,poly_features),(&quot;log_regr&quot;,log_regr)]) return pipeline 12345678910# æ¥ç€å¢åŠ äºŒé˜¶å¤šé¡¹å¼ç‰¹å¾ï¼Œåˆ›å»ºå¹¶è®­ç»ƒæ¨¡å‹import timemodel = poly_model(degree=2, penalty=&apos;l1&apos;)start = time.clock()model.fit(X_train, y_train)print(&quot;train_score:&quot;,model.score(X_train, y_train))print(&quot;test_score:&quot;,model.score(X_test, y_test)) train_score: 0.9934065934065934test_score: 0.9649122807017544 è¿™é‡Œè¦æ³¨æ„çš„æ˜¯ä½¿ç”¨L1èŒƒå¼ä½œä¸ºå…¶æ­£åˆ™é¡¹ï¼Œå‚æ•°ä¸ºpenalty=l1ã€‚L1èŒƒæ•°ä½œä¸ºå…¶æ­£åˆ™é¡¹ï¼Œå¯ä»¥å®ç°å‚æ•°çš„ç¨€ç–åŒ–ï¼Œå³è‡ªåŠ¨å¸®æˆ‘ä¹°é€‰æ‹©å‡ºå“ªäº›å¯¹æ¨¡å‹æœ‰å…³è”çš„ç‰¹å¾ã€‚æˆ‘ä¹°å¯ä»¥è§‚å¯Ÿä¸‹æœ‰å¤šå°‘ä¸ªç‰¹å¾æ²¡æœ‰è¢«ä¸¢å¼ƒå³å¯¹åº”çš„æ¨¡å‹å‚æ•°Î¸jé0ï¼š 123log_regr = model.named_steps[&apos;log_regr&apos;]print(&quot;ç‰¹å¾æ€»é‡ï¼š&quot;,log_regr.coef_.shape[1])print(&quot;ç‰¹å¾ä¿ç•™é‡ï¼š&quot;, np.count_nonzero(log_regr.coef_)) ç‰¹å¾æ€»é‡ï¼š 495ç‰¹å¾ä¿ç•™é‡ï¼š 114 é€»è¾‘å›å½’æ¨¡å‹çš„coef_å±æ€§é‡Œä¿å­˜çš„å°±æ˜¯æ¨¡å‹å‚æ•°ã€‚ ä»è¾“å‡ºç»“æœçœ‹ï¼Œå¢åŠ äºŒé˜¶å¤šé¡¹å¼ç‰¹å¾åï¼Œè¾“å…¥ç‰¹å¾ç”±åŸæ¥çš„30ä¸ªå¢åŠ åˆ°äº†595ä¸ªï¼Œåœ¨L1èŒƒæ•°çš„â€œæƒ©ç½šâ€ä¸‹æœ€ç»ˆåªä¿ç•™äº†92ä¸ªæœ‰æ•ˆç‰¹å¾ å®éªŒï¼šåˆ©ç”¨å†³ç­–æ ‘ç”»å‡ºåŸå§‹æ•°æ®å¯¹é¢„æµ‹ç›¸å…³æ€§é0å¯¹ç‰¹å¾12345678910from sklearn.tree import DecisionTreeRegressordtmodel = DecisionTreeRegressor(max_depth=5)dtmodel.fit(X_train, y_train)print(&quot;train_score&quot;, dtmodel.score(X_train, y_train))print(&quot;test_score&quot;, dtmodel.score(X_test, y_test))from pyecharts import Barindex = np.nonzero(dtmodel.feature_importances_)bar = Bar()bar.add(&quot;&quot;, cancer.feature_names[index],dtmodel.feature_importances_[index])bar train_score 0.9910875596851206test_score 0.6296416546416548 è¯„ä¼°æ¨¡å‹ï¼šç”»å‡ºå­¦ä¹ æ›²çº¿é¦–å…ˆç”»å‡ºL1èŒƒæ•°ä½œä¸ºæ­£åˆ™é¡¹æ‰€å¯¹åº”çš„ä¸€é˜¶å’ŒäºŒé˜¶å¤šé¡¹å¼çš„å­¦ä¹ æ›²çº¿ï¼š123456789101112131415161718192021222324%matplotlib inlinefrom matplotlib import pyplot as pltfrom sklearn.model_selection import learning_curvefrom sklearn.model_selection import ShuffleSplitdef plot_learn_curve(estimator, title, X, y, ylim = None, cv=None, n_jobs=1, train_sizes=np.linspace(.1, 1., 5)): plt.title(title) if ylim is not None: plt.ylim(*ylim) plt.xlabel(&quot;train exs&quot;) plt.ylabel(&quot;Score&quot;) train_sizes, train_scores, test_scores = learning_curve(estimator, X, y, cv=cv, n_jobs=n_jobs, train_sizes=train_sizes) train_score_mean = np.mean(train_scores, axis=1) train_score_std = np.std(train_scores, axis=1) test_score_mean = np.mean(test_scores, axis=1) test_score_std = np.std(test_scores, axis=1) plt.grid() plt.fill_between(train_sizes, train_score_mean - train_score_std, train_score_mean + train_score_std, alpha=0.1, color=&apos;r&apos;) plt.fill_between(train_sizes, test_score_mean - test_score_std, test_score_mean + test_score_std, alpha=0.1, color=&apos;g&apos;) plt.plot(train_sizes, train_score_mean, &apos;o-&apos;, color=&apos;r&apos;, label=&apos;train scoreè®­ç»ƒå¾—åˆ†&apos;) plt.plot(train_sizes, test_score_mean, &apos;o-&apos;, color=&apos;g&apos;, label=&apos;cross-validation scoreäº¤å‰éªŒè¯å¾—åˆ†&apos;) plt.legend(loc=&apos;best&apos;) return plt 1234567891011121314cv = ShuffleSplit(n_splits=10, test_size=0.2, random_state=0)titles = [&quot;degree:1 penalty=L1&quot;,&quot;degree:2 penalty=L1&quot;]degrees = [1,2]penalty = &apos;l1&apos;start = time.clock()plt.figure(figsize=(12,4), dpi=120)for i in range(len(degrees)): plt.subplot(1, len(degrees), i + 1) plot_learn_curve(poly_model(degree=degrees[i], penalty=penalty), titles[i], X, y, ylim = (0.8, 1.01), cv = cv)print(&apos;è€—æ—¶ï¼š&apos;, time.clock() - start)plt.show() L2èŒƒæ•°ä½œä¸ºæ­£åˆ™é¡¹ç”»å‡ºå¯¹åº”ä¸€é˜¶å’ŒäºŒé˜¶å¤šé¡¹å¼å­¦ä¹ æ›²çº¿123456789101112131415import timecv = ShuffleSplit(n_splits=10, test_size=0.2, random_state=0)titles = [&quot;degree:1 penalty=L2&quot;,&quot;degree:2 penalty=L2&quot;]degrees = [1,2]penalty = &apos;l2&apos;start = time.clock()plt.figure(figsize=(12,4), dpi=120)for i in range(len(degrees)): plt.subplot(1, len(degrees), i + 1) plot_learn_curve(poly_model(degree=degrees[i],penalty=penalty), titles[i], X, y, ylim = (0.8, 1.01), cv = cv)print(&apos;è€—æ—¶ï¼š&apos;, time.clock() - start)plt.show() ä»ä¸Šé¢ä¸¤ä¸ªå›¾å¯ä»¥çœ‹å‡ºï¼Œä½¿ç”¨äºŒé˜¶å¤šé¡¹å¼å¹¶ä½¿ç”¨L1èŒƒæ•°ä½œä¸ºæ­£åˆ™é¡¹çš„æ¨¡å‹æœ€ä¼˜ï¼Œè®­ç»ƒæ ·æœ¬è¯„åˆ†æœ€é«˜ï¼Œäº¤å‰éªŒè¯æ ·æœ¬è¯„åˆ†æœ€é«˜ã€‚è®­ç»ƒæ ·æœ¬è¯„åˆ†å’Œäº¤å‰éªŒè¯æ ·æœ¬è¯„åˆ†ä¹‹é—´çš„é—´éš™è¿˜æ¯”è¾ƒå¤§ï¼Œè¿™è¯´æ˜å¯ä»¥é€šè¿‡é‡‡é›†æ›´å¤šæ•°æ®æ¥è®­ç»ƒæ¨¡å‹ï¼Œä»¥ä¾¿è¿›ä¸€æ­¥ä¼˜åŒ–æ¨¡å‹. é€šè¿‡æ—¶é—´æ¶ˆè€—å¯¹æ¯”ä¸Šå¯ä»¥çœ‹å‡ºåˆ©ç”¨L1èŒƒå¼ä½œä¸ºæ­£åˆ™é¡¹éœ€è¦èŠ±è´¹çš„æ—¶é—´æ›´å¤šï¼Œæ˜¯å› ä¸ºsklearnçš„learning_curve()å‡½æ•°åœ¨ç”»å­¦ä¹ æ›²çº¿çš„è¿‡ç¨‹ä¸­è¦å¯¹æ¨¡å‹è¿›è¡Œå¤šæ¬¡è®­ç»ƒï¼Œå¹¶è®¡ç®—äº¤å‰éªŒè¯æ ·æœ¬è¯„åˆ†ã€‚åŒæ—¶ä¸ºäº†è®©æ›²çº¿æ›´å¹³æ»‘ï¼Œé’ˆå¯¹æ¯ä¸ªç‚¹è¿˜ä¼šè¿›è¡Œå¤šæ¬¡è®¡ç®—çƒå¹³å‡å€¼ã€‚è¿™ä¸ªå°±æ˜¯ShufferSplitç±»çš„ä½œç”¨ã€‚åœ¨è¿™ä¸ªå®ä¾‹é‡Œåªæœ‰569ä¸ªæ ·æœ¬æ˜¯å¾ˆå°çš„æ•°æ®é›†ã€‚å¦‚æœæ•°æ®é›†å¢åŠ 100å€ï¼Œæ‹¿å‡ºæ¥ç”»å­¦ä¹ æ›²çº¿å°†æ˜¯åœºç¾éš¾ã€‚ é—®é¢˜æ˜¯é’ˆå¯¹å¤§æ•°æ®é›†ï¼Œæ€ä¹ˆç”»å­¦ä¹ æ›²çº¿ï¼Ÿ æ€è·¯ä¸€ï¼šå¯ä»¥è€ƒè™‘ä»å¤§æ•°æ®é›†é€‰å–ä¸€å°éƒ¨åˆ†æ•°æ®æ¥ç”»å­¦ä¹ æ›²çº¿ï¼Œå¾…é€‰æ‹©å¥½æœ€ä¼˜çš„æ¨¡å‹ä¹‹åï¼Œåœ¨ä½¿ç”¨å…¨éƒ¨çš„æ•°æ®æ¥è®­ç»ƒæ¨¡å‹ã€‚è¿™æ—¶éœ€è¦è­¦æƒ•çš„æ˜¯ï¼Œå°½é‡ä¿è¯é€‰æ‹©å‡ºæ¥çš„è¿™éƒ¨åˆ†æ•°æ®çš„æ ‡ç­¾åˆ†å¸ƒä¸å¤§æ•°æ®é›†çš„æ ‡ç­¾åˆ†å¸ƒç›¸åŒï¼Œå¦‚é’ˆå¯¹äºŒå…ƒåˆ†ç±»ï¼Œé˜³æ€§å’Œé˜´æ€§æ¯”ä¾‹è¦ä¸€è‡´ï¼ æ€»ç»“1.LRä¸­æŸå¤±å‡½æ•°çš„æ„ä¹‰æ˜¯ä»€ä¹ˆï¼Ÿåœ¨LRä¸­ï¼Œæœ€å¤§ä¼¼ç„¶å‡½æ•°ä¸æœ€å°åŒ–å¯¹æ•°æŸå¤±å‡½æ•°ç­‰ä»· 2. LRä¸çº¿æ€§å›å½’çš„è”ç³»å’ŒåŒºåˆ«é€»è¾‘å›å½’å’Œçº¿æ€§å›å½’é¦–å…ˆéƒ½å¯çœ‹åšå¹¿ä¹‰çš„çº¿æ€§å›å½’ï¼Œå…¶æ¬¡ç»å…¸çº¿æ€§æ¨¡å‹çš„ä¼˜åŒ–ç›®æ ‡å‡½æ•°æ˜¯æœ€å°äºŒä¹˜ï¼Œè€Œé€»è¾‘å›å½’åˆ™æ˜¯ä¼¼ç„¶å‡½æ•°ï¼Œå¦å¤–çº¿æ€§å›å½’åœ¨æ•´ä¸ªå®æ•°åŸŸèŒƒå›´å†…è¿›è¡Œé¢„æµ‹ï¼Œæ•æ„Ÿåº¦ä¸€è‡´ï¼Œè€Œåˆ†ç±»èŒƒå›´ï¼Œéœ€è¦åœ¨[0,1]ã€‚é€»è¾‘å›å½’å°±æ˜¯ä¸€ç§å‡å°é¢„æµ‹èŒƒå›´ï¼Œå°†é¢„æµ‹å€¼é™å®šä¸º[0,1]é—´çš„ä¸€ç§å›å½’æ¨¡å‹ï¼Œå› è€Œå¯¹äºè¿™ç±»é—®é¢˜æ¥è¯´ï¼Œé€»è¾‘å›å½’çš„é²æ£’æ€§æ¯”çº¿æ€§å›å½’çš„è¦å¥½ã€‚ 3.LRä¸æœ€å¤§ç†µæ¨¡å‹é€»è¾‘å›å½’è·Ÿæœ€å¤§ç†µæ¨¡å‹æ²¡æœ‰æœ¬è´¨åŒºåˆ«ã€‚é€»è¾‘å›å½’æ˜¯æœ€å¤§ç†µå¯¹åº”ç±»åˆ«ä¸ºäºŒç±»æ—¶çš„ç‰¹æ®Šæƒ…å†µï¼Œä¹Ÿå°±æ˜¯å½“é€»è¾‘å›å½’ç±»åˆ«æ‰©å±•åˆ°å¤šç±»åˆ«æ—¶ï¼Œå°±æ˜¯æœ€å¤§ç†µæ¨¡å‹ã€‚ æŒ‡æ•°ç°‡åˆ†å¸ƒçš„æœ€å¤§ç†µç­‰ä»·äºå…¶æŒ‡æ•°å½¢å¼çš„æœ€å¤§ä¼¼ç„¶ã€‚ äºŒé¡¹å¼åˆ†å¸ƒçš„æœ€å¤§ç†µè§£ç­‰ä»·äºäºŒé¡¹å¼æŒ‡æ•°å½¢å¼(sigmoid)çš„æœ€å¤§ä¼¼ç„¶ï¼› å¤šé¡¹å¼åˆ†å¸ƒçš„æœ€å¤§ç†µç­‰ä»·äºå¤šé¡¹å¼åˆ†å¸ƒæŒ‡æ•°å½¢å¼(softmax)çš„æœ€å¤§ä¼¼ç„¶ã€‚ 4.LRä¸svmä¸åŒç‚¹: æŸå¤±å‡½æ•°ä¸åŒï¼Œé€»è¾‘å›å½’æ˜¯cross entropy lossï¼Œsvmæ˜¯hinge loss é€»è¾‘å›å½’åœ¨ä¼˜åŒ–å‚æ•°æ—¶æ‰€æœ‰æ ·æœ¬ç‚¹éƒ½å‚ä¸äº†è´¡çŒ®ï¼Œsvmåˆ™åªå–ç¦»åˆ†ç¦»è¶…å¹³é¢æœ€è¿‘çš„æ”¯æŒå‘é‡æ ·æœ¬ã€‚è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆé€»è¾‘å›å½’ä¸ç”¨æ ¸å‡½æ•°ï¼Œå®ƒéœ€è¦è®¡ç®—çš„æ ·æœ¬å¤ªå¤šã€‚å¹¶ä¸”ç”±äºé€»è¾‘å›å½’å—æ‰€æœ‰æ ·æœ¬çš„å½±å“ï¼Œå½“æ ·æœ¬ä¸å‡è¡¡æ—¶éœ€è¦å¹³è¡¡ä¸€ä¸‹æ¯ä¸€ç±»çš„æ ·æœ¬ä¸ªæ•°ã€‚ é€»è¾‘å›å½’å¯¹æ¦‚ç‡å»ºæ¨¡ï¼Œsvmå¯¹åˆ†ç±»è¶…å¹³é¢å»ºæ¨¡ é€»è¾‘å›å½’æ˜¯å¤„ç†ç»éªŒé£é™©æœ€å°åŒ–ï¼Œsvmæ˜¯ç»“æ„é£é™©æœ€å°åŒ–ã€‚è¿™ç‚¹ä½“ç°åœ¨svmè‡ªå¸¦L2æ­£åˆ™åŒ–é¡¹ï¼Œé€»è¾‘å›å½’å¹¶æ²¡æœ‰ é€»è¾‘å›å½’é€šè¿‡éçº¿æ€§å˜æ¢å‡å¼±åˆ†ç¦»å¹³é¢è¾ƒè¿œçš„ç‚¹çš„å½±å“ï¼Œsvmåˆ™åªå–æ”¯æŒå‘é‡ä»è€Œæ¶ˆå»è¾ƒè¿œç‚¹çš„å½±å“ é€»è¾‘å›å½’æ˜¯ç»Ÿè®¡æ–¹æ³•ï¼Œsvmæ˜¯å‡ ä½•æ–¹æ³• 5.LRä¸æœ´ç´ è´å¶æ–¯ ç›¸åŒç‚¹æ˜¯ï¼Œå®ƒä»¬éƒ½èƒ½è§£å†³åˆ†ç±»é—®é¢˜å’Œéƒ½æ˜¯ç›‘ç£å­¦ä¹ ç®—æ³•ã€‚æ­¤å¤–ï¼Œæœ‰æ„æ€çš„æ˜¯ï¼Œå½“å‡è®¾æœ´ç´ è´å¶æ–¯çš„æ¡ä»¶æ¦‚ç‡P(X|Y=ck)æœä»é«˜æ–¯åˆ†å¸ƒæ—¶Gaussian Naive Bayesï¼Œå®ƒè®¡ç®—å‡ºæ¥çš„P(Y=1|X)å½¢å¼è·Ÿé€»è¾‘å›å½’æ˜¯ä¸€æ ·çš„ã€‚ ä¸åŒçš„åœ°æ–¹åœ¨äºï¼Œé€»è¾‘å›å½’ä¸ºåˆ¤åˆ«æ¨¡å‹æ±‚çš„æ˜¯p(y|x)ï¼Œæœ´ç´ è´å¶æ–¯ä¸ºç”Ÿæˆæ¨¡å‹æ±‚çš„æ˜¯p(x,y)ã€‚å‰è€…éœ€è¦è¿­ä»£ä¼˜åŒ–ï¼Œåè€…ä¸éœ€è¦ã€‚åœ¨æ•°æ®é‡å°‘çš„æƒ…å†µä¸‹åè€…æ¯”å‰è€…å¥½ï¼Œæ•°æ®é‡è¶³å¤Ÿçš„æƒ…å†µä¸‹å‰è€…æ¯”åè€…å¥½ã€‚ç”±äºæœ´ç´ è´å¶æ–¯å‡è®¾äº†æ¡ä»¶æ¦‚ç‡P(X|Y=ck)æ˜¯æ¡ä»¶ç‹¬ç«‹çš„ï¼Œä¹Ÿå°±æ˜¯æ¯ä¸ªç‰¹å¾æƒé‡æ˜¯ç‹¬ç«‹çš„ï¼Œå¦‚æœæ•°æ®ä¸ç¬¦åˆè¿™ä¸ªæƒ…å†µï¼Œæœ´ç´ è´å¶æ–¯çš„åˆ†ç±»è¡¨ç°å°±æ²¡æœ‰é€»è¾‘å›å½’å¥½ã€‚ 6. å¤šåˆ†ç±»-softmaxå¦‚æœyä¸æ˜¯åœ¨[0,1]ä¸­å–å€¼ï¼Œè€Œæ˜¯åœ¨Kä¸ªç±»åˆ«ä¸­å–å€¼ï¼Œè¿™æ—¶é—®é¢˜å°±å˜ä¸ºä¸€ä¸ªå¤šåˆ†ç±»é—®é¢˜ã€‚æœ‰ä¸¤ç§æ–¹å¼å¯ä»¥å‡ºå¤„ç†è¯¥ç±»é—®é¢˜ï¼šä¸€ç§æ˜¯æˆ‘ä»¬å¯¹æ¯ä¸ªç±»åˆ«è®­ç»ƒä¸€ä¸ªäºŒå…ƒåˆ†ç±»å™¨ï¼ˆOne-vs-allï¼‰ï¼Œå½“Kä¸ªç±»åˆ«ä¸æ˜¯äº’æ–¥çš„æ—¶å€™ï¼Œæ¯”å¦‚ç”¨æˆ·ä¼šè´­ä¹°å“ªç§å“ç±»ï¼Œè¿™ç§æ–¹æ³•æ˜¯åˆé€‚çš„ã€‚å¦‚æœKä¸ªç±»åˆ«æ˜¯äº’æ–¥çš„ï¼Œå³y=içš„æ—¶å€™æ„å‘³ç€yä¸èƒ½å–å…¶ä»–çš„å€¼ï¼Œæ¯”å¦‚ç”¨æˆ·çš„å¹´é¾„æ®µï¼Œè¿™ç§æƒ…å†µä¸‹ Softmax å›å½’æ›´åˆé€‚ä¸€äº›ã€‚Softmax å›å½’æ˜¯ç›´æ¥å¯¹é€»è¾‘å›å½’åœ¨å¤šåˆ†ç±»çš„æ¨å¹¿ï¼Œç›¸åº”çš„æ¨¡å‹ä¹Ÿå¯ä»¥å«åšå¤šå…ƒé€»è¾‘å›å½’ï¼ˆMultinomial Logistic Regressionï¼‰ã€‚ 7.LRæ¨¡å‹åœ¨å·¥ä¸šç•Œçš„åº”ç”¨å¸¸è§åº”ç”¨åœºæ™¯ é¢„ä¼°é—®é¢˜åœºæ™¯ï¼ˆå¦‚æ¨èã€å¹¿å‘Šç³»ç»Ÿä¸­çš„ç‚¹å‡»ç‡é¢„ä¼°ï¼Œè½¬åŒ–ç‡é¢„ä¼°ç­‰ï¼‰ åˆ†ç±»åœºæ™¯ï¼ˆå¦‚ç”¨æˆ·ç”»åƒä¸­çš„æ ‡ç­¾é¢„æµ‹ï¼Œåˆ¤æ–­å†…å®¹æ˜¯å¦å…·æœ‰å•†ä¸šä»·å€¼ï¼Œåˆ¤æ–­ç‚¹å‡»ä½œå¼Šç­‰ï¼‰ LRé€‚ç”¨ä¸Šè¿°åœºæ™¯çš„åŸå›  LRæ¨¡å‹è‡ªèº«çš„ç‰¹ç‚¹å…·å¤‡äº†åº”ç”¨å¹¿æ³›æ€§ æ¨¡å‹æ˜“ç”¨ï¼šLRæ¨¡å‹å»ºæ¨¡æ€è·¯æ¸…æ™°ï¼Œå®¹æ˜“ç†è§£ä¸æŒæ¡ï¼› æ¦‚ç‡ç»“æœï¼šè¾“å‡ºç»“æœå¯ä»¥ç”¨æ¦‚ç‡è§£é‡Šï¼ˆäºŒé¡¹åˆ†å¸ƒï¼‰ï¼Œå¤©ç„¶çš„å¯ç”¨äºç»“æœé¢„ä¼°é—®é¢˜ä¸Šï¼› å¼ºè§£é‡Šæ€§ï¼šç‰¹å¾ï¼ˆå‘é‡ï¼‰å’Œæ ‡ç­¾ä¹‹é—´é€šè¿‡çº¿æ€§ç´¯åŠ ä¸Sigmoidå‡½æ•°å»ºç«‹å…³è”ï¼Œå‚æ•°çš„å–å€¼ç›´æ¥ååº”ç‰¹å¾çš„å¼ºå¼±ï¼Œå…·æœ‰å¼ºè§£é‡Šæ€§ï¼› ç®€å•æ˜“ç”¨ï¼šæœ‰å¤§é‡çš„æœºå™¨å­¦ä¹ å¼€æºå·¥å…·åŒ…å«LRæ¨¡å‹ï¼Œå¦‚sklearnã€spark-mllibç­‰ï¼Œä½¿ç”¨èµ·æ¥æ¯”è¾ƒæ–¹ä¾¿ï¼Œèƒ½å¿«é€Ÿçš„æ­å»ºèµ·ä¸€ä¸ªlearning task pipelineï¼› å‚è€ƒæ–‡çŒ®ï¼šhttps://blog.csdn.net/joycewyj/article/details/51596797]]></content>
      <categories>
        <category>æœºå™¨å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>æœºå™¨å­¦ä¹ </tag>
        <tag>é€»è¾‘å›å½’</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[MatplotlibåŸºæœ¬æ“ä½œ]]></title>
    <url>%2F2018%2F06%2F03%2FMatplotlib%20%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C%2F</url>
    <content type="text"><![CDATA[ä¸€å¼ å›¾èƒœè¿‡ä¸€åƒå¥è¯ åŸºç¡€æ“ä½œ1ã€è®¾ç½®åæ ‡è½´12345678910111213141516171819202122232425262728293031import matplotlib.pyplot as pltimport numpy as npx = np.linspace(-3, 3, 50)y1 = 2*x + 1y2 = x**2#ä½¿ç”¨`plt.figure`å®šä¹‰ä¸€ä¸ªå›¾åƒçª—å£. ä½¿ç”¨`plt.plot`ç”»(`x` ,`y2`)æ›²çº¿. ä½¿ç”¨`plt.plot`ç”»(`x` ,`y1`)æ›²çº¿ï¼Œæ›²çº¿çš„é¢œè‰²å±æ€§(`color`)ä¸ºçº¢è‰²;æ›²çº¿çš„å®½åº¦(`linewidth`)ä¸º1.0ï¼›æ›²çº¿çš„ç±»å‹(`linestyle`)ä¸ºè™šçº¿ã€‚plt.figure()plt.plot(x, y2)plt.plot(x, y1, color=&apos;red&apos;, linewidth=1.0, linestyle=&apos;--&apos;)#ä½¿ç”¨`plt.xlim`è®¾ç½®xåæ ‡è½´èŒƒå›´ï¼š(-1, 2)ï¼› ä½¿ç”¨`plt.ylim`è®¾ç½®yåæ ‡è½´èŒƒå›´ï¼š(-2, 3)ï¼› ä½¿ç”¨`plt.xlabel`è®¾ç½®xåæ ‡è½´åç§°ï¼šâ€™I am xâ€™ï¼› ä½¿ç”¨`plt.ylabel`è®¾ç½®yåæ ‡è½´åç§°ï¼šâ€™I am yâ€™ï¼›plt.xlim((-1, 2))plt.ylim((-2, 3))plt.xlabel(&apos;I am x&apos;)plt.ylabel(&apos;I am y&apos;)#ä½¿ç”¨`np.linspace`å®šä¹‰èŒƒå›´ä»¥åŠä¸ªæ•°ï¼šèŒƒå›´æ˜¯(-1,2);ä¸ªæ•°æ˜¯5\. ä½¿ç”¨`print`æ‰“å°å‡ºæ–°å®šä¹‰çš„èŒƒå›´. ä½¿ç”¨`plt.xticks`è®¾ç½®xè½´åˆ»åº¦ï¼šèŒƒå›´æ˜¯(-1,2);ä¸ªæ•°æ˜¯5.new_ticks = np.linspace(-1, 2, 5)plt.xticks(new_ticks)#ä½¿ç”¨`plt.yticks`è®¾ç½®yè½´åˆ»åº¦ä»¥åŠåç§°ï¼šåˆ»åº¦ä¸º[-2, -1.8, -1, 1.22, 3]ï¼›å¯¹åº”åˆ»åº¦çš„åç§°ä¸º[â€˜really badâ€™,â€™badâ€™,â€™normalâ€™,â€™goodâ€™, â€˜really goodâ€™]. ä½¿ç”¨`plt.show`æ˜¾ç¤ºå›¾åƒ.plt.yticks([-2, -1.8, -1, 1.22, 3],[r&apos;$really\ bad$&apos;, r&apos;$bad$&apos;, r&apos;$normal$&apos;, r&apos;$good$&apos;, r&apos;$really\ good$&apos;])plt.show() 2ã€è°ƒæ•´åæ ‡è½´12345678910111213141516171819202122232425262728293031323334353637383940414243x = np.linspace(-3, 3, 50)y1 = 2*x + 1y2 = x**2plt.figure()plt.plot(x, y2)plt.plot(x, y1, color=&apos;red&apos;, linewidth=1.0, linestyle=&apos;--&apos;)plt.xlim((-1, 2))plt.ylim((-2, 3))new_ticks = np.linspace(-1, 2, 5)plt.xticks(new_ticks)plt.yticks([-2, -1.8, -1, 1.22, 3],[&apos;$really\ bad$&apos;, &apos;$bad$&apos;, &apos;$normal$&apos;, &apos;$good$&apos;, &apos;$really\ good$&apos;])ax = plt.gca()ax.spines[&apos;right&apos;].set_color(&apos;none&apos;)ax.spines[&apos;top&apos;].set_color(&apos;none&apos;)#ä½¿ç”¨`.xaxis.set_ticks_position`è®¾ç½®xåæ ‡åˆ»åº¦æ•°å­—æˆ–åç§°çš„ä½ç½®ï¼š`bottom`.ï¼ˆæ‰€æœ‰ä½ç½®ï¼š`top`ï¼Œ`bottom`ï¼Œ`both`ï¼Œ`default`ï¼Œ`none`ï¼‰ax.xaxis.set_ticks_position(&apos;bottom&apos;)#ä½¿ç”¨`.spines`è®¾ç½®è¾¹æ¡†ï¼šxè½´ï¼›ä½¿ç”¨`.set_position`è®¾ç½®è¾¹æ¡†ä½ç½®ï¼šy=0çš„ä½ç½®ï¼›ï¼ˆä½ç½®æ‰€æœ‰å±æ€§ï¼š`outward`ï¼Œ`axes`ï¼Œ`data`ï¼‰ax.spines[&apos;bottom&apos;].set_position((&apos;data&apos;, 0))#ä½¿ç”¨`.yaxis.set_ticks_position`è®¾ç½®yåæ ‡åˆ»åº¦æ•°å­—æˆ–åç§°çš„ä½ç½®ï¼š`left`.ï¼ˆæ‰€æœ‰ä½ç½®ï¼š`left`ï¼Œ`right`ï¼Œ`both`ï¼Œ`default`ï¼Œ`none`ï¼‰ax.yaxis.set_ticks_position(&apos;left&apos;)#ä½¿ç”¨`.spines`è®¾ç½®è¾¹æ¡†ï¼šyè½´ï¼›ä½¿ç”¨`.set_position`è®¾ç½®è¾¹æ¡†ä½ç½®ï¼šx=0çš„ä½ç½®ï¼›ï¼ˆä½ç½®æ‰€æœ‰å±æ€§ï¼š`outward`ï¼Œ`axes`ï¼Œ`data`ï¼‰ ä½¿ç”¨`plt.show`æ˜¾ç¤ºå›¾åƒã€‚ax.spines[&apos;left&apos;].set_position((&apos;data&apos;,0))# set line sylesl1, = plt.plot(x, y1, label=&apos;linear line&apos;)l2, = plt.plot(x, y2, color=&apos;red&apos;, linewidth=1.0, linestyle=&apos;--&apos;, label=&apos;square line&apos;)#å‚æ•° `loc=&apos;upper right&apos;` è¡¨ç¤ºå›¾ä¾‹å°†æ·»åŠ åœ¨å›¾ä¸­çš„å³ä¸Šè§’.plt.legend(loc=&apos;upper right&apos;)plt.show() 3ã€è¾…åŠ©çº¿å’Œæ ‡è¯†123456789101112131415161718192021222324252627282930313233import matplotlib.pyplot as pltimport numpy as npx = np.linspace(-3, 3, 50)y = 2*x + 1#æŒªåŠ¨åæ ‡ç³»ax = plt.gca()ax.spines[&apos;right&apos;].set_color(&apos;none&apos;)ax.spines[&apos;top&apos;].set_color(&apos;none&apos;)ax.spines[&apos;top&apos;].set_color(&apos;none&apos;)ax.xaxis.set_ticks_position(&apos;bottom&apos;)ax.spines[&apos;bottom&apos;].set_position((&apos;data&apos;, 0))ax.yaxis.set_ticks_position(&apos;left&apos;)ax.spines[&apos;left&apos;].set_position((&apos;data&apos;, 0))#è¾…åŠ©çº¿plt.figure(num=1, figsize=(8, 5),)plt.plot(x, y,)x0 = 1y0 = 2*x0 + 1plt.plot([x0, x0,], [0, y0,], &apos;k--&apos;, linewidth=2.5)# set dot stylesplt.scatter([x0, ], [y0, ], s=50, color=&apos;b&apos;)#æ ‡æ³¨ï¼Œå…¶ä¸­å‚æ•°xycoords=&apos;data&apos; æ˜¯è¯´åŸºäºæ•°æ®çš„å€¼æ¥é€‰ä½ç½®, xytext=(+30, -30) å’Œ textcoords=&apos;offset points&apos; å¯¹äºæ ‡æ³¨ä½ç½®çš„æè¿° å’Œ xy åå·®å€¼, arrowpropsæ˜¯å¯¹å›¾ä¸­ç®­å¤´ç±»å‹çš„ä¸€äº›è®¾ç½®.plt.annotate(r&apos;$2x+1=%s$&apos; % y0, xy=(x0, y0), xycoords=&apos;data&apos;, xytext=(+30, -30), textcoords=&apos;offset points&apos;, fontsize=16, arrowprops=dict(arrowstyle=&apos;-&gt;&apos;, connectionstyle=&quot;arc3,rad=.2&quot;))#æ³¨é‡Šplt.text(-3.7, 3, r&apos;$This\ is\ the\ some\ text. \mu\ \sigma_i\ \alpha_t$&apos;, fontdict=&#123;&apos;size&apos;: 16, &apos;color&apos;: &apos;r&apos;&#125;) 4ã€3Då›¾æ¡†1234567891011121314import numpy as npimport matplotlib.pyplot as pltfrom mpl_toolkits.mplot3d import Axes3Dfig = plt.figure()ax = Axes3D(fig)# X, Y valueX = np.arange(-4, 4, 0.25)Y = np.arange(-4, 4, 0.25)X, Y = np.meshgrid(X, Y) # x-y å¹³é¢çš„ç½‘æ ¼R = np.sqrt(X ** 2 + Y ** 2)# height valueZ = np.sin(R) ç»˜åˆ¶åŠ¨æ€å›¾ä½¿ç”¨matplotlibä¸ºJupyter / IPythonä¸­çš„åŠ¨ç”»å›¾åˆ›å»ºä¸€äº›é€‰é¡¹ï¼š åœ¨å¾ªç¯ä¸­ä½¿ç”¨displayä½¿ç”¨IPython.display.display(fig)åœ¨è¾“å‡ºä¸­æ˜¾ç¤ºå›¾å½¢ã€‚ ä½¿ç”¨ä¸€ä¸ªå¾ªç¯ï¼Œä½ éœ€è¦åœ¨æ˜¾ç¤ºä¸€ä¸ªæ–°æ•°å­—ä¹‹å‰æ¸…é™¤è¾“å‡ºã€‚ è¯·æ³¨æ„ï¼Œè¿™ç§æŠ€æœ¯é€šå¸¸ä¸ä¼šé‚£ä¹ˆæµç•…ã€‚ å› æ­¤æˆ‘ä¼šå»ºè®®ä½¿ç”¨ä¸‹é¢çš„ä»»ä½•ä¸€ä¸ªã€‚ %matplotlib notebookä½¿ç”¨IPython magic %matplotlib notebookå°†åç«¯è®¾ç½®ä¸ºç¬”è®°æœ¬åç«¯ã€‚ è¿™æ ·å¯ä»¥ä¿æŒå›¾å½¢ä¸ä¼šæ˜¾ç¤ºé™æ€PNGæ–‡ä»¶ï¼Œå› æ­¤ä¹Ÿå¯ä»¥æ˜¾ç¤ºåŠ¨ç”»ã€‚ %matplotlib tkä½¿ç”¨IPython magic %matplotlib tkå°†åç«¯è®¾ç½®ä¸ºtkåç«¯ã€‚ è¿™å°†åœ¨ä¸€ä¸ªæ–°çš„ç»˜å›¾çª—å£ä¸­æ‰“å¼€è¿™ä¸ªå›¾å½¢ï¼Œè¿™æ˜¯ä¸€ä¸ªäº’åŠ¨çš„ï¼Œå› æ­¤ä¹Ÿå¯ä»¥æ˜¾ç¤ºåŠ¨ç”»ã€‚ å°†åŠ¨ç”»è½¬æ¢ä¸ºmp4è§†é¢‘ ï¼ˆå·²æä¾›@Perfié€‰é¡¹ï¼‰ï¼š 12from IPython.display import HTMLHTML(ani.to_html5_video()) æˆ–è€…åœ¨ç¬”è®°æœ¬çš„å¼€å¤´ä½¿ç”¨plt.rcParams[&quot;animation.html&quot;] = &quot;html5&quot; ã€‚ è¿™éœ€è¦å°†ffmpegè§†é¢‘ç¼–è§£ç å™¨è½¬æ¢ä¸ºHTML5è§†é¢‘ã€‚ è§†é¢‘ç„¶åæ˜¾ç¤ºåœ¨å†…ã€‚ å› æ­¤ï¼Œè¿™ä¸%matplotlib inlineåç«¯å…¼å®¹ã€‚ å®Œæ•´çš„ä¾‹å­ï¼š å°†åŠ¨ç”»è½¬æ¢ä¸ºJavaScript ï¼š 12from IPython.display import HTMLHTML(ani.to_jshtml()) æˆ–è€…åœ¨ç¬”è®°æœ¬çš„å¼€å¤´ä½¿ç”¨plt.rcParams[&quot;animation.html&quot;] = &quot;jshtml&quot; ã€‚ è¿™å°†ä½¿ç”¨JavaScriptå°†åŠ¨ç”»æ˜¾ç¤ºä¸ºHTMLã€‚ è¿™ä¸å¤§å¤šæ•°æ–°æµè§ˆå™¨ä»¥åŠ%matplotlib inlineåç«¯éƒ½éå¸¸å…¼å®¹ã€‚ å®ƒåœ¨matplotlib 2.1æˆ–æ›´é«˜ç‰ˆæœ¬ä¸­å¯ç”¨ã€‚ 1ã€sinåŠ¨æ€ç‚¹æ›²çº¿12345678910111213141516171819202122232425262728293031323334%matplotlib notebookimport numpy as np import matplotlib.pyplot as pltfrom matplotlib import animation&quot;&quot;&quot;animation example 2author: Kiterun&quot;&quot;&quot;fig, ax = plt.subplots()x = np.linspace(0, 2*np.pi, 200)y = np.sin(x)l = ax.plot(x, y)dot, = ax.plot([], [], &apos;ro&apos;)def init(): ax.set_xlim(0, 2*np.pi) ax.set_ylim(-1, 1) return ldef gen_dot(): for i in np.linspace(0, 2*np.pi, 200): newdot = [i, np.sin(i)] yield newdotdef update_dot(newd): dot.set_data(newd[0], newd[1]) return dot,ani = animation.FuncAnimation(fig, update_dot, frames = gen_dot, interval = 100, init_func=init)ani.save(&apos;sin_dot.gif&apos;, writer=&apos;imagemagick&apos;, fps=30)plt.show() 2ã€åŠ¨æ€é›¨ç‚¹1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859%matplotlib notebookimport numpy as npimport matplotlib.pyplot as pltfrom matplotlib import animation# New figure with white backgroundfig = plt.figure(figsize=(6,6), facecolor=&apos;white&apos;)# New axis over the whole figure, no frame and a 1:1 aspect ratioax = fig.add_axes([0, 0, 1, 1], frameon=False, aspect=1)# Number of ringn = 50size_min = 50size_max = 50 ** 2# Ring positionpos = np.random.uniform(0, 1, (n,2))# Ring colorscolor = np.ones((n,4)) * (0,0,0,1)# Alpha color channel geos from 0(transparent) to 1(opaque)color[:,3] = np.linspace(0, 1, n)# Ring sizessize = np.linspace(size_min, size_max, n)# Scatter plotscat = ax.scatter(pos[:,0], pos[:,1], s=size, lw=0.5, edgecolors=color, facecolors=&apos;None&apos;)# Ensure limits are [0,1] and remove ticksax.set_xlim(0, 1), ax.set_xticks([])ax.set_ylim(0, 1), ax.set_yticks([])def update(frame): global pos, color, size # Every ring is made more transparnt color[:, 3] = np.maximum(0, color[:,3]-1.0/n) # Each ring is made larger size += (size_max - size_min) / n # Reset specific ring i = frame % 50 pos[i] = np.random.uniform(0, 1, 2) size[i] = size_min color[i, 3] = 1 # Update scatter object scat.set_edgecolors(color) scat.set_sizes(size) scat.set_offsets(pos) # Return the modified object return scat,anim = animation.FuncAnimation(fig, update, interval=10, blit=True, frames=200)plt.show() 3ã€é˜»å°¼æ‘†123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657# -*- coding: utf-8 -*-from math import sin, cosimport numpy as npfrom scipy.integrate import odeintimport matplotlib.pyplot as pltimport matplotlib.animation as animation%matplotlib notebookg = 9.8leng = 1.0b_const = 0.2# no decay case:def pendulum_equations1(w, t, l): th, v = w dth = v dv = - g/l * sin(th) return dth, dv# the decay exist case:def pendulum_equations2(w, t, l, b): th, v = w dth = v dv = -b/l * v - g/l * sin(th) return dth, dvt = np.arange(0, 20, 0.1)track = odeint(pendulum_equations1, (1.0, 0), t, args=(leng,))#track = odeint(pendulum_equations2, (1.0, 0), t, args=(leng, b_const))xdata = [leng*sin(track[i, 0]) for i in range(len(track))]ydata = [-leng*cos(track[i, 0]) for i in range(len(track))]fig, ax = plt.subplots()ax.grid()line, = ax.plot([], [], &apos;o-&apos;, lw=2)time_template = &apos;time = %.1fs&apos;time_text = ax.text(0.05, 0.9, &apos;&apos;, transform=ax.transAxes)def init(): ax.set_xlim(-2, 2) ax.set_ylim(-2, 2) time_text.set_text(&apos;&apos;) return line, time_textdef update(i): newx = [0, xdata[i]] newy = [0, ydata[i]] line.set_data(newx, newy) time_text.set_text(time_template %(0.1*i)) return line, time_textani = animation.FuncAnimation(fig, update, range(1, len(xdata)), init_func=init, interval=50)#ani.save(&apos;single_pendulum_decay.gif&apos;, writer=&apos;imagemagick&apos;, fps=100)ani.save(&apos;single_pendulum_nodecay.gif&apos;, writer=&apos;imagemagick&apos;, fps=100)plt.show() 4ã€å†…åˆ‡æ»šåŠ¨çƒ123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657# -*- coding: utf-8 -*-from math import sin, cosimport numpy as npfrom scipy.integrate import odeintimport matplotlib.pyplot as pltimport matplotlib.animation as animation%matplotlib notebookg = 9.8leng = 1.0b_const = 0.2# no decay case:def pendulum_equations1(w, t, l): th, v = w dth = v dv = - g/l * sin(th) return dth, dv# the decay exist case:def pendulum_equations2(w, t, l, b): th, v = w dth = v dv = -b/l * v - g/l * sin(th) return dth, dvt = np.arange(0, 20, 0.1)track = odeint(pendulum_equations1, (1.0, 0), t, args=(leng,))#track = odeint(pendulum_equations2, (1.0, 0), t, args=(leng, b_const))xdata = [leng*sin(track[i, 0]) for i in range(len(track))]ydata = [-leng*cos(track[i, 0]) for i in range(len(track))]fig, ax = plt.subplots()ax.grid()line, = ax.plot([], [], &apos;o-&apos;, lw=2)time_template = &apos;time = %.1fs&apos;time_text = ax.text(0.05, 0.9, &apos;&apos;, transform=ax.transAxes)def init(): ax.set_xlim(-2, 2) ax.set_ylim(-2, 2) time_text.set_text(&apos;&apos;) return line, time_textdef update(i): newx = [0, xdata[i]] newy = [0, ydata[i]] line.set_data(newx, newy) time_text.set_text(time_template %(0.1*i)) return line, time_textani = animation.FuncAnimation(fig, update, range(1, len(xdata)), init_func=init, interval=50)#ani.save(&apos;single_pendulum_decay.gif&apos;, writer=&apos;imagemagick&apos;, fps=100)ani.save(&apos;single_pendulum_nodecay.gif&apos;, writer=&apos;imagemagick&apos;, fps=100)plt.show() 5ã€åˆ†ç±»è¶…å¹³é¢å¯è§†åŒ–123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110# ç®—æ³•å¯è§†åŒ–# -*- coding:utf-8 -*-%matplotlib notebookimport copyfrom matplotlib import pyplot as pltfrom matplotlib import animation training_set = [[(3, 3), 1], [(4, 3), 1], [(1, 1), -1]]w = [0, 0]b = 0history = [] def update(item): &quot;&quot;&quot; update parameters using stochastic gradient descent :param item: an item which is classified into wrong class :return: nothing &quot;&quot;&quot; global w, b, history w[0] += 1 * item[1] * item[0][0] w[1] += 1 * item[1] * item[0][1] b += 1 * item[1] print(w, b) history.append([copy.copy(w), b]) # you can uncomment this line to check the process of stochastic gradient descent def cal(item): &quot;&quot;&quot; calculate the functional distance between &apos;item&apos; an the dicision surface. output yi(w*xi+b). :param item: :return: &quot;&quot;&quot; res = 0 for i in range(len(item[0])): res += item[0][i] * w[i] res += b res *= item[1] return res def check(): &quot;&quot;&quot; check if the hyperplane can classify the examples correctly :return: true if it can &quot;&quot;&quot; flag = False for item in training_set: if cal(item) &lt;= 0: flag = True update(item) # draw a graph to show the process if not flag: print (&quot;RESULT: w: &quot; + str(w) + &quot; b: &quot; + str(b)) return flag if __name__ == &quot;__main__&quot;: for i in range(1000): if not check(): break # first set up the figure, the axis, and the plot element we want to animate fig = plt.figure() ax = plt.axes(xlim=(0, 2), ylim=(-2, 2)) line, = ax.plot([], [], &apos;g&apos;, lw=2) label = ax.text([], [], &apos;&apos;) # initialization function: plot the background of each frame def init(): line.set_data([], []) x, y, x_, y_ = [], [], [], [] for p in training_set: if p[1] &gt; 0: x.append(p[0][0]) y.append(p[0][1]) else: x_.append(p[0][0]) y_.append(p[0][1]) plt.plot(x, y, &apos;bo&apos;, x_, y_, &apos;rx&apos;) plt.axis([-6, 6, -6, 6]) plt.grid(True) plt.xlabel(&apos;x&apos;) plt.ylabel(&apos;y&apos;) plt.title(&apos;Perceptron Algorithm&apos;) return line, label # animation function. this is called sequentially def animate(i): global history, ax, line, label w = history[i][0] b = history[i][1] if w[1] == 0: return line, label x1 = -7 y1 = -(b + w[0] * x1) / w[1] x2 = 7 y2 = -(b + w[0] * x2) / w[1] line.set_data([x1, x2], [y1, y2]) x1 = 0 y1 = -(b + w[0] * x1) / w[1] label.set_text(history[i]) label.set_position([x1, y1]) return line, label # call the animator. blit=true means only re-draw the parts that have changed. print (history) anim = animation.FuncAnimation(fig, animate, init_func=init, frames=len(history), interval=1000, repeat=True, blit=True) plt.show() anim.save(&apos;perceptron.gif&apos;, fps=2, writer=&apos;imagemagick&apos;) pythonå…¶ä»–å¯è§†åŒ–æ¨¡å— Traits-ä¸ºPythonæ·»åŠ ç±»å‹å®šä¹‰ TraitsUI-åˆ¶ä½œç”¨æˆ·ç•Œé¢ Chaco-äº¤äº’å¼å›¾è¡¨ TVTK-ä¸‰ç»´å¯è§†åŒ–æ•°æ® Visual-åˆ¶ä½œ3Dæ¼”ç¤ºåŠ¨ç”» Mayavi-æ›´æ–¹ä¾¿çš„å¯è§†åŒ–]]></content>
      <categories>
        <category>å¯è§†åŒ–</category>
      </categories>
      <tags>
        <tag>å¯è§†åŒ–</tag>
        <tag>Matplotlib</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[markdownå…¬å¼ç¼–è¾‘]]></title>
    <url>%2F2018%2F06%2F03%2Fmarkdown%E5%85%AC%E5%BC%8F%E7%BC%96%E8%BE%91%2F</url>
    <content type="text"><![CDATA[åŠ è½½mathjax å¼•å…¥è„šæœ¬å¯¹ç½‘é¡µè¿›è¡Œæ¸²æŸ“1&lt;script type=&quot;text/javascript&quot; src=&quot;http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default&quot;&gt;&lt;/script&gt; åŸºç¡€çŸ¥è¯†æ’å…¥æ–¹å¼ è¿™é‡Œåˆ†ä¸¤ç§ï¼Œä¸€ç§æ˜¯è¡Œé—´æ’å…¥ï¼Œå¦ä¸€ç§æ˜¯å¦å–ä¸€è¡Œ è¡Œå†…æ’å…¥1\\(a+b\\) \(a+b\) å•ç‹¬ä¸€è¡Œ1$$a + b$$ a + båŸºæœ¬ç±»å‹ä¸Šã€ä¸‹æ ‡12345678910$$x_1$$$$x_1^2$$$$x^2_1$$$$x_&#123;22&#125;^&#123;(n)&#125;$$ #å¤šäºä¸€ä½æ˜¯è¦åŠ  `&#123;&#125;` åŒ…è£¹çš„ã€‚$$x_&#123;balabala&#125;^&#123;bala&#125;$$ x_1x_1^2x^2_1x_{22}^{(n)}x_{balabala}^{bala}åˆ†å¼123$$\frac&#123;x+y&#125;&#123;2&#125;$$$$\frac&#123;1&#125;&#123;1+\frac&#123;1&#125;&#123;2&#125;&#125;$$ \frac{x+y}{2}\frac{1}{1+\frac{1}{2}}æ ¹å¼12345$$\sqrt&#123;2&#125;&lt;\sqrt[3]&#123;3&#125;$$$$\sqrt&#123;1+\sqrt[p]&#123;1+a^2&#125;&#125;$$$$\sqrt&#123;1+\sqrt[^p\!]&#123;1+a^2&#125;&#125;$$ \sqrt{2}0 \end{cases}å¸¸ç”¨æ•°å­¦ç¬¦å·å¸Œè…Šå­—æ¯123456789101112131415161718192021222324252627$$\begin&#123;array&#125;&#123;|c|c|c|c|c|c|c|c|&#125;\hline&#123;\alpha&#125; &amp; &#123;\backslash alpha&#125; &amp; &#123;\theta&#125; &amp; &#123;\backslash theta&#125; &amp; &#123;o&#125; &amp; &#123;o&#125; &amp; &#123;\upsilon&#125; &amp; &#123;\backslash upsilon&#125; \\\\\hline&#123;\beta&#125; &amp; &#123;\backslash beta&#125; &amp; &#123;\vartheta&#125; &amp; &#123;\backslash vartheta&#125; &amp; &#123;\pi&#125; &amp; &#123;\backslash pi&#125; &amp; &#123;\phi&#125; &amp; &#123;\backslash phi&#125; \\\\\hline&#123;\gamma&#125; &amp; &#123;\backslash gamma&#125; &amp; &#123;\iota&#125; &amp; &#123;\backslash iota&#125; &amp; &#123;\varpi&#125; &amp; &#123;\backslash varpi&#125; &amp; &#123;\varphi&#125; &amp; &#123;\backslash varphi&#125; \\\\\hline&#123;\delta&#125; &amp; &#123;\backslash delta&#125; &amp; &#123;\kappa&#125; &amp; &#123;\backslash kappa&#125; &amp; &#123;\rho&#125; &amp; &#123;\backslash rho&#125; &amp; &#123;\chi&#125; &amp; &#123;\backslash chi&#125; \\\\\hline&#123;\epsilon&#125; &amp; &#123;\backslash epsilon&#125; &amp; &#123;\lambda&#125; &amp; &#123;\backslash lambda&#125; &amp; &#123;\varrho&#125; &amp; &#123;\backslash varrho&#125; &amp; &#123;\psi&#125; &amp; &#123;\backslash psi&#125; \\\\\hline&#123;\varepsilon&#125; &amp; &#123;\backslash varepsilon&#125; &amp; &#123;\mu&#125; &amp; &#123;\backslash mu&#125; &amp; &#123;\sigma&#125; &amp; &#123;\backslash sigma&#125; &amp; &#123;\omega&#125; &amp; &#123;\backslash omega&#125; \\\\\hline&#123;\zeta&#125; &amp; &#123;\backslash zeta&#125; &amp; &#123;\nu&#125; &amp; &#123;\backslash nu&#125; &amp; &#123;\varsigma&#125; &amp; &#123;\backslash varsigma&#125; &amp; &#123;&#125; &amp; &#123;&#125; \\\\\hline&#123;\eta&#125; &amp; &#123;\backslash eta&#125; &amp; &#123;\xi&#125; &amp; &#123;\backslash xi&#125; &amp; &#123;\tau&#125; &amp; &#123;\backslash tau&#125; &amp; &#123;&#125; &amp; &#123;&#125; \\\\\hline&#123;\Gamma&#125; &amp; &#123;\backslash Gamma&#125; &amp; &#123;\Lambda&#125; &amp; &#123;\backslash Lambda&#125; &amp; &#123;\Sigma&#125; &amp; &#123;\backslash Sigma&#125; &amp; &#123;\Psi&#125; &amp; &#123;\backslash Psi&#125; \\\\\hline&#123;\Delta&#125; &amp; &#123;\backslash Delta&#125; &amp; &#123;\Xi&#125; &amp; &#123;\backslash Xi&#125; &amp; &#123;\Upsilon&#125; &amp; &#123;\backslash Upsilon&#125; &amp; &#123;\Omega&#125; &amp; &#123;\backslash Omega&#125; \\\\\hline&#123;\Omega&#125; &amp; &#123;\backslash Omega&#125; &amp; &#123;\Pi&#125; &amp; &#123;\backslash Pi&#125; &amp; &#123;\Phi&#125; &amp; &#123;\backslash Phi&#125; &amp; &#123;&#125; &amp; &#123;&#125; \\\\\hline\end&#123;array&#125;$$ \begin{array}{|c|c|c|c|c|c|c|c|} \hline {\alpha} & {\backslash alpha} & {\theta} & {\backslash theta} & {o} & {o} & {\upsilon} & {\backslash upsilon} \\\\ \hline {\beta} & {\backslash beta} & {\vartheta} & {\backslash vartheta} & {\pi} & {\backslash pi} & {\phi} & {\backslash phi} \\\\ \hline {\gamma} & {\backslash gamma} & {\iota} & {\backslash iota} & {\varpi} & {\backslash varpi} & {\varphi} & {\backslash varphi} \\\\ \hline {\delta} & {\backslash delta} & {\kappa} & {\backslash kappa} & {\rho} & {\backslash rho} & {\chi} & {\backslash chi} \\\\ \hline {\epsilon} & {\backslash epsilon} & {\lambda} & {\backslash lambda} & {\varrho} & {\backslash varrho} & {\psi} & {\backslash psi} \\\\ \hline {\varepsilon} & {\backslash varepsilon} & {\mu} & {\backslash mu} & {\sigma} & {\backslash sigma} & {\omega} & {\backslash omega} \\\\ \hline {\zeta} & {\backslash zeta} & {\nu} & {\backslash nu} & {\varsigma} & {\backslash varsigma} & {} & {} \\\\ \hline {\eta} & {\backslash eta} & {\xi} & {\backslash xi} & {\tau} & {\backslash tau} & {} & {} \\\\ \hline {\Gamma} & {\backslash Gamma} & {\Lambda} & {\backslash Lambda} & {\Sigma} & {\backslash Sigma} & {\Psi} & {\backslash Psi} \\\\ \hline {\Delta} & {\backslash Delta} & {\Xi} & {\backslash Xi} & {\Upsilon} & {\backslash Upsilon} & {\Omega} & {\backslash Omega} \\\\ \hline {\Omega} & {\backslash Omega} & {\Pi} & {\backslash Pi} & {\Phi} & {\backslash Phi} & {} & {} \\\\ \hline \end{array}å‚è€ƒèµ„æ–™ Markdownä¸­æ’å…¥æ•°å­¦å…¬å¼çš„æ–¹æ³• LATEXæ•°å­¦å…¬å¼åŸºæœ¬è¯­æ³• ä¸€ä»½å…¶å®å¾ˆçŸ­çš„ LaTeX å…¥é—¨æ–‡æ¡£]]></content>
      <categories>
        <category>å†™ä½œ</category>
      </categories>
      <tags>
        <tag>markdown</tag>
        <tag>LaTex</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[SVMå¯è§†åŒ–]]></title>
    <url>%2F2018%2F06%2F02%2Fsvm%E5%8F%AF%E8%A7%86%E5%8C%96%2F</url>
    <content type="text"><![CDATA[ä»ITæ—¶ä»£èµ°å‘DTæ—¶ä»£ 12345678910111213141516171819202122232425262728293031323334353637%matplotlib inlineimport matplotlib.pyplot as pltimport numpy as npclass1 = np.array([[1, 1], [1, 3], [2, 1], [1, 2], [2, 2]])class2 = np.array([[4, 4], [5, 5], [5, 4], [5, 3], [4, 5], [6, 4]])plt.figure(figsize=(6, 4), dpi=120)plt.title(&apos;Decision Boundary&apos;)plt.xlim(0, 8)plt.ylim(0, 6)ax = plt.gca() # gca ä»£è¡¨å½“å‰åæ ‡è½´ï¼Œå³ &apos;get current axis&apos;ax.spines[&apos;right&apos;].set_color(&apos;none&apos;) # éšè—åæ ‡è½´ax.spines[&apos;top&apos;].set_color(&apos;none&apos;)plt.scatter(class1[:, 0], class1[:, 1], marker=&apos;o&apos;)plt.scatter(class2[:, 0], class2[:, 1], marker=&apos;s&apos;)plt.plot([1, 5], [5, 1], &apos;-r&apos;)plt.arrow(4, 4, -1, -1, shape=&apos;full&apos;, color=&apos;r&apos;)plt.plot([3, 3], [0.5, 6], &apos;--b&apos;)plt.arrow(4, 4, -1, 0, shape=&apos;full&apos;, color=&apos;b&apos;, linestyle=&apos;--&apos;)plt.annotate(r&apos;margin 1&apos;, xy=(3.5, 4), xycoords=&apos;data&apos;, xytext=(3.1, 4.5), fontsize=10, arrowprops=dict(arrowstyle=&quot;-&gt;&quot;, connectionstyle=&quot;arc3,rad=.2&quot;))plt.annotate(r&apos;margin 2&apos;, xy=(3.5, 3.5), xycoords=&apos;data&apos;, xytext=(4, 3.5), fontsize=10, arrowprops=dict(arrowstyle=&quot;-&gt;&quot;, connectionstyle=&quot;arc3,rad=.2&quot;))plt.annotate(r&apos;support vector&apos;, xy=(4, 4), xycoords=&apos;data&apos;, xytext=(5, 4.5), fontsize=10, arrowprops=dict(arrowstyle=&quot;-&gt;&quot;, connectionstyle=&quot;arc3,rad=.2&quot;))plt.annotate(r&apos;support vector&apos;, xy=(2, 2), xycoords=&apos;data&apos;, xytext=(0.5, 1.5), fontsize=10, arrowprops=dict(arrowstyle=&quot;-&gt;&quot;, connectionstyle=&quot;arc3,rad=.2&quot;)) 1234567891011121314151617181920212223242526272829303132333435plt.figure(figsize=(6, 4), dpi=120)plt.title(&apos;Support Vector Machine&apos;)plt.xlim(0, 8)plt.ylim(0, 6)ax = plt.gca() # gca ä»£è¡¨å½“å‰åæ ‡è½´ï¼Œå³ &apos;get current axis&apos;ax.spines[&apos;right&apos;].set_color(&apos;none&apos;) # éšè—åæ ‡è½´ax.spines[&apos;top&apos;].set_color(&apos;none&apos;)plt.scatter(class1[:, 0], class1[:, 1], marker=&apos;o&apos;)plt.scatter(class2[:, 0], class2[:, 1], marker=&apos;s&apos;)plt.plot([1, 5], [5, 1], &apos;-r&apos;)plt.plot([0, 4], [4, 0], &apos;--b&apos;, [2, 6], [6, 2], &apos;--b&apos;)plt.arrow(4, 4, -1, -1, shape=&apos;full&apos;, color=&apos;b&apos;)plt.annotate(r&apos;$w^T x + b = 0$&apos;, xy=(5, 1), xycoords=&apos;data&apos;, xytext=(6, 1), fontsize=10, arrowprops=dict(arrowstyle=&quot;-&gt;&quot;, connectionstyle=&quot;arc3,rad=.2&quot;))plt.annotate(r&apos;$w^T x + b = 1$&apos;, xy=(6, 2), xycoords=&apos;data&apos;, xytext=(7, 2), fontsize=10, arrowprops=dict(arrowstyle=&quot;-&gt;&quot;, connectionstyle=&quot;arc3,rad=.2&quot;))plt.annotate(r&apos;$w^T x + b = -1$&apos;, xy=(3.5, 0.5), xycoords=&apos;data&apos;, xytext=(4.5, 0.2), fontsize=10, arrowprops=dict(arrowstyle=&quot;-&gt;&quot;, connectionstyle=&quot;arc3,rad=.2&quot;))plt.annotate(r&apos;d&apos;, xy=(3.5, 3.5), xycoords=&apos;data&apos;, xytext=(2, 4.5), fontsize=10, arrowprops=dict(arrowstyle=&quot;-&gt;&quot;, connectionstyle=&quot;arc3,rad=.2&quot;))plt.annotate(r&apos;A&apos;, xy=(4, 4), xycoords=&apos;data&apos;, xytext=(5, 4.5), fontsize=10, arrowprops=dict(arrowstyle=&quot;-&gt;&quot;, connectionstyle=&quot;arc3,rad=.2&quot;)) 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657from sklearn.datasets import make_blobsplt.figure(figsize=(10, 4), dpi=140)# sub plot 1plt.subplot(1, 2, 1)X, y = make_blobs(n_samples=100, n_features=2, centers=[(1, 1), (2, 2)], random_state=4, shuffle=False, cluster_std=0.4)plt.title(&apos;Non-linear Separatable&apos;)plt.xlim(0, 3)plt.ylim(0, 3)ax = plt.gca() # gca ä»£è¡¨å½“å‰åæ ‡è½´ï¼Œå³ &apos;get current axis&apos;ax.spines[&apos;right&apos;].set_color(&apos;none&apos;) # éšè—åæ ‡è½´ax.spines[&apos;top&apos;].set_color(&apos;none&apos;)plt.scatter(X[y==0][:, 0], X[y==0][:, 1], marker=&apos;o&apos;)plt.scatter(X[y==1][:, 0], X[y==1][:, 1], marker=&apos;s&apos;)plt.plot([0.5, 2.5], [2.5, 0.5], &apos;-r&apos;)# sub plot 2plt.subplot(1, 2, 2)class1 = np.array([[1, 1], [1, 3], [2, 1], [1, 2], [2, 2], [1.5, 1.5], [1.2, 1.7]])class2 = np.array([[4, 4], [5, 5], [5, 4], [5, 3], [4, 5], [6, 4], [5.5, 3.5], [4.5, 4.5], [2, 1.5]])plt.title(&apos;Slack Variable&apos;)plt.xlim(0, 7)plt.ylim(0, 7)ax = plt.gca() # gca ä»£è¡¨å½“å‰åæ ‡è½´ï¼Œå³ &apos;get current axis&apos;ax.spines[&apos;right&apos;].set_color(&apos;none&apos;) # éšè—åæ ‡è½´ax.spines[&apos;top&apos;].set_color(&apos;none&apos;)plt.scatter(class1[:, 0], class1[:, 1], marker=&apos;o&apos;)plt.scatter(class2[:, 0], class2[:, 1], marker=&apos;s&apos;)plt.plot([1, 5], [5, 1], &apos;-r&apos;)plt.plot([0, 4], [4, 0], &apos;--b&apos;, [2, 6], [6, 2], &apos;--b&apos;)plt.arrow(2, 1.5, 2.25, 2.25, shape=&apos;full&apos;, color=&apos;b&apos;)plt.annotate(r&apos;violate margin rule.&apos;, xy=(2, 1.5), xycoords=&apos;data&apos;, xytext=(0.2, 0.5), fontsize=10, arrowprops=dict(arrowstyle=&quot;-&gt;&quot;, connectionstyle=&quot;arc3,rad=.2&quot;))plt.annotate(r&apos;normal sample. $\epsilon = 0$&apos;, xy=(4, 5), xycoords=&apos;data&apos;, xytext=(4.5, 5.5), fontsize=10, arrowprops=dict(arrowstyle=&quot;-&gt;&quot;, connectionstyle=&quot;arc3,rad=.2&quot;))plt.annotate(r&apos;$\epsilon &gt; 0$&apos;, xy=(3, 2.5), xycoords=&apos;data&apos;, xytext=(3, 1.5), fontsize=10, arrowprops=dict(arrowstyle=&quot;-&gt;&quot;, connectionstyle=&quot;arc3,rad=.2&quot;)) 12345678910111213141516171819202122plt.figure(figsize=(6, 4), dpi=120)plt.title(&apos;Cost&apos;)plt.xlim(0, 4)plt.ylim(0, 2)plt.xlabel(&apos;$y^&#123;(i)&#125; (w^T x^&#123;(i)&#125; + b)$&apos;)plt.ylabel(&apos;Cost&apos;)ax = plt.gca() # gca ä»£è¡¨å½“å‰åæ ‡è½´ï¼Œå³ &apos;get current axis&apos;ax.spines[&apos;right&apos;].set_color(&apos;none&apos;) # éšè—åæ ‡è½´ax.spines[&apos;top&apos;].set_color(&apos;none&apos;)plt.plot([0, 1], [1.5, 0], &apos;-r&apos;)plt.plot([1, 3], [0.015, 0.015], &apos;-r&apos;)plt.annotate(r&apos;$J_i = R \epsilon_i$ for $y^&#123;(i)&#125; (w^T x^&#123;(i)&#125; + b) \geq 1 - \epsilon_i$&apos;, xy=(0.7, 0.5), xycoords=&apos;data&apos;, xytext=(1, 1), fontsize=10, arrowprops=dict(arrowstyle=&quot;-&gt;&quot;, connectionstyle=&quot;arc3,rad=.2&quot;))plt.annotate(r&apos;$J_i = 0$ for $y^&#123;(i)&#125; (w^T x^&#123;(i)&#125; + b) \geq 1$&apos;, xy=(1.5, 0), xycoords=&apos;data&apos;, xytext=(1.8, 0.2), fontsize=10, arrowprops=dict(arrowstyle=&quot;-&gt;&quot;, connectionstyle=&quot;arc3,rad=.2&quot;)) 123456789101112131415161718192021222324252627282930313233343536373839plt.figure(figsize=(10, 4), dpi=144)class1 = np.array([[1, 1], [1, 2], [1, 3], [2, 1], [2, 2], [3, 2], [4, 1], [5, 1]])class2 = np.array([[2.2, 4], [1.5, 5], [1.8, 4.6], [2.4, 5], [3.2, 5], [3.7, 4], [4.5, 4.5], [5.4, 3]])# sub plot 1plt.subplot(1, 2, 1)plt.title(&apos;Non-linear Separatable in Low Dimension&apos;)plt.xlim(0, 6)plt.ylim(0, 6)plt.yticks(())plt.xlabel(&apos;X1&apos;)ax = plt.gca() # gca ä»£è¡¨å½“å‰åæ ‡è½´ï¼Œå³ &apos;get current axis&apos;ax.spines[&apos;right&apos;].set_color(&apos;none&apos;) # éšè—åæ ‡è½´ax.spines[&apos;top&apos;].set_color(&apos;none&apos;)ax.spines[&apos;left&apos;].set_color(&apos;none&apos;)plt.scatter(class1[:, 0], np.zeros(class1[:, 0].shape[0]) + 0.05, marker=&apos;o&apos;)plt.scatter(class2[:, 0], np.zeros(class2[:, 0].shape[0]) + 0.05, marker=&apos;s&apos;)# sub plot 2plt.subplot(1, 2, 2)plt.title(&apos;Linear Separatable in High Dimension&apos;)plt.xlim(0, 6)plt.ylim(0, 6)plt.xlabel(&apos;X1&apos;)plt.ylabel(&apos;X2&apos;)ax = plt.gca() # gca ä»£è¡¨å½“å‰åæ ‡è½´ï¼Œå³ &apos;get current axis&apos;ax.spines[&apos;right&apos;].set_color(&apos;none&apos;) # éšè—åæ ‡è½´ax.spines[&apos;top&apos;].set_color(&apos;none&apos;)plt.scatter(class1[:, 0], class1[:, 1], marker=&apos;o&apos;)plt.scatter(class2[:, 0], class2[:, 1], marker=&apos;s&apos;)plt.plot([1, 5], [3.8, 2], &apos;-r&apos;) 123456789101112131415161718192021222324252627282930313233def gaussian_kernel(x, mean, sigma): return np.exp(- (x - mean)**2 / (2 * sigma**2))x = np.linspace(0, 6, 500)mean = 1sigma1 = 0.1sigma2 = 0.3plt.figure(figsize=(10, 3), dpi=144)# sub plot 1plt.subplot(1, 2, 1)plt.title(&apos;Gaussian for $\sigma=&#123;0&#125;$&apos;.format(sigma1))plt.xlim(0, 2)plt.ylim(0, 1.1)ax = plt.gca() # gca ä»£è¡¨å½“å‰åæ ‡è½´ï¼Œå³ &apos;get current axis&apos;ax.spines[&apos;right&apos;].set_color(&apos;none&apos;) # éšè—åæ ‡è½´ax.spines[&apos;top&apos;].set_color(&apos;none&apos;)plt.plot(x, gaussian_kernel(x, mean, sigma1), &apos;r-&apos;)# sub plot 2plt.subplot(1, 2, 2)plt.title(&apos;Gaussian for $\sigma=&#123;0&#125;$&apos;.format(sigma2))plt.xlim(0, 2)plt.ylim(0, 1.1)ax = plt.gca() # gca ä»£è¡¨å½“å‰åæ ‡è½´ï¼Œå³ &apos;get current axis&apos;ax.spines[&apos;right&apos;].set_color(&apos;none&apos;) # éšè—åæ ‡è½´ax.spines[&apos;top&apos;].set_color(&apos;none&apos;)plt.plot(x, gaussian_kernel(x, mean, sigma2), &apos;r-&apos;)]]></content>
      <categories>
        <category>æœºå™¨å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>å¯è§†åŒ–</tag>
        <tag>SVM</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¦‚ä½•ç”¨å½¢è±¡çš„æ¯”å–»æè¿°å¤§æ•°æ®çš„æŠ€æœ¯ç”Ÿæ€ï¼ŸHadoopã€Hiveã€Spark ä¹‹é—´æ˜¯ä»€ä¹ˆå…³ç³»ï¼Ÿ]]></title>
    <url>%2F2018%2F06%2F01%2F%E5%A6%82%E4%BD%95%E7%94%A8%E5%BD%A2%E8%B1%A1%E7%9A%84%E6%AF%94%E5%96%BB%E6%8F%8F%E8%BF%B0%E5%A4%A7%E6%95%B0%E6%8D%AE%E7%9A%84%E6%8A%80%E6%9C%AF%E7%94%9F%E6%80%81%EF%BC%9FHadoop%E3%80%81Hive%E3%80%81Spark%20%E4%B9%8B%E9%97%B4%E6%98%AF%E4%BB%80%E4%B9%88%E5%85%B3%E7%B3%BB%EF%BC%9F%2F</url>
    <content type="text"><![CDATA[ä»ITæ—¶ä»£èµ°å‘DTæ—¶ä»£ å¦‚ä½•ç”¨å½¢è±¡çš„æ¯”å–»æè¿°å¤§æ•°æ®çš„æŠ€æœ¯ç”Ÿæ€ï¼ŸHadoopã€Hiveã€Spark ä¹‹é—´æ˜¯ä»€ä¹ˆå…³ç³»ï¼Ÿè¿™æ˜¯çŸ¥ä¹ä¸ŠæŸå¤§ç¥çš„è§£é‡Šï¼š å­¦ä¹ å¾ˆé‡è¦çš„æ˜¯èƒ½å°†çº·ç¹å¤æ‚çš„ä¿¡æ¯è¿›è¡Œå½’ç±»å’ŒæŠ½è±¡ã€‚å¯¹åº”åˆ°å¤§æ•°æ®æŠ€æœ¯ä½“ç³»ï¼Œè™½ç„¶å„ç§æŠ€æœ¯ç™¾èŠ±é½æ”¾ï¼Œå±‚å‡ºä¸ç©·ï¼Œä½†å¤§æ•°æ®æŠ€æœ¯æœ¬è´¨ä¸Šæ— éè§£å†³4ä¸ªæ ¸å¿ƒé—®é¢˜ï¼š å­˜å‚¨ï¼Œæµ·é‡çš„æ•°æ®æ€æ ·æœ‰æ•ˆçš„å­˜å‚¨ï¼Ÿä¸»è¦åŒ…æ‹¬hdfsã€Kafkaï¼› è®¡ç®—ï¼Œæµ·é‡çš„æ•°æ®æ€æ ·å¿«é€Ÿè®¡ç®—ï¼Ÿä¸»è¦åŒ…æ‹¬MapReduceã€Sparkã€Flinkç­‰ï¼› æŸ¥è¯¢ï¼Œæµ·é‡æ•°æ®æ€æ ·å¿«é€ŸæŸ¥è¯¢ï¼Ÿä¸»è¦ä¸ºNosqlå’ŒOlapï¼ŒNosqlä¸»è¦åŒ…æ‹¬Hbaseã€ Cassandra ç­‰ï¼Œå…¶ä¸­olapåŒ…æ‹¬kylinã€implaç­‰ï¼Œå…¶ä¸­Nosqlä¸»è¦è§£å†³éšæœºæŸ¥è¯¢ï¼ŒOlapæŠ€æœ¯ä¸»è¦è§£å†³å…³è”æŸ¥è¯¢ï¼›æŒ–æ˜ï¼Œæµ·é‡æ•°æ®æ€æ ·æŒ–æ˜å‡ºéšè—çš„çŸ¥è¯†ï¼Ÿä¹Ÿå°±æ˜¯å½“å‰ç«çƒ­çš„æœºå™¨å­¦ä¹ å’Œæ·±åº¦å­¦ä¹ ç­‰æŠ€æœ¯ï¼ŒåŒ…æ‹¬TensorFlowã€caffeã€mahoutç­‰ï¼› å¤§æ•°æ®æŠ€æœ¯ç”Ÿæ€å…¶å®æ˜¯ä¸€ä¸ªæ±Ÿæ¹–â€¦.åœ¨ä¸€ä¸ªå¤œé»‘é£é«˜çš„æ™šä¸Šï¼Œæ±Ÿæ¹–ç¬¬ä¸€å¤§å¸®ä¼šGoogleä¸‰æœ¬é˜µæ³•ä¿®ç‚¼ç§˜ç±æµå‡ºï¼Œå¤§æ•°æ®æŠ€æœ¯æ±Ÿæ¹–ä»æ­¤çº·äº‰å››èµ·ã€æ°¸æ— å®æ—¥â€¦è¿™ä¸‰æœ¬ç§˜ç±åˆ†åˆ«ä¸ºï¼š ã€ŠGoogle file systemã€‹ï¼šè®ºè¿°äº†æ€æ ·å€ŸåŠ©æ™®é€šæœºå™¨æœ‰æ•ˆçš„å­˜å‚¨æµ·é‡çš„å¤§æ•°æ®ï¼› ã€ŠGoogle MapReduceã€‹ï¼šè®ºè¿°äº†æ€æ ·å¿«é€Ÿè®¡ç®—æµ·é‡çš„æ•°æ®ï¼› ã€ŠGoogle BigTableã€‹ï¼šè®ºè¿°äº†æ€æ ·å®ç°æµ·é‡æ•°æ®çš„å¿«é€ŸæŸ¥è¯¢ï¼› ä»¥ä¸Šä¸‰ç¯‡è®ºæ–‡ç§˜ç±æ˜¯å¤§æ•°æ®å…¥é—¨çš„æœ€å¥½æ–‡ç« ï¼Œé€šä¿—æ˜“æ‡‚ï¼Œå…ˆçœ‹æ­¤ä¸‰ç¯‡å†çœ‹å…¶å®ƒæŠ€æœ¯ï¼› åœ¨Googleä¸‰å¤§ç§˜ç±æµå‡ºä¹‹åï¼Œæ±Ÿæ¹–ä¸Šï¼Œè‡´åŠ›äºæ­¦å­¦å¼€æ”¾çš„apacheæ ¹æ®è¿™ä¸‰æœ¬ç§˜ç±åˆ†åˆ«ç ”ç©¶å‡ºäº†å¯¹åº”çš„æ­¦å­¦å·¨è‘—ã€Šhadoopã€‹ï¼Œå¹¶å¼€æ”¾ç»™å„å¤§é—¨æ´¾ç ”ä¹ ã€‚HadoopåŒ…æ‹¬ä¸‰å¤§éƒ¨åˆ†ï¼Œåˆ†åˆ«æ˜¯hdfsã€MapReduceå’Œhbaseï¼š hdfsè§£å†³å¤§æ•°æ®çš„å­˜å‚¨é—®é¢˜ã€‚ mapreduceè§£å†³å¤§æ•°æ®çš„è®¡ç®—é—®é¢˜ã€‚ hbaseè§£å†³å¤§æ•°æ®é‡çš„æŸ¥è¯¢é—®é¢˜ã€‚ ä¹‹åï¼Œåœ¨å„å¤§é—¨æ´¾çš„æ”¯æŒä¸‹ï¼ŒHadoopä¸æ–­è¡ç”Ÿå’Œè¿›åŒ–å„ç§åˆ†æ”¯æµæ´¾ï¼Œå…¶ä¸­æœ€æ¿€çƒˆçš„å½“å±è®¡ç®—æŠ€æœ¯ï¼Œå…¶æ¬¡æ˜¯æŸ¥è¯¢æŠ€æœ¯ã€‚å­˜å‚¨æŠ€æœ¯åŸºæœ¬æ— å¤ªå¤šå˜åŒ–ï¼Œhdfsä¸€ç»Ÿå¤©ä¸‹ã€‚ä»¥ä¸‹ä¸ºå¤§æ¦‚çš„æ¼”è¿›ï¼š 1ï¼Œä¼ ç»Ÿæ•°æ®ä»“åº“æ´¾è¯´ä½ mapreduceä¿®ç‚¼å¤ªå¤æ‚ï¼Œè€å­ä¸ä¼šç¼–ç¨‹ï¼Œè€å­ä»¥å‰ç”¨sqlåƒéå¤©ä¸‹ï¼Œä¸ºäº†å°†è¿™æ‹¨äººæ”¶å…¥é—¨ä¸‹ï¼Œå¹¶é™ä½å¤§æ•°æ®ä¿®ç‚¼éš¾åº¦ï¼Œé‚å‡ºäº†hiveï¼Œpigã€implaç­‰SQL ON Hadoopçš„ç®€æ˜“ä¿®ç‚¼ç§˜ç±ï¼› 2ï¼Œä¼¯å…‹åˆ©æ´¾è¯´ä½ MapReduceåªé‡æ‹›æ•°ï¼Œå†…åŠ›æ— æ³•æ–½å±•ï¼Œä¸”ä¸åŒçš„åœºæ™¯éœ€è¦ä¿®ç‚¼ä¸åŒçš„æŠ€æœ¯ï¼Œå¤ªè¿‡å¤æ‚ï¼Œäºæ˜¯æ¨å‡ºåŸºäºå†…åŠ›ï¼ˆå†…å­˜ï¼‰çš„ã€ŠSparkã€‹ï¼Œæ„å›¾è§£å†³æ‰€æœ‰å¤§æ•°æ®è®¡ç®—é—®é¢˜ã€‚ 3ï¼Œæµå¼è®¡ç®—ç›¸å…³é—¨æ´¾è¯´ä½ hadoopåªèƒ½æ†‹å¤§æ‹›ï¼ˆæ‰¹é‡è®¡ç®—ï¼‰ï¼Œå¤ªéº»çƒ¦ï¼Œäºæ˜¯å‡ºäº†SparkStreamingã€Stormï¼ŒS4ç­‰æµå¼è®¡ç®—æŠ€æœ¯ï¼Œèƒ½å¤Ÿå®ç°æ•°æ®ä¸€æ¥å°±å³æ—¶è®¡ç®—ã€‚ 4ï¼Œapacheçœ‹å„å¤§é—¨æ´¾çº·äº‰å››èµ·ï¼Œæ¨å‡ºflinkï¼Œæƒ³ä¸€ç»Ÿæµè®¡ç®—å’Œæ‰¹é‡è®¡ç®—çš„ä¿®ç‚¼ï¼› åŸæ–‡åœ°å€ï¼šçŸ¥ä¹]]></content>
      <categories>
        <category>å¤§æ•°æ®</category>
      </categories>
      <tags>
        <tag>hadoop</tag>
        <tag>spark</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ¢¯åº¦ä¸‹é™æ³•æ€»ç»“]]></title>
    <url>%2F2018%2F06%2F01%2F%E6%A2%AF%E5%BA%A6%E4%B8%8B%E9%99%8D%E6%B3%95%E6%80%BB%E7%BB%93%2F</url>
    <content type="text"><![CDATA[ä»ITæ—¶ä»£èµ°å‘DTæ—¶ä»£ æ¢¯åº¦æ¢¯åº¦å®é™…ä¸Šå°±æ˜¯å¤šå˜é‡å¾®åˆ†çš„ä¸€èˆ¬åŒ–ã€‚ æ¢¯åº¦æ˜¯å¾®ç§¯åˆ†ä¸­ä¸€ä¸ªå¾ˆé‡è¦çš„æ¦‚å¿µï¼Œä¹‹å‰æåˆ°è¿‡æ¢¯åº¦çš„æ„ä¹‰ åœ¨å•å˜é‡çš„å‡½æ•°ä¸­ï¼Œæ¢¯åº¦å…¶å®å°±æ˜¯å‡½æ•°çš„å¾®åˆ†ï¼Œä»£è¡¨ç€å‡½æ•°åœ¨æŸä¸ªç»™å®šç‚¹çš„åˆ‡çº¿çš„æ–œç‡ åœ¨å¤šå˜é‡å‡½æ•°ä¸­ï¼Œæ¢¯åº¦æ˜¯ä¸€ä¸ªå‘é‡ï¼Œå‘é‡æœ‰æ–¹å‘ï¼Œæ¢¯åº¦çš„æ–¹å‘å°±æŒ‡å‡ºäº†å‡½æ•°åœ¨ç»™å®šç‚¹çš„ä¸Šå‡æœ€å¿«çš„æ–¹å‘ã€‚ æ­¤å…¬å¼çš„æ„ä¹‰æ˜¯ï¼šJæ˜¯å…³äºÎ˜çš„ä¸€ä¸ªå‡½æ•°ï¼Œæˆ‘ä»¬å½“å‰æ‰€å¤„çš„ä½ç½®ä¸ºÎ˜0ç‚¹ï¼Œè¦ä»è¿™ä¸ªç‚¹èµ°åˆ°Jçš„æœ€å°å€¼ç‚¹ï¼Œä¹Ÿå°±æ˜¯å±±åº•ã€‚é¦–å…ˆæˆ‘ä»¬å…ˆç¡®å®šå‰è¿›çš„æ–¹å‘ï¼Œä¹Ÿå°±æ˜¯æ¢¯åº¦çš„åå‘ï¼Œç„¶åèµ°ä¸€æ®µè·ç¦»çš„æ­¥é•¿ï¼Œä¹Ÿå°±æ˜¯Î±ï¼Œèµ°å®Œè¿™ä¸ªæ®µæ­¥é•¿ï¼Œå°±åˆ°è¾¾äº†Î˜1è¿™ä¸ªç‚¹ï¼Î±åœ¨æ¢¯åº¦ä¸‹é™ç®—æ³•ä¸­è¢«ç§°ä½œä¸ºå­¦ä¹ ç‡æˆ–è€…æ­¥é•¿ï¼Œæ„å‘³ç€æˆ‘ä»¬å¯ä»¥é€šè¿‡Î±æ¥æ§åˆ¶æ¯ä¸€æ­¥èµ°çš„è·ç¦»ã€‚ å¤šå…ƒå‡½æ•°çš„æ¢¯åº¦ä¸‹é™æˆ‘ä»¬å‡è®¾æœ‰ä¸€ä¸ªç›®æ ‡å‡½æ•° ç°åœ¨è¦é€šè¿‡æ¢¯åº¦ä¸‹é™æ³•è®¡ç®—è¿™ä¸ªå‡½æ•°çš„æœ€å°å€¼ã€‚æˆ‘ä»¬é€šè¿‡è§‚å¯Ÿå°±èƒ½å‘ç°æœ€å°å€¼å…¶å®å°±æ˜¯ (0ï¼Œ0)ç‚¹ã€‚ä½†æ˜¯æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ä¼šä»æ¢¯åº¦ä¸‹é™ç®—æ³•å¼€å§‹ä¸€æ­¥æ­¥è®¡ç®—åˆ°è¿™ä¸ªæœ€å°å€¼ï¼æˆ‘ä»¬å‡è®¾åˆå§‹çš„èµ·ç‚¹ä¸ºï¼š åˆå§‹çš„å­¦ä¹ ç‡ä¸ºï¼š å‡½æ•°çš„æ¢¯åº¦ä¸ºï¼š è¿›è¡Œå¤šæ¬¡è¿­ä»£ï¼š æˆ‘ä»¬å‘ç°ï¼Œå·²ç»åŸºæœ¬é è¿‘å‡½æ•°çš„æœ€å°å€¼ç‚¹ å­¦ä¹ ç‡é€‰æ‹©åˆé€‚çš„å­¦ä¹ é€Ÿç‡ å‡è®¾ä»å·¦è¾¹æœ€é«˜ç‚¹å¼€å§‹ï¼Œå¦‚æœ learning rate è°ƒæ•´çš„åˆšåˆšå¥½ï¼Œæ¯”å¦‚çº¢è‰²çš„çº¿ï¼Œå°±èƒ½é¡ºåˆ©æ‰¾åˆ°æœ€ä½ç‚¹ã€‚å¦‚æœ learning rate è°ƒæ•´çš„å¤ªå°ï¼Œæ¯”å¦‚è“è‰²çš„çº¿ï¼Œå°±ä¼šèµ°çš„å¤ªæ…¢ï¼Œè™½ç„¶è¿™ç§æƒ…å†µç»™è¶³å¤Ÿå¤šçš„æ—¶é—´ä¹Ÿå¯ä»¥æ‰¾åˆ°æœ€ä½ç‚¹ï¼Œå®é™…æƒ…å†µå¯èƒ½ä¼šç­‰ä¸åŠå‡ºç»“æœã€‚å¦‚æœ learning rate è°ƒæ•´çš„æœ‰ç‚¹å¤§ï¼Œæ¯”å¦‚ç»¿è‰²çš„çº¿ï¼Œå°±ä¼šåœ¨ä¸Šé¢éœ‡è¡ï¼Œèµ°ä¸ä¸‹å»ï¼Œæ°¸è¿œæ— æ³•åˆ°è¾¾æœ€ä½ç‚¹ã€‚è¿˜æœ‰å¯èƒ½éå¸¸å¤§ï¼Œæ¯”å¦‚é»„è‰²çš„çº¿ï¼Œç›´æ¥å°±é£å‡ºå»äº†ï¼Œupdateå‚æ•°çš„æ—¶å€™åªä¼šå‘ç°æŸå¤±å‡½æ•°è¶Šæ›´æ–°è¶Šå¤§ã€‚ è™½ç„¶è¿™æ ·çš„å¯è§†åŒ–å¯ä»¥å¾ˆç›´è§‚è§‚å¯Ÿï¼Œä½†å¯è§†åŒ–ä¹Ÿåªæ˜¯èƒ½åœ¨å‚æ•°æ˜¯ä¸€ç»´æˆ–è€…äºŒç»´çš„æ—¶å€™è¿›è¡Œï¼Œæ›´é«˜ç»´çš„æƒ…å†µå·²ç»æ— æ³•å¯è§†åŒ–äº†ã€‚ è‡ªé€‚åº”å­¦ä¹ é€Ÿç‡ä¸¾ä¸€ä¸ªç®€å•çš„æ€æƒ³ï¼šéšç€æ¬¡æ•°çš„å¢åŠ ï¼Œé€šè¿‡ä¸€äº›å› å­æ¥å‡å°‘ learning rate é€šå¸¸åˆšå¼€å§‹ï¼Œåˆå§‹ç‚¹ä¼šè·ç¦»æœ€ä½ç‚¹æ¯”è¾ƒè¿œï¼Œæ‰€ä»¥ä½¿ç”¨å¤§ä¸€ç‚¹çš„ learning rate updateå¥½å‡ æ¬¡å‚æ•°ä¹‹åå‘¢ï¼Œæ¯”è¾ƒé è¿‘æœ€ä½ç‚¹äº†ï¼Œæ­¤æ—¶å‡å°‘ learning rate æ¯”å¦‚ \(\eta^{t} = \eta / \sqrt{t+1}\)ï¼Œtæ˜¯æ¬¡æ•°ã€‚éšç€æ¬¡æ•°çš„å¢åŠ ï¼Œ\(Î·_t\)å‡å° Feature Scalingï¼ˆç‰¹å¾ç¼©æ”¾ï¼‰ å›¾å·¦è¾¹æ˜¯\(x_{1}\)çš„scaleæ¯”çš„scaleæ¯”\(x_{2}\)è¦å°å¾ˆå¤šï¼Œæ‰€ä»¥å½“è¦å°å¾ˆå¤šï¼Œæ‰€ä»¥å½“\(w_{1}\)å’Œå’Œ\(w_{2}\)åšåŒæ ·çš„å˜åŒ–æ—¶ï¼ŒåšåŒæ ·çš„å˜åŒ–æ—¶ï¼Œ\(w_{1}\)å¯¹yçš„å˜åŒ–å½±å“æ˜¯æ¯”è¾ƒå°çš„ï¼Œå¯¹yçš„å˜åŒ–å½±å“æ˜¯æ¯”è¾ƒå°çš„ï¼Œ\(x_{2}\)å¯¹yçš„å˜åŒ–å½±å“æ˜¯æ¯”è¾ƒå¤§çš„ã€‚ åæ ‡ç³»ä¸­æ˜¯ä¸¤ä¸ªå‚æ•°çš„error surfaceï¼ˆç°åœ¨è€ƒè™‘å·¦è¾¹è“è‰²ï¼‰ï¼Œå› ä¸º\(w_{1}\)å¯¹yçš„å˜åŒ–å½±å“æ¯”è¾ƒå°ï¼Œæ‰€ä»¥å¯¹yçš„å˜åŒ–å½±å“æ¯”è¾ƒå°ï¼Œæ‰€ä»¥\(w_{1}\)å¯¹æŸå¤±å‡½æ•°çš„å½±å“æ¯”è¾ƒå°ï¼Œå¯¹æŸå¤±å‡½æ•°çš„å½±å“æ¯”è¾ƒå°ï¼Œ\(w_{1}\)å¯¹æŸå¤±å‡½æ•°æœ‰æ¯”è¾ƒå°çš„å¾®åˆ†ï¼Œæ‰€ä»¥å¯¹æŸå¤±å‡½æ•°æœ‰æ¯”è¾ƒå°çš„å¾®åˆ†ï¼Œæ‰€ä»¥vw_{1}\)æ–¹å‘ä¸Šæ˜¯æ¯”è¾ƒå¹³æ»‘çš„ã€‚åŒç†æ–¹å‘ä¸Šæ˜¯æ¯”è¾ƒå¹³æ»‘çš„ã€‚åŒç†\(x_{2}\)å¯¹yçš„å½±å“æ¯”è¾ƒå¤§ï¼Œæ‰€ä»¥å¯¹yçš„å½±å“æ¯”è¾ƒå¤§ï¼Œæ‰€ä»¥\(x_{2}\)å¯¹æŸå¤±å‡½æ•°çš„å½±å“æ¯”è¾ƒå¤§ï¼Œæ‰€ä»¥åœ¨å¯¹æŸå¤±å‡½æ•°çš„å½±å“æ¯”è¾ƒå¤§ï¼Œæ‰€ä»¥åœ¨\(x_{2}\)æ–¹å‘æœ‰æ¯”è¾ƒå°–çš„å³¡è°·ã€‚ ä¸Šå›¾å³è¾¹æ˜¯ä¸¤ä¸ªå‚æ•°scalingæ¯”è¾ƒæ¥è¿‘ï¼Œå³è¾¹çš„ç»¿è‰²å›¾å°±æ¯”è¾ƒæ¥è¿‘åœ†å½¢ã€‚ å¯¹äºå·¦è¾¹çš„æƒ…å†µï¼Œä¸¤ä¸ªæ–¹å‘ä¸Šéœ€è¦ä¸åŒçš„å­¦ä¹ ç‡ï¼ŒåŒä¸€ç»„å­¦ä¹ ç‡ä¼šæä¸å®šå®ƒã€‚è€Œå³è¾¹æƒ…å½¢æ›´æ–°å‚æ•°å°±ä¼šå˜å¾—æ¯”è¾ƒå®¹æ˜“ã€‚å·¦è¾¹çš„æ¢¯åº¦ä¸‹é™å¹¶ä¸æ˜¯å‘ç€æœ€ä½ç‚¹æ–¹å‘èµ°çš„ï¼Œè€Œæ˜¯é¡ºç€ç­‰é«˜çº¿åˆ‡çº¿æ³•çº¿æ–¹å‘èµ°çš„ã€‚ä½†ç»¿è‰²å°±å¯ä»¥å‘ç€åœ†å¿ƒï¼ˆæœ€ä½ç‚¹ï¼‰èµ°ï¼Œè¿™æ ·åšå‚æ•°æ›´æ–°ä¹Ÿæ˜¯æ¯”è¾ƒæœ‰æ•ˆç‡ã€‚ å¸¸è§çš„ç®—æ³• æ‰¹é‡æ¢¯åº¦ä¸‹é™ï¼šæ‰¹é‡æ¢¯åº¦ä¸‹é™æ¯æ¬¡æ›´æ–°ä½¿ç”¨äº†æ‰€æœ‰çš„è®­ç»ƒæ•°æ®ã€‚å¦‚æœåªæœ‰ä¸€ä¸ªæå°å€¼ï¼Œé‚£ä¹ˆæ‰¹æ¢¯åº¦ä¸‹é™æ˜¯è€ƒè™‘äº†è®­ç»ƒé›†æ‰€æœ‰æ•°æ®ï¼Œæ˜¯æœç€æœ€å°å€¼è¿­ä»£è¿åŠ¨çš„ï¼Œä½†æ˜¯ç¼ºç‚¹æ˜¯å¦‚æœæ ·æœ¬å€¼å¾ˆå¤§çš„è¯ï¼Œæ›´æ–°é€Ÿåº¦ä¼šå¾ˆæ…¢ã€‚ éšæœºæ¢¯åº¦ä¸‹é™ï¼šéšæœºä¹Ÿå°±æ˜¯è¯´ç”¨ä¸€ä¸ªæ ·æœ¬çš„æ¢¯åº¦æ¥è¿‘ä¼¼æ‰€æœ‰çš„æ ·æœ¬ï¼Œæ¥è°ƒæ•´Î¸ï¼Œè¿™æ ·ä¼šå¤§å¤§åŠ å¿«è®­ç»ƒæ•°æ®ï¼Œä½†æ˜¯æœ‰å¯èƒ½ç”±äºè®­ç»ƒæ•°æ®çš„å™ªå£°ç‚¹è¾ƒå¤šã€‚æ¯ä¸€æ¬¡åˆ©ç”¨å™ªå£°ç‚¹è¿›è¡Œæ›´æ–°çš„è¿‡ç¨‹ä¸­ï¼Œä¸ä¸€å®šæ˜¯æœç€æå°å€¼æ–¹å‘æ›´æ–°ï¼Œä½†æ˜¯ç”±äºå¤šæ¬¡è¿­ä»£ï¼Œæ•´ä½“æ–¹å‘è¿˜æ˜¯å¤§è‡´æœç€æå°å€¼æ–¹å‘æ›´æ–°ï¼Œæé«˜äº†é€Ÿåº¦ã€‚ å°æ‰¹é‡æ¢¯åº¦ä¸‹é™ï¼šå°æ‰¹é‡æ¢¯åº¦ä¸‹é™æ³•æ˜¯ä¸ºäº†è§£å†³æ‰¹æ¢¯åº¦ä¸‹é™æ³•çš„è®­ç»ƒé€Ÿåº¦æ…¢ï¼Œä»¥åŠéšæœºæ¢¯åº¦ä¸‹é™æ³•çš„å‡†ç¡®æ€§ç»¼åˆè€Œæ¥ï¼Œä½†æ˜¯è¿™é‡Œæ³¨æ„ï¼Œä¸åŒé—®é¢˜çš„batchæ˜¯ä¸ä¸€æ ·çš„ã€‚ æ‰¹é‡æ¢¯åº¦ä¸‹é™ä»£ç 12345678910111213141516171819202122232425262728import random#This is a sample to simulate a function y = theta1*x1 + theta2*x2input_x = [[1,4], [2,5], [5,1], [4,2]] y = [19,26,19,20] theta = [1,1]loss = 10step_size = 0.001eps =0.0001max_iters = 10000error =0iter_count = 0while( loss &gt; eps and iter_count &lt; max_iters): loss = 0 #è¿™é‡Œæ›´æ–°æƒé‡çš„æ—¶å€™æ‰€æœ‰çš„æ ·æœ¬ç‚¹éƒ½ç”¨ä¸Šäº† for i in range (3): pred_y = theta[0]*input_x[i][0]+theta[1]*input_x[i][1] theta[0] = theta[0] - step_size * (pred_y - y[i]) * input_x[i][0] theta[1] = theta[1] - step_size * (pred_y - y[i]) * input_x[i][1] for i in range (3): pred_y = theta[0]*input_x[i][0]+theta[1]*input_x[i][1] error = 0.5*(pred_y - y[i])**2 loss = loss + error iter_count += 1 print &apos;iters_count&apos;, iter_countprint &apos;theta: &apos;,theta print &apos;final loss: &apos;, lossprint &apos;iters: &apos;, iter_count 12345678910111213output:iters_count 219iters_count 220iters_count 221iters_count 222iters_count 223iters_count 224iters_count 225theta: [3.0027765778748003, 3.997918297015663]final loss: 9.68238055213e-05iters: 225[Finished in 0.2s] éšæœºæ¢¯åº¦ä¸‹é™ä»£ç 1234567891011121314151617181920212223242526272829# æ¯æ¬¡é€‰å–ä¸€ä¸ªå€¼,éšæœºä¸€ä¸ªç‚¹æ›´æ–° Î¸import random#This is a sample to simulate a function y = theta1*x1 + theta2*x2input_x = [[1,4], [2,5], [5,1], [4,2]] y = [19,26,19,20] theta = [1,1]loss = 10step_size = 0.001eps =0.0001max_iters = 10000error =0iter_count = 0while( loss &gt; eps and iter_count &lt; max_iters): loss = 0 #æ¯ä¸€æ¬¡é€‰å–éšæœºçš„ä¸€ä¸ªç‚¹è¿›è¡Œæƒé‡çš„æ›´æ–° i = random.randint(0,3) pred_y = theta[0]*input_x[i][0]+theta[1]*input_x[i][1] theta[0] = theta[0] - step_size * (pred_y - y[i]) * input_x[i][0] theta[1] = theta[1] - step_size * (pred_y - y[i]) * input_x[i][1] for i in range (3): pred_y = theta[0]*input_x[i][0]+theta[1]*input_x[i][1] error = 0.5*(pred_y - y[i])**2 loss = loss + error iter_count += 1 print &apos;iters_count&apos;, iter_countprint &apos;theta: &apos;,theta print &apos;final loss: &apos;, lossprint &apos;iters: &apos;, iter_count 123456789101112#output:iters_count 1226iters_count 1227iters_count 1228iters_count 1229iters_count 1230iters_count 1231iters_count 1232theta: [3.002441488688225, 3.9975844154600226]final loss: 9.989420302e-05iters: 1232[Finished in 0.3s] å°æ‰¹é‡æ¢¯åº¦ä¸‹é™ä»£ç 12345678910111213141516171819202122232425262728293031323334# è¿™é‡Œç”¨2ä¸ªæ ·æœ¬ç‚¹import random#This is a sample to simulate a function y = theta1*x1 + theta2*x2input_x = [[1,4], [2,5], [5,1], [4,2]] y = [19,26,19,20] theta = [1,1]loss = 10step_size = 0.001eps =0.0001max_iters = 10000error =0iter_count = 0while( loss &gt; eps and iter_count &lt; max_iters): loss = 0 i = random.randint(0,3) #æ³¨æ„è¿™é‡Œï¼Œæˆ‘è¿™é‡Œæ‰¹é‡æ¯æ¬¡é€‰å–çš„æ˜¯2ä¸ªæ ·æœ¬ç‚¹åšæ›´æ–°ï¼Œå¦ä¸€ä¸ªç‚¹æ˜¯éšæœºç‚¹+1çš„ç›¸é‚»ç‚¹ j = (i+1)%4 pred_y = theta[0]*input_x[i][0]+theta[1]*input_x[i][1] theta[0] = theta[0] - step_size * (pred_y - y[i]) * input_x[i][0] theta[1] = theta[1] - step_size * (pred_y - y[i]) * input_x[i][1] pred_y = theta[0]*input_x[j][0]+theta[1]*input_x[j][1] theta[0] = theta[0] - step_size * (pred_y - y[j]) * input_x[j][0] theta[1] = theta[1] - step_size * (pred_y - y[j]) * input_x[j][1] for i in range (3): pred_y = theta[0]*input_x[i][0]+theta[1]*input_x[i][1] error = 0.5*(pred_y - y[i])**2 loss = loss + error iter_count += 1 print &apos;iters_count&apos;, iter_countprint &apos;theta: &apos;,theta print &apos;final loss: &apos;, lossprint &apos;iters: &apos;, iter_count 1234567891011output:iters_count 543iters_count 544iters_count 545iters_count 546iters_count 547iters_count 548iters_count 549theta: [3.0023012574840764, 3.997553282857357]final loss: 9.81717138358e-05iters: 549 æ¢¯åº¦ä¸‹é™çš„å±€é™ å®¹æ˜“é™·å…¥å±€éƒ¨æå€¼ è¿˜æœ‰å¯èƒ½å¡åœ¨ä¸æ˜¯æå€¼ï¼Œä½†å¾®åˆ†å€¼æ˜¯0çš„åœ°æ–¹ è¿˜æœ‰å¯èƒ½å®é™…ä¸­åªæ˜¯å½“å¾®åˆ†å€¼å°äºæŸä¸€ä¸ªæ•°å€¼å°±åœä¸‹æ¥äº†ï¼Œä½†è¿™é‡Œåªæ˜¯æ¯”è¾ƒå¹³ç¼“ï¼Œå¹¶ä¸æ˜¯æå€¼ç‚¹ å‚è€ƒï¼šhttps://zhuanlan.zhihu.com/qinlibo-ml]]></content>
      <categories>
        <category>æœºå™¨å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>ä¼˜åŒ–ç®—æ³•</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ·±åº¦å­¦ä¹ ä¹‹Tensorflow(ä¸€)]]></title>
    <url>%2F2018%2F06%2F01%2F%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E4%B9%8BTensorflow(%E4%B8%80)%2F</url>
    <content type="text"><![CDATA[ä»ITæ—¶ä»£èµ°å‘DTæ—¶ä»£ Tensorflowç®€å•ç¤ºä¾‹1. åŸºæœ¬è¿ç®—123456789101112131415161718192021222324#å®šä¹‰ä¸€ä¸ªå¸¸é‡a = tf.constant([3,3])#å®šä¹‰ä¸€ä¸ªå˜é‡x = tf.Variable([1,2])#å®šä¹‰ä¸€ä¸ªåŠ æ³•opadd = tf.add(a,x)#å®šä¹‰ä¸€ä¸ªå‡æ³•sub = tf.subtract(a,x)#å®šä¹‰ä¸€ä¸ªä¹˜æ³•opmul = tf.multiply(a,x)#å®šä¹‰åˆå§‹åŒ–init = tf.global_variables_initializer()#å®šä¹‰å¤šä¸ªæ“ä½œadd2 = tf.add(a,add)with tf.Session() as sess: sess.run(init) print(&quot;åŠ æ³•ï¼š&quot;,sess.run(add)) #æ‰§è¡ŒåŠ æ³• print(&quot;å‡æ³•ï¼š&quot;,sess.run(sub)) #æ‰§è¡Œå‡æ³• print(&quot;ä¹˜æ³•ï¼š&quot;,sess.run(mul)) #æ‰§è¡Œä¹˜æ³• #åŒæ—¶æ‰§è¡Œä¹˜æ³•opå’ŒåŠ æ³•op result = sess.run([add,add2,sub,mul]) print(&quot;æ‰§è¡Œå¤šä¸ªï¼š&quot;,result) 2. ä½¿ç”¨å ä½ç¬¦1234567891011#Feedï¼šå…ˆå®šä¹‰å ä½ç¬¦ï¼Œç­‰éœ€è¦çš„æ—¶å€™å†ä¼ å…¥æ•°æ®#åˆ›å»ºå ä½ç¬¦input1 = tf.placeholder(tf.float32)input2 = tf.placeholder(tf.float32)#å®šä¹‰ä¹˜æ³•opoutput = tf.multiply(input1,input2)add = tf.add(input1,input2)with tf.Session() as sess: #feedçš„æ•°æ®ä»¥å­—å…¸çš„å½¢å¼ä¼ å…¥ print(sess.run(add, feed_dict=&#123;input1:[8.],input2:[2.]&#125;)) Tensorflowç®€å•å›å½’æ¨¡å‹1. æœ€ç®€å•çš„çº¿æ€§å›å½’æ¨¡å‹1234567891011121314151617181920212223242526272829import tensorflow as tfimport numpy as np#ä½¿ç”¨numpyç”Ÿæˆ100ä¸ªéšæœºç‚¹#æ ·æœ¬ç‚¹x_data = np.random.rand(100)y_data = x_data*0.1 + 0.2#æ„é€ ä¸€ä¸ªçº¿æ€§æ¨¡å‹d = tf.Variable(1.1)k = tf.Variable(0.5)y = k*x_data + d#äºŒæ¬¡ä»£ä»·å‡½æ•°&lt;å‡æ–¹å·®&gt;loss = tf.losses.mean_squared_error(y_data,y)#å®šä¹‰ä¸€ä¸ªæ¢¯åº¦ä¸‹é™æ³•æ¥è¿›è¡Œè®­ç»ƒçš„ä¼˜åŒ–å™¨optimizer = tf.train.GradientDescentOptimizer(0.3)#æœ€å°åŒ–ä»£ä»·å‡½æ•°train = optimizer.minimize(loss)#åˆå§‹åŒ–å˜é‡init = tf.global_variables_initializer()with tf.Session() as sess: sess.run(init) for step in range(1000): sess.run(train) if step%100 ==0: print(step,sess.run([k,d])) 2. éçº¿æ€§å›å½’çš„é—®é¢˜12345678910111213141516171819202122232425262728293031323334353637383940414243444546import tensorflow as tfimport numpy as npimport matplotlib.pyplot as plt#ä½¿ç”¨numpyç”Ÿæˆ200ä¸ªéšæœºç‚¹x_data = np.linspace(-0.5,0.5,200).reshape(-1,1)noise = np.random.normal(0,0.015,x_data.shape)y_data = np.square(x_data) + noise#å®šä¹‰ä¸¤ä¸ªplaceholderï¼Œåˆ—æ•°ä¸º1ï¼Œè¡Œæ•°æœªçŸ¥x = tf.placeholder(tf.float32,[None,1])y = tf.placeholder(tf.float32,[None,1])#å®šä¹‰ç¥ç»ç½‘ç»œç»“æ„ï¼š1-20-1ï¼Œä¸€ä¸ªè¾“å…¥ä¸€ä¸ªè¾“å‡ºä¸€ä¸ªéšè—å±‚åŒ…å«20ä¸ªç¥ç»å…ƒ#å®šä¹‰ç¥ç»ç½‘ç»œä¸­é—´å±‚Weights_L1 = tf.Variable(tf.random_normal([1,20])) # åˆå§‹åŒ–1è¡Œ20åˆ—æƒå€¼biases_L1 = tf.Variable(tf.zeros([1,20])) # åˆå§‹åŒ–1è¡Œ20åˆ—åç½®Wx_plus_b_L1 = tf.matmul(x,Weights_L1) + biases_L1 # è®¡ç®—ç¥ç»å…ƒä¿¡å·L1 = tf.nn.tanh(Wx_plus_b_L1) # ä½¿ç”¨æ¿€æ´»å‡½æ•°è®¡ç®—ç¥ç»å…ƒè¾“å‡ºä¿¡å·#å®šä¹‰ç¥ç»ç½‘ç»œè¾“å‡ºå±‚Weights_L2 = tf.Variable(tf.random_normal([20,1]))biases_L2 = tf.Variable(tf.zeros([1,1]))Wx_plus_b_L2 = tf.matmul(L1,Weights_L2) + biases_L2prediction = tf.nn.tanh(Wx_plus_b_L2)# prediction = Wx_plus_b_L2#äºŒæ¬¡ä»£ä»·å‡½æ•°loss = tf.losses.mean_squared_error(y,prediction)#ä½¿ç”¨æ¢¯åº¦ä¸‹é™æ³•æœ€å°åŒ–ä»£ä»·å‡½æ•°è®­ç»ƒtrain_step = tf.train.GradientDescentOptimizer(0.1).minimize(loss)with tf.Session() as sess: #å˜é‡åˆå§‹åŒ– sess.run(tf.global_variables_initializer()) for _ in range(1000): sess.run(train_step,feed_dict=&#123;x:x_data,y:y_data&#125;) #è·å¾—é¢„æµ‹å€¼ prediction_value = sess.run(prediction,feed_dict=&#123;x:x_data&#125;) #ç”»å›¾ plt.figure() plt.scatter(x_data,y_data) plt.plot(x_data,prediction_value,&apos;r-&apos;,lw=5) plt.show() 123456è¿™é‡Œæ€è€ƒä¸‹ä¸­é—´å±‚å’Œè¾“å‡ºå±‚çš„æ¿€æ´»å‡½æ•°çš„é€‰å–é—®é¢˜ã€‚1\. ä¸­é—´å±‚å’Œè¾“å‡ºå±‚çš„æ¿€æ´»å‡½æ•°å‡é‡‡ç”¨tanhå‡½æ•°ï¼Œå½“è¿­ä»£1000æ¬¡æ—¶ï¼Œæ•°æ®æ‹Ÿåˆæ•ˆæœè‰¯å¥½ï¼›è¾“å‡ºå±‚æ¿€æ´»å‡½æ•°æ¢æˆæ’ç­‰å‡½æ•°æ—¶ï¼Œæ•ˆæœä¼šæ›´å¥½ä¸€ç‚¹ã€‚2\. è¿™é‡Œä½¿ç”¨sigmoidå‡½æ•°æˆ–è€…softmaxå‡½æ•°ï¼Œå½“è¿­ä»£1000æ¬¡æ—¶ï¼Œæ— æ³•æ‹Ÿåˆã€‚äº‹å®è¯æ˜åœ¨è¿™ä¸ªæ•°æ®é›†é‡Œsigmoidå‡½æ•°å’Œsoftmaxå‡½æ•°å‡ä¸èƒ½ä½œä¸ºè¾“å‡ºå±‚çš„æ¿€æ´»å‡½æ•°ã€‚å½“è¾“å‡ºå±‚æ¿€æ´»å‡½æ•°ä¸ºsoftmaxæ—¶é¢„æµ‹å€¼æ’ä¸º1è¿™ä¸ªå¾ˆå¥½ç†è§£ï¼›åŒç†sigmoidæ­¤ç±»å‡½æ•°æ”¶åˆ°è¾“å‡ºå€¼åŸŸçš„é™åˆ¶ï¼Œåœ¨è¯¥æ•°æ®é‡Œæ˜¯æ— æ³•ç”¨æ¥ä½œä¸ºè¾“å‡ºæ¿€æ´»å‡½æ•°çš„ã€‚3\. ç»è¿‡æœ‰é™æ¬¡çš„æµ‹è¯•å‘ç°ï¼Œå¾ˆå¯¹è¯¥æ•°æ®æƒ…å†µä¸‹è¾“å‡ºå±‚çš„æ¿€æ´»å‡½æ•°å¯ä»¥ä½¿ç”¨tanhã€softsignå’Œæ’ç­‰å‡½æ•°ï¼›å…¶ä¸­æ’ç­‰æ¿€æ´»å‡½æ•°è¡¨ç°æœ€å¥½ï¼ˆä¸ªäººè€ƒè™‘æ˜¯å› ä¸ºè¯¥æ•°æ®éå¸¸ç®€å•ï¼‰ã€‚4\. ç»è¿‡æœ‰é™æ¬¡çš„æµ‹è¯•å‘ç°ï¼Œsigmoidã€softmaxã€softsignã€tanhå‡å¯ä½œä¸ºè¯¥æ•°æ®æƒ…å†µä¸‹çš„ä¸­é—´å±‚æ¿€æ´»å‡½æ•°ï¼ˆæ’ç­‰å‡½æ•°é™¤å¤–ï¼‰ã€‚å…¶ä¸­tanhå’Œsoftsignæ‹Ÿåˆçš„æœ€å¿«ä½†softsignæ•ˆæœä¸å¥½ï¼›sigmoidå’Œsoftmaxå‡½æ•°æ‹Ÿåˆè¾ƒæ…¢ã€‚éšç€è¿­ä»£æ¬¡æ•°å¢åŠ åˆ°20000æ¬¡ï¼Œæœ€ç»ˆéƒ½èƒ½å¾ˆå¥½åœ°æ‹Ÿåˆæ•°æ®ã€‚5\. sigmoidä½œä¸ºæ¿€æ´»å‡½æ•°å¯¹ç¥ç»ç‚è¦æ±‚çš„æ•°é‡ä¸€èˆ¬æƒ…å†µä¸‹è¦æ¯”tanhé«˜ã€‚ Tensorflowåˆ†ç±»æ¨¡å‹æœ¬èŠ‚ç”¨åˆ°Tensorflowè‡ªå¸¦çš„ mnist æ•°æ®é›†ã€‚è¿™é‡Œä½¿ç”¨ç‹¬çƒ­ç¼–ç å°†å¤šå…ƒå›å½’çš„é—®é¢˜è½¬æ¢æˆ10ä¸ªæ•°å€¼çš„äºŒå…ƒåˆ†ç±»é—®é¢˜ã€‚ä½¿ç”¨softmaxä½œä¸ºè¾“å‡ºå±‚æ¿€æ´»å‡½æ•°çš„æ„ä¹‰åœ¨äºå°†è¾“å‡ºçš„æ¦‚ç‡æ•°ç»„å½’ä¸€åŒ–å¹¶å‡¸æ˜¾æ¦‚ç‡æœ€å¤§çš„å€¼ã€‚å½“ç„¶è¿™é‡Œä¹Ÿå¯ä»¥ä½¿ç”¨sigmoidæˆ–å…¶ä»–ä½œä¸ºè¾“å‡ºå±‚æ¿€æ´»å‡½æ•°ã€‚ 1. ç®€å•çš„MNISTæ•°æ®é›†åˆ†ç±»12345678910111213141516171819202122232425262728293031323334353637383940414243444546import tensorflow as tffrom tensorflow.examples.tutorials.mnist import input_data#è½½å…¥æ•°æ®é›†mnist = input_data.read_data_sets(&quot;MNIST_data&quot;,one_hot=True)#æ¯ä¸ªæ‰¹æ¬¡çš„å¤§å°batch_size = 64#è®¡ç®—ä¸€å…±æœ‰å¤šå°‘ä¸ªæ‰¹æ¬¡n_batch = mnist.train.num_examples // batch_size#å®šä¹‰ä¸¤ä¸ªplaceholderx = tf.placeholder(tf.float32,[None,784])y = tf.placeholder(tf.float32,[None,10])#åˆ›å»ºä¸€ä¸ªç®€å•çš„ç¥ç»ç½‘ç»œW = tf.Variable(tf.zeros([784,10]))b = tf.Variable(tf.zeros([10]))prediction = tf.nn.softmax(tf.matmul(x,W)+b)#äºŒæ¬¡ä»£ä»·å‡½æ•°loss = tf.losses.mean_squared_error(y,prediction)#äº¤å‰ç†µä»£ä»·å‡½æ•°loss = tf.losses.softmax_cross_entropy(y,prediction) #ä½¿ç”¨æ¢¯åº¦ä¸‹é™æ³•train_step = tf.train.GradientDescentOptimizer(0.2).minimize(loss)#åˆå§‹åŒ–å˜é‡init = tf.global_variables_initializer()#ç»“æœå­˜æ”¾åœ¨ä¸€ä¸ªå¸ƒå°”å‹åˆ—è¡¨ä¸­ã€‚correct_prediction = tf.equal(tf.argmax(y,1),tf.argmax(prediction,1))#argmaxè¿”å›ä¸€ç»´å¼ é‡ä¸­æœ€å¤§çš„å€¼æ‰€åœ¨çš„ä½ç½®#æ±‚å‡†ç¡®ç‡ã€‚accuracy = tf.reduce_mean(tf.cast(correct_prediction,tf.float32))with tf.Session() as sess: sess.run(init) #epochï¼šæ‰€æœ‰æ•°æ®è®­ç»ƒä¸€æ¬¡ï¼Œå°±æ˜¯ä¸€ä¸ªepochå‘¨æœŸ for epoch in range(21): #batchï¼šä¸€èˆ¬ä¸º32ï¼Œ64ä¸ªæ•°æ® for batch in range(n_batch): batch_xs,batch_ys = mnist.train.next_batch(batch_size) sess.run(train_step,feed_dict=&#123;x:batch_xs,y:batch_ys&#125;) acc = sess.run(accuracy,feed_dict=&#123;x:mnist.test.images,y:mnist.test.labels&#125;) print(&quot;Iter &quot; + str(epoch) + &quot;,Testing Accuracy &quot; + str(acc)) 2. è¿‡æ‹Ÿåˆè§£å†³åŠæ¢¯åº¦ä¸‹é™ä¼˜åŒ–å™¨Dropouté‡‡ç”¨éšæœºçš„æ–¹å¼â€œåšç©ºâ€ç¥ç»å…ƒçš„æƒé‡ï¼ŒL1æ­£åˆ™åŒ–é‡‡ç”¨çš„æ˜¯â€œåšç©ºâ€è´¡çŒ®éå¸¸å°çš„ç¥ç»å…ƒæƒé‡ï¼ŒL2æ­£åˆ™åŒ–æ˜¯æ¶ˆå¼±æ¯ä¸ªç¥ç»å…ƒçš„æƒé‡è®©æ¯ä¸ªéƒ½æœ‰å°‘è®¸çš„è´¡çŒ®ã€‚åœ¨ç¥ç»ç½‘ç»œä¸­å®ƒä»¬ä¹‹é—´ä¹Ÿå¯ä»¥ç»“åˆä½¿ç”¨ï¼Œdropoutåº”ç”¨è¾ƒå¤šäº›ã€‚1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162import tensorflow as tffrom tensorflow.examples.tutorials.mnist import input_data#è½½å…¥æ•°æ®é›†mnist = input_data.read_data_sets(&quot;MNIST_data&quot;,one_hot=True)#æ¯ä¸ªæ‰¹æ¬¡çš„å¤§å°batch_size = 64#è®¡ç®—ä¸€å…±æœ‰å¤šå°‘ä¸ªæ‰¹æ¬¡n_batch = mnist.train.num_examples // batch_size#å®šä¹‰ä¸‰ä¸ªplaceholderx = tf.placeholder(tf.float32,[None,784])y = tf.placeholder(tf.float32,[None,10])keep_prob=tf.placeholder(tf.float32)# 784-1000-500-10W1 = tf.Variable(tf.truncated_normal([784,1000],stddev=0.1))b1 = tf.Variable(tf.zeros([1000])+0.1)L1 = tf.nn.tanh(tf.matmul(x,W1)+b1)L1_drop = tf.nn.dropout(L1,keep_prob) W2 = tf.Variable(tf.truncated_normal([1000,500],stddev=0.1))b2 = tf.Variable(tf.zeros([500])+0.1)L2 = tf.nn.tanh(tf.matmul(L1_drop,W2)+b2)L2_drop = tf.nn.dropout(L2,keep_prob) W3 = tf.Variable(tf.truncated_normal([500,10],stddev=0.1))b3 = tf.Variable(tf.zeros([10])+0.1)prediction = tf.nn.softmax(tf.matmul(L2_drop,W3)+b3)#åŒæ ·è¿™é‡Œä¹Ÿå¯ä»¥ä½¿ç”¨æ­£åˆ™é¡¹#l2_loss = tf.nn.l2_loss(W1) + tf.nn.l2_loss(b1) + #tf.nn.l2_loss(W2) + tf.nn.l2_loss(b2) + tf.nn.l2_loss(W3) + #tf.nn.l2_loss(b3)#äº¤å‰ç†µä»£ä»·å‡½æ•°loss = tf.losses.softmax_cross_entropy(y,prediction)#æ­£åˆ™åçš„äº¤å‰ç†µä»£ä»·å‡½æ•°#loss = tf.losses.softmax_cross_entropy(y,prediction) + #0.0005*l2_loss #è¿™é‡Œ0.0005ä¸ºå­¦ä¹ ç‡#ä½¿ç”¨æ¢¯åº¦ä¸‹é™æ³•train_step = tf.train.GradientDescentOptimizer(0.5).minimize(loss)#train_step = tf.train.AdamOptimizer(0.001).minimize(loss)# ä½¿ç”¨ä¼˜åŒ–å™¨çš„æ¢¯åº¦ä¸‹é™ï¼ŒåŒæ—¶è¿˜æœ‰å…¶ä»–å¾ˆå¤šç§åŸºäºæ¢¯åº¦ä¸‹é™çš„ä¼˜åŒ–ã€‚è¿™é‡Œçš„å­¦ä¹ ç‡å–å€¼æ¯”ä¼ ç»Ÿçš„æ¢¯åº¦ä¸‹é™æ³•è¦å°#åˆå§‹åŒ–å˜é‡init = tf.global_variables_initializer()#ç»“æœå­˜æ”¾åœ¨ä¸€ä¸ªå¸ƒå°”å‹åˆ—è¡¨ä¸­correct_prediction = tf.equal(tf.argmax(y,1),tf.argmax(prediction,1))#argmaxè¿”å›ä¸€ç»´å¼ é‡ä¸­æœ€å¤§çš„å€¼æ‰€åœ¨çš„ä½ç½®#æ±‚å‡†ç¡®ç‡accuracy = tf.reduce_mean(tf.cast(correct_prediction,tf.float32))with tf.Session() as sess: sess.run(init) for epoch in range(31): for batch in range(n_batch): batch_xs,batch_ys = mnist.train.next_batch(batch_size) sess.run(train_step,feed_dict=&#123;x:batch_xs,y:batch_ys,keep_prob:0.5&#125;) #è¿™é‡Œkeep_prob:0.5 è¡¨ç¤ºä¿ç•™50%çš„ç¥ç»å…ƒï¼Œè¿™é‡ŒæŠŠå¦å®ƒä¸º1çš„æ—¶å€™ä¿ç•™æ‰€æœ‰ç¥ç»å…ƒæµ‹è¯•ç»“æœå‡†ç¡®ç‡æé«˜äº†2ä¸ªç™¾åˆ†ç‚¹ï¼ŒåŒæ—¶ç›¸å¯¹åº”çš„è®¡ç®—é‡ä¹Ÿå¢å¤§äº† test_acc = sess.run(accuracy,feed_dict=&#123;x:mnist.test.images,y:mnist.test.labels,keep_prob:1.0&#125;) train_acc = sess.run(accuracy,feed_dict=&#123;x:mnist.train.images,y:mnist.train.labels,keep_prob:1.0&#125;) print(&quot;Iter &quot; + str(epoch) + &quot;,Testing Accuracy &quot; + str(test_acc) +&quot;,Training Accuracy &quot; + str(train_acc)) 3. ç¥ç»ç½‘ç»œä¼˜åŒ–è¿™é‡Œçš„ä¼˜åŒ–æ–¹å¼æ˜¯ä¸æ–­å‡å°å­¦ä¹ ç‡ï¼Œä½¿å¾—åœ¨æå°å€¼é™„è¿‘è¿­ä»£é€Ÿåº¦æ”¾ç¼“ï¼Œè§£å†³å› å­¦ä¹ ç‡è¿‡å¤§åå¤éœ‡è¡æ— æ³•æ‹Ÿåˆçš„é—®é¢˜ã€‚123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657import tensorflow as tffrom tensorflow.examples.tutorials.mnist import input_data#è½½å…¥æ•°æ®é›†mnist = input_data.read_data_sets(&quot;MNIST_data&quot;,one_hot=True)#æ¯ä¸ªæ‰¹æ¬¡çš„å¤§å°batch_size = 64#è®¡ç®—ä¸€å…±æœ‰å¤šå°‘ä¸ªæ‰¹æ¬¡n_batch = mnist.train.num_examples // batch_size#å®šä¹‰ä¸‰ä¸ªplaceholderx = tf.placeholder(tf.float32,[None,784])y = tf.placeholder(tf.float32,[None,10])keep_prob=tf.placeholder(tf.float32)lr = tf.Variable(0.001, dtype=tf.float32)# 784-500-300-10#åˆ›å»ºä¸€ä¸ªç¥ç»ç½‘ç»œW1 = tf.Variable(tf.truncated_normal([784,500],stddev=0.1))b1 = tf.Variable(tf.zeros([500])+0.1)L1 = tf.nn.tanh(tf.matmul(x,W1)+b1)L1_drop = tf.nn.dropout(L1,keep_prob)W2 = tf.Variable(tf.truncated_normal([500,300],stddev=0.1))b2 = tf.Variable(tf.zeros([300])+0.1)L2 = tf.nn.tanh(tf.matmul(L1_drop,W2)+b2)L2_drop = tf.nn.dropout(L2,keep_prob)W3 = tf.Variable(tf.truncated_normal([300,10],stddev=0.1))b3 = tf.Variable(tf.zeros([10])+0.1)prediction = tf.nn.softmax(tf.matmul(L2_drop,W3)+b3)#äº¤å‰ç†µä»£ä»·å‡½æ•°loss = tf.losses.softmax_cross_entropy(y,prediction)#è®­ç»ƒtrain_step = tf.train.AdamOptimizer(lr).minimize(loss)#åˆå§‹åŒ–å˜é‡init = tf.global_variables_initializer()#ç»“æœå­˜æ”¾åœ¨ä¸€ä¸ªå¸ƒå°”å‹åˆ—è¡¨ä¸­correct_prediction = tf.equal(tf.argmax(y,1),tf.argmax(prediction,1))#argmaxè¿”å›ä¸€ç»´å¼ é‡ä¸­æœ€å¤§çš„å€¼æ‰€åœ¨çš„ä½ç½®#æ±‚å‡†ç¡®ç‡accuracy = tf.reduce_mean(tf.cast(correct_prediction,tf.float32))with tf.Session() as sess: sess.run(init) for epoch in range(21): sess.run(tf.assign(lr, 0.001 * (0.95 ** epoch))) for batch in range(n_batch): batch_xs,batch_ys = mnist.train.next_batch(batch_size) sess.run(train_step,feed_dict=&#123;x:batch_xs,y:batch_ys,keep_prob:1.0&#125;) learning_rate = sess.run(lr) acc = sess.run(accuracy,feed_dict=&#123;x:mnist.test.images,y:mnist.test.labels,keep_prob:1.0&#125;) print (&quot;Iter &quot; + str(epoch) + &quot;, Testing Accuracy= &quot; + str(acc) + &quot;, Learning Rate= &quot; + str(learning_rate)) CNNå·ç§¯ç¥ç»ç½‘ç»œä»¥ä¸Šçš„æ¡ˆä¾‹é‡‡ç”¨çš„éƒ½æ˜¯BPç¥ç»ç½‘ç»œã€‚è€ƒè™‘ä¸€å¼ å›¾ç‰‡åƒç´ ä¸º100*100ï¼Œåˆ™éœ€è¦ä¸€ä¸‡ä¸ªè¾“å…¥ç¥ç»å…ƒï¼Œè‹¥éšè—å±‚ä¹Ÿæœ‰ä¸€ä¸‡ä¸ªç¥ç»å…ƒåˆ™éœ€è¦è®­ç»ƒä¸€äº¿ä¸ªå‚æ•°ï¼Œè¿™ä¸ä»…éœ€è¦æ›´å¤šè®¡ç®—æ˜‚è¿˜éœ€è¦å¤§é‡é¢è®­ç»ƒæ ·æœ¬ç”¨æ¥â€œæ±‚è§£â€ã€‚å› æ­¤ä¸‹é¢æˆ‘ä»¬è€ƒè™‘ç”¨å·ç§¯ç¥ç»ç½‘ç»œæ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ CNNé€šè¿‡å±€éƒ¨æ„Ÿå—é‡å’Œæƒå€¼å…±äº«å‡å°‘äº†ç¥ç»ç½‘ç»œéœ€è¦è®­ç»ƒçš„å‚æ•°ï¼ˆæƒå€¼ï¼‰çš„ä¸ªæ•°ã€‚ å·ç§¯æ ¸/æ»¤æ³¢å™¨ å·ç§¯Padding SAME PADDING VALID PADDING æ± åŒ– max-pooling æå–å·ç§¯åç‰¹å¾çš„æœ€å¤§å€¼ä¹Ÿå°±æ˜¯æœ€é‡è¦çš„ç‰¹å¾ï¼Œè¿›ä¸€æ­¥å‹ç¼©å‚æ•° mean-pooling éšæœº-pooling æ± åŒ–Padding SAME PADDING VALID PADDING ä¸‹é¢çœ‹ä¸€ä¸ª CNN å·ç§¯ç¥ç»ç½‘ç»œç”¨äº MINIST æ•°æ®çš„åˆ†ç±»é—®é¢˜ã€‚åœ¨CPUä¸Šè¿è¡Œæ¯”è¾ƒè€—æ—¶ï¼Œ16Gå†…å­˜çš„Mac-Proå¤§æ¦‚ä¸¤ä¸‰åˆ†é’Ÿä¸€ä¸ªå‘¨æœŸã€‚12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788899091929394959697import tensorflow as tffrom tensorflow.examples.tutorials.mnist import input_datamnist = input_data.read_data_sets(&apos;MNIST_data&apos;,one_hot=True)#æ¯ä¸ªæ‰¹æ¬¡çš„å¤§å°batch_size = 64#è®¡ç®—ä¸€å…±æœ‰å¤šå°‘ä¸ªæ‰¹æ¬¡n_batch = mnist.train.num_examples // batch_size#å®šä¹‰ä¸¤ä¸ªplaceholderx = tf.placeholder(tf.float32,[None,784])#28*28y = tf.placeholder(tf.float32,[None,10])#åˆå§‹åŒ–æƒå€¼def weight_variable(shape): initial = tf.truncated_normal(shape,stddev=0.1)#ç”Ÿæˆä¸€ä¸ªæˆªæ–­çš„æ­£æ€åˆ†å¸ƒ return tf.Variable(initial)#åˆå§‹åŒ–åç½®def bias_variable(shape): initial = tf.constant(0.1,shape=shape) return tf.Variable(initial)#å·ç§¯å±‚def conv2d(x,W): #x input tensor of shape `[batch, in_height, in_width, in_channels]` #W filter / kernel tensor of shape [filter_height, filter_width, in_channels, out_channels] #`strides[0] = strides[3] = 1`. strides[1]ä»£è¡¨xæ–¹å‘çš„æ­¥é•¿ï¼Œstrides[2]ä»£è¡¨yæ–¹å‘çš„æ­¥é•¿ #padding: A `string` from: `&quot;SAME&quot;, &quot;VALID&quot;` return tf.nn.conv2d(x,W,strides=[1,1,1,1],padding=&apos;SAME&apos;)#æ± åŒ–å±‚def max_pool_2x2(x): #ksize [1,x,y,1] return tf.nn.max_pool(x,ksize=[1,2,2,1],strides=[1,2,2,1],padding=&apos;SAME&apos;)#æ”¹å˜xçš„æ ¼å¼è½¬ä¸º4Dçš„æ ¼å¼[batch, in_height, in_width, in_channels]`x_image = tf.reshape(x,[-1,28,28,1])#åˆå§‹åŒ–ç¬¬ä¸€ä¸ªå·ç§¯å±‚çš„æƒå€¼å’Œåç½®W_conv1 = weight_variable([5,5,1,32])#5*5çš„é‡‡æ ·çª—å£ï¼Œ32ä¸ªå·ç§¯æ ¸ä»1ä¸ªå¹³é¢æŠ½å–ç‰¹å¾b_conv1 = bias_variable([32])#æ¯ä¸€ä¸ªå·ç§¯æ ¸ä¸€ä¸ªåç½®å€¼#æŠŠx_imageå’Œæƒå€¼å‘é‡è¿›è¡Œå·ç§¯ï¼Œå†åŠ ä¸Šåç½®å€¼ï¼Œç„¶ååº”ç”¨äºreluæ¿€æ´»å‡½æ•°h_conv1 = tf.nn.relu(conv2d(x_image,W_conv1) + b_conv1)h_pool1 = max_pool_2x2(h_conv1)#è¿›è¡Œmax-pooling#åˆå§‹åŒ–ç¬¬äºŒä¸ªå·ç§¯å±‚çš„æƒå€¼å’Œåç½®W_conv2 = weight_variable([5,5,32,64])#5*5çš„é‡‡æ ·çª—å£ï¼Œ64ä¸ªå·ç§¯æ ¸ä»32ä¸ªå¹³é¢æŠ½å–ç‰¹å¾b_conv2 = bias_variable([64])#æ¯ä¸€ä¸ªå·ç§¯æ ¸ä¸€ä¸ªåç½®å€¼#æŠŠh_pool1å’Œæƒå€¼å‘é‡è¿›è¡Œå·ç§¯ï¼Œå†åŠ ä¸Šåç½®å€¼ï¼Œç„¶ååº”ç”¨äºreluæ¿€æ´»å‡½æ•°h_conv2 = tf.nn.relu(conv2d(h_pool1,W_conv2) + b_conv2)h_pool2 = max_pool_2x2(h_conv2)#è¿›è¡Œmax-pooling#28*28çš„å›¾ç‰‡ç¬¬ä¸€æ¬¡å·ç§¯åè¿˜æ˜¯28*28ï¼Œç¬¬ä¸€æ¬¡æ± åŒ–åå˜ä¸º14*14#ç¬¬äºŒæ¬¡å·ç§¯åä¸º14*14ï¼Œç¬¬äºŒæ¬¡æ± åŒ–åå˜ä¸ºäº†7*7#è¿›è¿‡ä¸Šé¢æ“ä½œåå¾—åˆ°64å¼ 7*7çš„å¹³é¢#åˆå§‹åŒ–ç¬¬ä¸€ä¸ªå…¨è¿æ¥å±‚çš„æƒå€¼W_fc1 = weight_variable([7*7*64,1024])#ä¸Šä¸€å±‚æœ‰7*7*64ä¸ªç¥ç»å…ƒï¼Œå…¨è¿æ¥å±‚æœ‰1024ä¸ªç¥ç»å…ƒb_fc1 = bias_variable([1024])#1024ä¸ªèŠ‚ç‚¹#æŠŠæ± åŒ–å±‚2çš„è¾“å‡ºæ‰å¹³åŒ–ä¸º1ç»´h_pool2_flat = tf.reshape(h_pool2,[-1,7*7*64])#æ±‚ç¬¬ä¸€ä¸ªå…¨è¿æ¥å±‚çš„è¾“å‡ºh_fc1 = tf.nn.relu(tf.matmul(h_pool2_flat,W_fc1) + b_fc1)#keep_probç”¨æ¥è¡¨ç¤ºç¥ç»å…ƒçš„è¾“å‡ºæ¦‚ç‡keep_prob = tf.placeholder(tf.float32)h_fc1_drop = tf.nn.dropout(h_fc1,keep_prob)#åˆå§‹åŒ–ç¬¬äºŒä¸ªå…¨è¿æ¥å±‚W_fc2 = weight_variable([1024,10])b_fc2 = bias_variable([10])#è®¡ç®—è¾“å‡ºprediction = tf.nn.softmax(tf.matmul(h_fc1_drop,W_fc2) + b_fc2)#äº¤å‰ç†µä»£ä»·å‡½æ•°cross_entropy = tf.losses.softmax_cross_entropy(y,prediction)#ä½¿ç”¨AdamOptimizerè¿›è¡Œä¼˜åŒ–train_step = tf.train.AdamOptimizer(1e-4).minimize(cross_entropy)#ç»“æœå­˜æ”¾åœ¨ä¸€ä¸ªå¸ƒå°”åˆ—è¡¨ä¸­correct_prediction = tf.equal(tf.argmax(prediction,1),tf.argmax(y,1))#argmaxè¿”å›ä¸€ç»´å¼ é‡ä¸­æœ€å¤§çš„å€¼æ‰€åœ¨çš„ä½ç½®#æ±‚å‡†ç¡®ç‡accuracy = tf.reduce_mean(tf.cast(correct_prediction,tf.float32))with tf.Session() as sess: sess.run(tf.global_variables_initializer()) for epoch in range(21): for batch in range(n_batch): batch_xs,batch_ys = mnist.train.next_batch(batch_size) sess.run(train_step,feed_dict=&#123;x:batch_xs,y:batch_ys,keep_prob:0.7&#125;) acc = sess.run(accuracy,feed_dict=&#123;x:mnist.test.images,y:mnist.test.labels,keep_prob:1.0&#125;) print (&quot;Iter &quot; + str(epoch) + &quot;, Testing Accuracy= &quot; + str(acc))]]></content>
      <categories>
        <category>æ·±åº¦å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>æ·±åº¦å­¦ä¹ </tag>
        <tag>tensorflow</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æœºå™¨å­¦ä¹ åŸºç¡€ï¼ˆäºŒï¼‰]]></title>
    <url>%2F2018%2F05%2F30%2F%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E5%9F%BA%E7%A1%80%EF%BC%88%E4%BA%8C%EF%BC%89%2F</url>
    <content type="text"><![CDATA[ä»ITæ—¶ä»£èµ°å‘DTæ—¶ä»£ çº¿æ€§ä»£æ•°1.æ•°æ®ç±»å‹æ¯”è¾ƒScalar: æ ‡é‡ï¼Œå¯ä»¥çœ‹æˆä¸€ä¸ªæ•°Vector: å‘é‡ï¼Œå¯ä»¥çœ‹æˆä¸€ä¸ªä¸€ç»´æ•°ç»„Matrix: çŸ©é˜µï¼Œå¯ä»¥çœ‹æˆäºŒç»´æ•°ç»„Tensor: å¼ é‡ï¼Œä¸‰ç»´æˆ–ä¸‰ç»´ä»¥ä¸Šçš„æ•°ç»„çš„ç»Ÿç§°ï¼Œç»´åº¦ä¸å®š å‡ ä½•ä»£æ•°ä¸­å®šä¹‰çš„å¼ é‡æ˜¯åŸºäºå‘é‡å’ŒçŸ©é˜µçš„æ¨å¹¿ï¼Œé€šä¿—ä¸€ç‚¹ç†è§£çš„è¯ï¼Œæˆ‘ä»¬å¯ä»¥å°†æ ‡é‡è§†ä¸ºé›¶é˜¶å¼ é‡ï¼ŒçŸ¢é‡è§†ä¸ºä¸€é˜¶å¼ é‡ï¼Œé‚£ä¹ˆçŸ©é˜µå°±æ˜¯äºŒé˜¶å¼ é‡ã€‚ä¾‹å¦‚ï¼Œå¯ä»¥å°†ä»»æ„ä¸€å¼ å½©è‰²å›¾ç‰‡è¡¨ç¤ºæˆä¸€ä¸ªä¸‰é˜¶å¼ é‡ï¼Œä¸‰ä¸ªç»´åº¦åˆ†åˆ«æ˜¯å›¾ç‰‡çš„é«˜åº¦ã€å®½åº¦å’Œè‰²å½©æ•°æ®ã€‚å°†è¿™å¼ å›¾ç”¨å¼ é‡è¡¨ç¤ºå‡ºæ¥ï¼Œå°±æ˜¯æœ€ä¸‹æ–¹çš„é‚£å¼ è¡¨æ ¼ï¼š å½“ç„¶æˆ‘ä»¬è¿˜å¯ä»¥å°†è¿™ä¸€å®šä¹‰ç»§ç»­æ‰©å±•ï¼Œå³ï¼šæˆ‘ä»¬å¯ä»¥ç”¨å››é˜¶å¼ é‡è¡¨ç¤ºä¸€ä¸ªåŒ…å«å¤šå¼ å›¾ç‰‡çš„æ•°æ®é›†ï¼Œè¿™å››ä¸ªç»´åº¦åˆ†åˆ«æ˜¯ï¼šå›¾ç‰‡åœ¨æ•°æ®é›†ä¸­çš„ç¼–å·ï¼Œå›¾ç‰‡é«˜åº¦ã€å®½åº¦ï¼Œä»¥åŠè‰²å½©æ•°æ®ã€‚ å¼ é‡åœ¨æ·±åº¦å­¦ä¹ ä¸­æ˜¯ä¸€ä¸ªå¾ˆé‡è¦çš„æ¦‚å¿µï¼Œå› ä¸ºå®ƒæ˜¯ä¸€ä¸ªæ·±åº¦å­¦ä¹ æ¡†æ¶ä¸­çš„ä¸€ä¸ªæ ¸å¿ƒç»„ä»¶ï¼Œåç»­çš„æ‰€æœ‰è¿ç®—å’Œä¼˜åŒ–ç®—æ³•å‡ ä¹éƒ½æ˜¯åŸºäºå¼ é‡è¿›è¡Œçš„ã€‚ 2.çº¿æ€§ä»£æ•°æ¦‚å¿µ é€†çŸ©é˜µï¼šå¯¹äºné˜¶çŸ©é˜µAï¼Œå¦‚æœæœ‰ä¸€ä¸ªné˜¶çŸ©é˜µBï¼Œä½¿ AB = BA = Eï¼Œ åˆ™è¯´çŸ©é˜µAæ˜¯å¯é€†çš„ï¼Œå¹¶æŠŠçŸ©é˜µBç§°ä¸ºAçš„é€†çŸ©é˜µã€‚å½“ |A| =0 æ—¶ï¼ŒAç§°ä¸ºå¥‡å¼‚çŸ©é˜µã€‚å¯é€†çŸ©é˜µä¸€å®šæ˜¯éå¥‡å¼‚çŸ©é˜µï¼Œå› ä¸ºçŸ©é˜µå¯é€†çš„å……åˆ†å¿…è¦æ¡ä»¶æ˜¯ |A|ä¸ä¸º0ã€‚ çŸ©é˜µçš„ç§©ï¼šçŸ©é˜µAçš„è¡Œé˜¶æ¢¯å½¢ä¸­éé›¶è¡Œçš„è¡Œæ•°ï¼Œå°±æ˜¯çŸ©é˜µAçš„ç§©ã€‚ å¯¹äºné˜¶çŸ©é˜µAï¼Œç”±äºAçš„né˜¶å­å¼åªæœ‰ä¸€ä¸ª|A|ï¼Œæ•…å½“ |A|ä¸ä¸º0æ—¶R(A)=nï¼Œå½“|A|=0æ—¶R(A)&lt;nã€‚å› æ­¤ï¼Œå¯é€†çŸ©é˜µçš„ç§© = çŸ©é˜µçš„é˜¶æ•°ï¼Œä¸å¯é€†çŸ©é˜µçš„ç§© &lt; çŸ©é˜µçš„é˜¶æ•°ã€‚é‚£ä¹ˆç§©æœ‰ä»€ä¹ˆå®é™…æ„ä¹‰å—ï¼Ÿç­”æ¡ˆæ˜¯è‚¯å®šçš„ã€‚åœ¨åšçŸ©é˜µSVDåˆ†è§£çš„æ—¶å€™ç”¨äºé™å™ªï¼Œå¦‚æœçŸ©é˜µç§©è¿œå°äºæ ·æœ¬ç»´æ•°ï¼ˆå³çŸ©é˜µåˆ—æ•°ï¼‰ï¼Œé‚£ä¹ˆè¿™äº›æ ·æœ¬ç›¸å½“äºåªç”Ÿæ´»åœ¨å¤–å›´ç©ºé—´ä¸­çš„ä¸€ä¸ªä½ç»´å­ç©ºé—´ï¼Œè¿™æ ·å°±èƒ½å®æ–½é™ç»´æ“ä½œã€‚å†è€…ï¼Œå¦‚æœæŠŠçŸ©é˜µçœ‹æˆçº¿æ€§æ˜ å°„ï¼Œé‚£ä¹ˆç§©å°±æ˜¯è±¡ç©ºé—´çš„çš„ç»´æ•°ã€‚ çº¿æ€§æ–¹ç¨‹ç»„çš„è§£ï¼šçŸ©é˜µåœ¨æ•°å­¦ä¸Šçš„åŸºæœ¬çš„åº”ç”¨å°±æ˜¯è§£çº¿æ€§æ–¹ç¨‹ç»„ï¼Œè¿™ä¹Ÿæ˜¯è´¯ç©¿æ•´ä¸ªè¯¾æœ¬çš„æ ·ä¾‹ã€‚ä¸€ä¸ªå¤æ‚çš„çº¿æ€§æ–¹ç¨‹ç»„å¯ä»¥è¡¨ç¤ºä¸ºAx=bï¼Œå…¶ä¸­xï¼Œbæ˜¯å‘é‡ã€‚é€šè¿‡æ±‚Açš„ç§©å¯ä»¥åˆ¤å®šæ–¹ç¨‹ç»„çš„è§£ï¼šæ— è§£çš„å……åˆ†å¿…è¦æ¡ä»¶æ˜¯R(A) &lt; R(A,b)ï¼›æœ‰å”¯ä¸€è§£çš„å……åˆ†å¿…è¦æ¡ä»¶æ˜¯R(A) = R(A,b) = nï¼›æœ‰æ— é™å¤šè§£çš„å……åˆ†å¿…è¦æ¡ä»¶æ˜¯R(A) = R(A,b) &lt; nã€‚ å‘é‡ç©ºé—´çš„åŸºï¼šè®¾Væ˜¯ä¸€ä¸ªå‘é‡ç©ºé—´ï¼ŒVä¸Šæœ‰rä¸ªå‘é‡a1,a2â€¦arï¼Œå¹¶ä¸”æ»¡è¶³ a1,a2â€¦arçº¿æ€§æ— å…³ï¼Œå¹¶ä¸”Vä¸­çš„ä»»ä¸€å‘é‡éƒ½å¯ä»¥ç”±a1,a2â€¦arçº¿æ€§è¡¨ç¤ºï¼Œé‚£ä¹ˆå‘é‡ç»„a1,a2â€¦arå°±ç§°ä¸ºå‘é‡ç©ºé—´Vçš„ä¸€ä¸ªåŸºï¼Œræ˜¯å‘é‡ç©ºé—´çš„ç»´æ•°ï¼Œå¹¶ç§°Vä¸ºrç»´å‘é‡ç©ºé—´ã€‚å¯ä»¥è¿™ä¹ˆç†è§£ï¼ŒæŠŠå‘é‡ç©ºé—´çœ‹åšæ˜¯å‘é‡ç»„ï¼Œé‚£ä¹ˆåŸºå°±æ˜¯ä¸€ä¸ªæå¤§çº¿æ€§æ— å…³ç»„ï¼Œå¯ä»¥ç”¨æ¥è¡¨ç¤ºå…¶ä»–å‘é‡çš„æœ€å°ç»„åˆï¼Œç»´æ•°å°±æ˜¯å‘é‡ç»„çš„ç§©ã€‚ ç‰¹å¾å€¼ä¸ç‰¹å¾å‘é‡ï¼šå¯¹äºné˜¶çŸ©é˜µAï¼Œå¦‚æœæ•° Î» å’Œ n ç»´éé›¶åˆ—å‘é‡ x ä½¿å…³ç³»å¼ Ax=Î» x æˆç«‹ï¼Œé‚£ä¹ˆ Î» ç§°ä¸ºçŸ©é˜µAçš„ç‰¹å¾å€¼ï¼Œå‘é‡ x å°±æ˜¯Açš„å¯¹åº”äºÎ» çš„ç‰¹å¾å‘é‡ã€‚é‚£ä¹ˆå¦‚ä½•ç†è§£ç‰¹å¾å€¼ä¸ç‰¹å¾å‘é‡å‘¢ï¼Ÿ æˆ‘ä»¬çŸ¥é“ï¼ŒçŸ©é˜µä¹˜æ³•å¯¹åº”äº†ä¸€ä¸ªå˜æ¢ï¼Œæ˜¯æŠŠä»»æ„ä¸€ä¸ªå‘é‡å˜æˆå¦ä¸€ä¸ªæ–¹å‘æˆ–é•¿åº¦éƒ½å¤§å¤šä¸åŒçš„æ–°å‘é‡ã€‚åœ¨è¿™ä¸ªå˜æ¢çš„è¿‡ç¨‹ä¸­ï¼ŒåŸå‘é‡ä¸»è¦å‘ç”Ÿæ—‹è½¬ã€ä¼¸ç¼©çš„å˜åŒ–ã€‚å¦‚æœçŸ©é˜µå¯¹æŸä¸€ä¸ªå‘é‡æˆ–æŸäº›å‘é‡åªå‘ç”Ÿä¼¸ç¼©å˜æ¢ï¼Œä¸å¯¹è¿™äº›å‘é‡äº§ç”Ÿæ—‹è½¬çš„æ•ˆæœï¼Œé‚£ä¹ˆè¿™äº›å‘é‡å°±ç§°ä¸ºè¿™ä¸ªçŸ©é˜µçš„ç‰¹å¾å‘é‡ï¼Œä¼¸ç¼©çš„æ¯”ä¾‹å°±æ˜¯ç‰¹å¾å€¼ã€‚å®é™…ä¸Šï¼Œè¿™æ®µè¯æ—¢è®²äº†çŸ©é˜µå˜æ¢ç‰¹å¾å€¼åŠç‰¹å¾å‘é‡çš„å‡ ä½•æ„ä¹‰ï¼ˆå›¾å½¢å˜æ¢ï¼‰ä¹Ÿè®²äº†å…¶ç‰©ç†å«ä¹‰ã€‚ç‰©ç†çš„å«ä¹‰å°±æ˜¯è¿åŠ¨çš„å›¾æ™¯ï¼šç‰¹å¾å‘é‡åœ¨ä¸€ä¸ªçŸ©é˜µçš„ä½œç”¨ä¸‹ä½œä¼¸ç¼©è¿åŠ¨ï¼Œä¼¸ç¼©çš„å¹…åº¦ç”±ç‰¹å¾å€¼ç¡®å®šã€‚ç‰¹å¾å€¼å¤§äº1ï¼Œæ‰€æœ‰å±äºæ­¤ç‰¹å¾å€¼çš„ç‰¹å¾å‘é‡èº«å½¢æš´é•¿ï¼›ç‰¹å¾å€¼å¤§äº0å°äº1ï¼Œç‰¹å¾å‘é‡èº«å½¢çŒ›ç¼©ï¼›ç‰¹å¾å€¼å°äº0ï¼Œç‰¹å¾å‘é‡ç¼©è¿‡äº†ç•Œï¼Œåæ–¹å‘åˆ°0ç‚¹é‚£è¾¹å»äº†ã€‚ ç›¸ä¼¼çŸ©é˜µï¼šè®¾Aï¼ŒBéƒ½æ˜¯né˜¶çŸ©é˜µï¼Œè‹¥æœ‰å¯é€†çŸ©é˜µPï¼Œä½¿P-1 AP=B,åˆ™Bæ˜¯Açš„ç›¸ä¼¼çŸ©é˜µã€‚ å¯¹è§’é˜µï¼šæ˜¯ä¸€ä¸ªä¸»å¯¹è§’çº¿ä¹‹å¤–çš„å…ƒç´ çš†ä¸º 0 çš„çŸ©é˜µã€‚å¯¹è§’çº¿ä¸Šçš„å…ƒç´ å¯ä»¥ä¸º 0 æˆ–å…¶ä»–å€¼ã€‚ äºŒæ¬¡å‹ï¼šå«æœ‰nä¸ªå˜é‡çš„äºŒæ¬¡é½æ¬¡å‡½æ•°å«åšäºŒæ¬¡å‹ã€‚åªå«å¹³æ–¹é¡¹å«åšäºŒæ¬¡å‹çš„æ ‡å‡†å‹ã€‚ç”¨çŸ©é˜µè¡¨ç¤ºäºŒæ¬¡å‹å°±æ˜¯f = xT Axï¼ŒAä¸ºå¯¹ç§°çŸ©é˜µã€‚ 3.æ–°è§†è§’çœ‹å¾…çŸ©é˜µè¿ç®—1 çŸ©é˜µçŸ©é˜µæ„æˆè¡Œè§†å›¾çš„æ–¹ç¨‹ç»„ä¸º 2x-y=1;x+y=5ï¼Œè¡¨ç¤ºçš„æ˜¯äºŒç»´å¹³é¢çš„ä¸¤æ¡ç›´çº¿ï¼Œæ–¹ç¨‹ç»„çš„è§£å°±æ˜¯ä¸¤æ¡ç›´çº¿çš„äº¤ç‚¹ã€‚ å¦‚æœç”¨åˆ—è§†å›¾è¡¨è¾¾ï¼Œå°±æ˜¯ï¼Œè¡¨ç¤ºäº†ä¸¤ä¸ªå‘é‡ä¹‹é—´çš„å…³ç³»ï¼Œå¦‚ä¸‹å›¾ï¼Œæœ‰å‘é‡aï¼ˆ2,1ï¼‰å’Œå‘é‡bï¼ˆ-1,1ï¼‰,2a+3b=ï¼ˆ1,5ï¼‰ã€‚ è¿™é‡Œæˆ‘ä»¬æ¥æ¢ç©¶ä¸€ä¸‹â€œç»´åº¦â€ã€‚æ•°å­¦ä¸­çš„ç»´åº¦å’Œç‰©ç†ç ”ç©¶çš„ç»´åº¦ä¸å¯ä¸€æ¦‚è€Œè®ºã€‚æ•°å­¦çš„ç»´åº¦è¡¨ç¤ºçš„æ˜¯ç‹¬ç«‹å‚æ•°çš„æ•°ç›®ï¼Œç‰©ç†å­¦çš„ç»´åº¦æŒ‡çš„æ˜¯ç‹¬ç«‹çš„æ—¶ç©ºåæ ‡çš„æ•°ç›®ã€‚æ ¹æ®çˆ±å› æ–¯å¦çš„ç†è®ºï¼Œæˆ‘ä»¬ç”Ÿæ´»çš„ç©ºé—´æ˜¯å››ç»´ç©ºé—´ï¼ŒåŒ…å«äº†ä¸‰ç»´çš„ç©ºé—´+æ—¶é—´ã€‚ 2 çº¿æ€§ç›¸å…³å’Œçº¿æ€§æ— å…³æˆ‘ä»¬å…ˆçœ‹çº¿æ€§ç›¸å…³å’Œçº¿æ€§æ— å…³çš„å®šä¹‰ã€‚åœ¨å‘é‡ç©ºé—´Vçš„ä¸€ç»„å‘é‡Aï¼Œå¦‚æœå­˜åœ¨ä¸å…¨ä¸ºé›¶çš„æ•° k1, k2, Â·Â·Â·,km , ä½¿åˆ™ç§°å‘é‡ç»„Aæ˜¯çº¿æ€§ç›¸å…³çš„ï¼Œå¦åˆ™æ•° k1, k2, Â·Â·Â·,kmå…¨ä¸º0æ—¶ï¼Œç§°å®ƒæ˜¯çº¿æ€§æ— å…³ã€‚çº¿æ€§æ— å…³å¯ä»¥è¿™ä¹ˆç†è§£ï¼Œå¦‚æœæ˜¯äºŒç»´ç©ºé—´ï¼Œè¿™ç»„å‘é‡çš„ä»»æ„ä¸¤ä¸ªå‘é‡ä¸å…±çº¿ï¼›å¦‚æœæ˜¯ä¸‰ç»´ç©ºé—´ï¼Œåˆ™ä»»æ„ä¸‰ä¸ªå‘é‡ä¸å…±é¢ï¼Œå¦‚æœå…±é¢äº†å°±å¯ä»¥ç”¨å¦å¤–ä¸¤ä¸ªè¡¨ç¤ºç¬¬ä¸‰ä¸ªå‘é‡äº†ä¸æ˜¯ä¹ˆã€‚ 3 å‘é‡ç©ºé—´çš„åŸºåŸºï¼šå‘é‡ç©ºé—´Vçš„ä¸€ç»„å‘é‡è‹¥æ»¡è¶³(1)çº¿æ€§æ— å…³ï¼Œ(2)Vä¸­ä»»ä¸€å‘é‡å¯ç”±æ­¤å‘é‡çº¿æ€§è¡¨å‡ºï¼Œåˆ™ç§°è¯¥ç»„å‘é‡Vä¸­çš„ä¸€ä¸ªåŸºï¼ˆäº¦ç§°åŸºåº•ï¼‰ã€‚ 4 å››ä¸ªåŸºæœ¬çš„å­ç©ºé—´åˆ—ç©ºé—´ï¼šæ˜¯åŒ…å«æ‰€æœ‰åˆ—çš„çº¿æ€§ç»„åˆã€‚åˆ—å‘é‡æ˜¯mç»´çš„ï¼Œæ‰€ä»¥C(A)åœ¨Rmé‡Œã€‚ç»´æ•°ä¸Šï¼ŒAçš„ä¸»åˆ—å°±æ˜¯åˆ—ç©ºé—´çš„ä¸€ç»„åŸºï¼Œdim(C(A))=Rank(A)=rï¼Œç»´æ•°å°±æ˜¯ç§©çš„å¤§å°ã€‚ é›¶ç©ºé—´ï¼šnç»´å‘é‡ï¼Œæ˜¯Ax=0çš„æ‰€æœ‰è§£çš„é›†åˆï¼Œæ‰€ä»¥N(A)åœ¨Rné‡Œã€‚é›¶ç©ºé—´æœ‰å¯èƒ½ä¸å­˜åœ¨ã€‚ç»´æ•°ä¸Šï¼Œä¸€ç»„åŸºå°±æ˜¯ä¸€ç»„ç‰¹æ®Šè§£ï¼Œræ˜¯ä¸»å˜é‡çš„ä¸ªæ•°ï¼Œn-ræ˜¯è‡ªç”±å˜é‡çš„ä¸ªæ•°ï¼Œé›¶ç©ºé—´çš„ç»´æ•°ç­‰äºn-rã€‚ è¡Œç©ºé—´ï¼šæ˜¯åŒ…å«æ‰€æœ‰è¡Œçš„çº¿æ€§ç»„åˆã€‚Açš„è¡Œçš„æ‰€æœ‰çº¿æ€§ç»„åˆï¼Œå³Aè½¬ç½®çš„åˆ—çš„çº¿æ€§ç»„åˆï¼ˆå› ä¸ºæˆ‘ä»¬ä¸ä¹ æƒ¯å¤„ç†è¡Œå‘é‡ï¼‰ï¼ŒC(AT)åœ¨Rné‡Œã€‚ç»´æ•°ä¸Šï¼Œæœ‰ä¸€ä¸ªé‡è¦çš„æ€§è´¨ï¼šè¡Œç©ºé—´å’Œåˆ—ç©ºé—´ç»´æ•°ç›¸åŒï¼Œéƒ½ç­‰äºç§©çš„å¤§å°ã€‚ å·¦é›¶ç©ºé—´ï¼šå’Œåˆ—ç©ºé—´å‚ç›´çš„ç©ºé—´ï¼Œäº¤äºä¸€ä¸ªé›¶ç‚¹ï¼Œç»´æ•°ä¸ºm-rã€‚ å¯ä»¥ç”»å‡ºå››ä¸ªå­ç©ºé—´å¦‚ä¸‹ï¼Œè¡Œç©ºé—´å’Œé›¶ç©ºé—´åœ¨Rné‡Œï¼Œä»–ä»¬çš„ç»´æ•°åŠ èµ·æ¥ç­‰äºnï¼Œåˆ—ç©ºé—´å’Œå·¦é›¶ç©ºé—´åœ¨Rmé‡Œï¼Œä»–ä»¬çš„ç»´æ•°åŠ èµ·æ¥ç­‰äºmã€‚ 4.çŸ©é˜µå¯¼æ•° åˆ†å­ã€åˆ†æ¯å¸ƒå±€ï¼šåˆ†å­å¸ƒå±€ï¼šåˆ†å­ä¸ºåˆ—å‘é‡ï¼Œæˆ–è€…åˆ†æ¯ä¸ºè¡Œå‘é‡ï¼›åˆ†æ¯å¸ƒå±€ï¼šåˆ†æ¯ä¸ºåˆ—å‘é‡ï¼Œæˆ–è€…åˆ†å­ä¸ºè¡Œå‘é‡ï¼› è¿ç®—è§„åˆ™ï¼š éœ€è¦æ³¨æ„çš„è§„åˆ™ï¼šä»¥ä¸‹å…¬å¼é»˜è®¤åœ¨åˆ†å­å¸ƒå±€ä¸‹çš„ç»“æœï¼›ï¼› å¸¸ç”¨å…¬å¼ 5.ç‰¹å¾åˆ†è§£1 ç‰¹å¾åˆ†è§£ ç‰¹å¾åˆ†è§£çš„æ€§è´¨ï¼šå¯¹äºAx=Î» x,å¦‚æœæ‰€æœ‰çš„ç‰¹å¾å€¼éƒ½ä¸ç›¸åŒï¼Œåˆ™ç›¸åº”çš„æ‰€æœ‰çš„ç‰¹å¾å‘é‡çº¿æ€§æ— å…³ï¼Œæ­¤æ—¶Xå¯ä»¥è¢«å¯¹è§’åŒ–ä¸ºã€‚ å¯¹ç§°çŸ©é˜µçš„ç‰¹å¾åˆ†è§£ï¼šå¦‚æœä¸€ä¸ªå¯¹ç§°çŸ©é˜µçš„ç‰¹å¾å€¼ä¸åŒï¼Œåˆ™å…¶ç›¸åº”çš„æ‰€æœ‰çš„ç‰¹å¾å‘é‡æ­£äº¤ã€‚ äºŒæ¬¡å‹ï¼šç”¨äºåˆ¤å®šä¸€ä¸ªçŸ©é˜µæ˜¯æ­£å®šçŸ©é˜µã€åŠæ­£å®šçŸ©é˜µã€è´Ÿå®šçŸ©é˜µè¿˜æ˜¯ä¸å®šçŸ©é˜µã€‚å¦‚æœçŸ©é˜µçš„ç‰¹å¾å€¼éƒ½å¤§äº0ï¼Œå°±æ˜¯æ­£å®šçŸ©é˜µã€‚ä¸‹å›¾ä¸­æ˜¯ä¸¤ä¸ªäºŒæ¬¡å‹å›¾å½¢çš„ä¾‹å­ï¼Œå·¦è¾¹æ˜¯å‡¸å‡½æ•°ï¼Œå³è¾¹æ˜¯éå‡¸å‡½æ•°ã€‚ä¹‹åä¼šè¯¦ç»†è®²å‡¸å‡½æ•°çš„ä¼˜åŒ–é—®é¢˜ã€‚ 2 PCAPCAæ˜¯ç‰¹å¾åˆ†è§£çš„ä¸€ä¸ªæœ‰æ•ˆåº”ç”¨ã€‚åœ¨è¿›è¡Œå›¾åƒçš„ç‰¹å¾æå–çš„è¿‡ç¨‹ä¸­ï¼Œæå–çš„ç‰¹å¾ç»´æ•°å¤ªå¤šç»å¸¸ä¼šå¯¼è‡´ç‰¹å¾åŒ¹é…æ—¶è¿‡äºå¤æ‚ï¼Œæ¶ˆè€—ç³»ç»Ÿèµ„æºï¼Œä¸å¾—ä¸é‡‡ç”¨ç‰¹å¾é™ç»´çš„æ–¹æ³•ã€‚æ‰€è°“ç‰¹å¾é™ç»´ï¼Œå³é‡‡ç”¨ä¸€ä¸ªä½çº¬åº¦çš„ç‰¹å¾æ¥è¡¨ç¤ºé«˜çº¬åº¦ã€‚ç‰¹å¾é™ç»´ä¸€èˆ¬æœ‰ä¸¤ç±»æ–¹æ³•ï¼šç‰¹å¾é€‰æ‹©å’Œç‰¹å¾æŠ½å–ã€‚ç‰¹å¾é€‰æ‹©å³ä»é«˜çº¬åº¦çš„ç‰¹å¾ä¸­é€‰æ‹©å…¶ä¸­çš„ä¸€ä¸ªå­é›†æ¥ä½œä¸ºæ–°çš„ç‰¹å¾ï¼›è€Œç‰¹å¾æŠ½å–æ˜¯æŒ‡å°†é«˜çº¬åº¦çš„ç‰¹å¾ç»è¿‡æŸä¸ªå‡½æ•°æ˜ å°„è‡³ä½çº¬åº¦ä½œä¸ºæ–°çš„ç‰¹å¾ã€‚å¸¸ç”¨çš„ç‰¹å¾æŠ½å–æ–¹æ³•å°±æ˜¯PCAï¼ˆPrincipal Component Analysisï¼‰ã€‚é™ç»´è¿‡ç¨‹ä¸¾ä¾‹ï¼šæ¯”å¦‚æœ‰çŸ©é˜µXï¼Œå¸Œæœ›æŠŠå®ƒç”±ä¸¤è¡Œé™æˆä¸€è¡Œã€‚ çŸ©é˜µXï¼š 1.è®¡ç®—åæ–¹å·®çŸ©é˜µ 2.è®¡ç®—Cxçš„ç‰¹å¾å€¼ä¸ºï¼šÎ»1=2ï¼ŒÎ»2=2/5ã€‚ç‰¹å¾å€¼å¯¹åº”çš„ç‰¹å¾å‘é‡ä¸º 3.é™ç»´ï¼šç‰¹å¾å‘é‡çš„è½¬ç½®*Xã€‚å¾—åˆ°ä¸€è¡Œçš„çŸ©é˜µã€‚ 6.å¥‡å¼‚å€¼åˆ†è§£ï¼ˆSingular Value Decompositionï¼ŒSVDï¼‰ PCAçš„å®ç°ä¸€èˆ¬æœ‰ä¸¤ç§æ–¹å¼ï¼Œåˆ†åˆ«æ˜¯ç‰¹å¾å€¼åˆ†è§£å’ŒSVDåˆ†è§£ã€‚SVDå¥‡å¼‚å€¼åˆ†è§£å¯ä»¥å°†ä¸€ä¸ªå¤æ‚çš„çŸ©é˜µç”¨å‡ ä¸ªæ›´å°çš„å­çŸ©é˜µè¡¨ç¤ºï¼Œæ¯ä¸ªå­çŸ©é˜µä»£è¡¨äº†åŸçŸ©é˜µçš„é‡è¦ç‰¹æ€§ã€‚ SVDå¥‡å¼‚å€¼åˆ†è§£ï¼šä»»ä½•ç§©ä¸ºrçš„çŸ©é˜µï¼Œéƒ½å¯ä»¥ç‰¹å¾åˆ†è§£ä¸ºä»¥ä¸‹å…¬å¼ï¼š å…¶ä¸­Uå’ŒVæ˜¯æ­£äº¤çŸ©é˜µã€‚å…¬å¼è¡¨ç¤ºäº†SVDä¸å­ç©ºé—´çš„å…³ç³»ã€‚å…¬å¼(13)ä¾¿äºåˆ†æï¼Œä½†å¹¶ä¸è®¡ç®—æœ‰æ•ˆï¼›å…¬å¼(14)è®¡ç®—æœ‰æ•ˆï¼Œä½†æœ‰æ—¶å€™ä¸æ–¹ä¾¿åˆ†æï¼›å…¬å¼(15)æ–¹ä¾¿å±•å¼€ï¼Œç”¨äºä½ç§©çŸ©é˜µçš„è®¡ç®—ã€‚å¦å¤–SVDè¿˜æä¾›äº†è®¡ç®—å››ä¸ªå­ç©ºé—´æ­£äº¤åŸºçš„ä¸€ç§å¿«é€Ÿæ–¹æ³•ã€‚ SVDåº”ç”¨ä¹‹ä¸€å›¾åƒå‹ç¼©ï¼šç»™å®šä¸€å¹…å›¾åƒï¼Œ256512åƒç´ ï¼Œè€ƒè™‘ç”¨ä½ç§©çŸ©é˜µè¿‘ä¼¼çš„æ–¹å¼ï¼Œå­˜å‚¨å¥‡å¼‚å‘é‡ï¼Œè‹¥ä¿ç•™ä¸€ä¸ªå¥‡å¼‚å‘é‡k=1ï¼Œå‹ç¼©æ¯”å¤§è‡´æ˜¯ (256512) / (256+512) = 170ã€‚ä½†æ˜¯kå¤ªå°å›¾åƒçš„è´¨é‡ä¹ŸæŸå¤±è¾ƒå¤§ï¼Œå®é™…ä¸­kä¸ä¼šè¿™ä¹ˆå°ï¼Œä¸‹é¢å››ä¸ªå›¾åˆ†åˆ«æ˜¯åŸå›¾ã€k=1ã€k=10ã€k=80 æ—¶å›¾ç‰‡çš„è¡¨ç°ã€‚ çŸ©é˜µçš„ç‰¹å¾å€¼åˆ†è§£å’Œå¥‡å¼‚å€¼åˆ†è§£æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ é¦–å…ˆï¼Œç‰¹å¾å€¼åªèƒ½ä½œç”¨åœ¨ä¸€ä¸ªmmçš„æ­£æ–¹çŸ©é˜µä¸Šï¼Œè€Œå¥‡å¼‚å€¼åˆ†è§£åˆ™å¯ä»¥ä½œç”¨åœ¨ä¸€ä¸ªmnçš„é•¿æ–¹çŸ©é˜µä¸Šã€‚å…¶æ¬¡ï¼Œå¥‡å¼‚å€¼åˆ†è§£åŒæ—¶åŒ…å«äº†æ—‹è½¬ã€ç¼©æ”¾å’ŒæŠ•å½±ä¸‰ç§ä½œç”¨ï¼Œ(1)å¼ä¸­ï¼ŒUå’ŒVéƒ½èµ·åˆ°äº†å¯¹Aæ—‹è½¬çš„ä½œç”¨ï¼Œè€ŒÎ£Î£èµ·åˆ°äº†å¯¹Aç¼©æ”¾çš„ä½œç”¨ã€‚ç‰¹å¾å€¼åˆ†è§£åªæœ‰ç¼©æ”¾çš„æ•ˆæœã€‚ 7.å¸¸è§è·ç¦»ä¸Šé¢å¤§è‡´è¯´è¿‡ï¼Œ åœ¨æœºå™¨å­¦ä¹ é‡Œï¼Œæˆ‘ä»¬çš„è¿ç®—ä¸€èˆ¬éƒ½æ˜¯åŸºäºå‘é‡çš„ï¼Œä¸€æ¡ç”¨æˆ·å…·æœ‰100ä¸ªç‰¹å¾ï¼Œé‚£ä¹ˆä»–å¯¹åº”çš„å°±æ˜¯ä¸€ä¸ª100ç»´çš„å‘é‡ï¼Œé€šè¿‡è®¡ç®—ä¸¤ä¸ªç”¨æˆ·å¯¹åº”å‘é‡ä¹‹é—´çš„è·ç¦»å€¼å¤§å°ï¼Œæœ‰æ—¶å€™èƒ½åæ˜ å‡ºè¿™ä¸¤ä¸ªç”¨æˆ·çš„ç›¸ä¼¼ç¨‹åº¦ã€‚è¿™åœ¨åé¢çš„KNNç®—æ³•å’ŒK-meansç®—æ³•ä¸­å¾ˆæ˜æ˜¾ã€‚ è®¾æœ‰ä¸¤ä¸ªnç»´å˜é‡\(A=\left[ x_{11}, x_{12},â€¦,x_{1n} \right]\)å’Œ\(A=\left[ x_{11}, x_{12},â€¦,x_{1n} \right]\)ï¼Œåˆ™ä¸€äº›å¸¸ç”¨çš„è·ç¦»å…¬å¼å®šä¹‰å¦‚ä¸‹ï¼š 1.é—µå¯å¤«æ–¯åŸºè·ç¦» ä»ä¸¥æ ¼æ„ä¹‰ä¸Šè®²ï¼Œé—µå¯å¤«æ–¯åŸºè·ç¦»ä¸æ˜¯ä¸€ç§è·ç¦»ï¼Œè€Œæ˜¯ä¸€ç»„è·ç¦»çš„å®šä¹‰ï¼š d_{12} =\sqrt[p]{\sum_{k=1}^{n}{\left( x_{1k} -x_{2k} \right) ^{p} } } å®é™…ä¸Šï¼Œå½“p=1æ—¶ï¼Œå°±æ˜¯æ›¼å“ˆé¡¿è·ç¦»ï¼›å½“p=2æ—¶ï¼Œå°±æ˜¯æ¬§å¼è·ç¦»ã€‚å½“p=æ— ç©·æ—¶ï¼Œå°±æ˜¯åˆ‡æ¯”é›ªå¤«è·ç¦» åˆ‡æ¯”é›ªå¤«è·ç¦»Pythonå®ç°å¦‚ä¸‹ï¼š 1234from numpy import *vector1 = mat([1,2,3])vector2 = mat([4,5,6])print sqrt(abs(vector1-vector2).max) 2. å‘é‡å†…ç§¯å‘é‡å†…ç§¯çš„ç»“æœæ˜¯æ²¡æœ‰ç•Œé™çš„ï¼Œä¸€ç§è§£å†³åŠæ³•æ˜¯é™¤ä»¥é•¿åº¦ä¹‹åå†æ±‚å†…ç§¯ï¼Œè¿™å°±æ˜¯åº”ç”¨ååˆ†å¹¿æ³›çš„ä½™å¼¦ç›¸ä¼¼åº¦ï¼ˆCosine similarityï¼‰ï¼š ä½™å¼¦ç›¸ä¼¼åº¦ä¸å‘é‡çš„å¹…å€¼æ— å…³ï¼Œåªä¸å‘é‡çš„æ–¹å‘ç›¸å…³ï¼Œåœ¨æ–‡æ¡£ç›¸ä¼¼åº¦ï¼ˆTF-IDFï¼‰å’Œå›¾ç‰‡ç›¸ä¼¼æ€§ï¼ˆhistogramï¼‰è®¡ç®—ä¸Šéƒ½æœ‰å®ƒçš„èº«å½±ã€‚éœ€è¦æ³¨æ„ä¸€ç‚¹çš„æ˜¯ï¼Œä½™å¼¦ç›¸ä¼¼åº¦å—åˆ°å‘é‡çš„å¹³ç§»å½±å“ï¼Œä¸Šå¼å¦‚æœå°† x å¹³ç§»åˆ° x+1, ä½™å¼¦å€¼å°±ä¼šæ”¹å˜ã€‚æ€æ ·æ‰èƒ½å®ç°å¹³ç§»ä¸å˜æ€§ï¼Ÿè¿™å°±æ˜¯ä¸‹é¢è¦è¯´çš„çš®å°”é€Šç›¸å…³ç³»æ•°ï¼ˆPearson correlationï¼‰ï¼Œæœ‰æ—¶å€™ä¹Ÿç›´æ¥å«ç›¸å…³ç³»æ•°: çš®å°”é€Šç›¸å…³ç³»æ•°å…·æœ‰å¹³ç§»ä¸å˜æ€§å’Œå°ºåº¦ä¸å˜æ€§ï¼Œè®¡ç®—å‡ºäº†ä¸¤ä¸ªå‘é‡ï¼ˆç»´åº¦ï¼‰çš„ç›¸å…³æ€§ã€‚ä¸è¿‡ï¼Œä¸€èˆ¬æˆ‘ä»¬åœ¨è°ˆè®ºç›¸å…³ç³»æ•°çš„æ—¶å€™ï¼Œå°† x ä¸ y å¯¹åº”ä½ç½®çš„ä¸¤ä¸ªæ•°å€¼çœ‹ä½œä¸€ä¸ªæ ·æœ¬ç‚¹ï¼Œçš®å°”é€Šç³»æ•°ç”¨æ¥è¡¨ç¤ºè¿™äº›æ ·æœ¬ç‚¹åˆ†å¸ƒçš„ç›¸å…³æ€§ã€‚ ç”±äºçš®å°”é€Šç³»æ•°å…·æœ‰çš„è‰¯å¥½æ€§è´¨ï¼Œåœ¨å„ä¸ªé¢†åŸŸéƒ½åº”ç”¨å¹¿æ³›ï¼Œä¾‹å¦‚ï¼Œåœ¨æ¨èç³»ç»Ÿæ ¹æ®ä¸ºæŸä¸€ç”¨æˆ·æŸ¥æ‰¾å–œå¥½ç›¸ä¼¼çš„ç”¨æˆ·,è¿›è€Œæä¾›æ¨èï¼Œä¼˜ç‚¹æ˜¯å¯ä»¥ä¸å—æ¯ä¸ªç”¨æˆ·è¯„åˆ†æ ‡å‡†ä¸åŒå’Œè§‚çœ‹å½±ç‰‡æ•°é‡ä¸ä¸€æ ·çš„å½±å“ã€‚ 3. åˆ†ç±»æ•°æ®ç‚¹é—´çš„è·ç¦»æ±‰æ˜è·ç¦»ï¼ˆHamming distanceï¼‰æ˜¯æŒ‡ï¼Œä¸¤ä¸ªç­‰é•¿å­—ç¬¦ä¸²s1ä¸s2ä¹‹é—´çš„æ±‰æ˜è·ç¦»å®šä¹‰ä¸ºå°†å…¶ä¸­ä¸€ä¸ªå˜ä¸ºå¦å¤–ä¸€ä¸ªæ‰€éœ€è¦ä½œçš„æœ€å°æ›¿æ¢æ¬¡æ•°ã€‚ä¸¾ä¸ªç»´åŸºç™¾ç§‘ä¸Šçš„ä¾‹å­ï¼š è¿˜å¯ä»¥ç”¨ç®€å•çš„_åŒ¹é…ç³»æ•°_æ¥è¡¨ç¤ºä¸¤ç‚¹ä¹‹é—´çš„ç›¸ä¼¼åº¦â€”â€”åŒ¹é…å­—ç¬¦æ•°/æ€»å­—ç¬¦æ•°ã€‚ åœ¨ä¸€äº›æƒ…å†µä¸‹ï¼ŒæŸäº›ç‰¹å®šçš„å€¼ç›¸ç­‰å¹¶ä¸èƒ½ä»£è¡¨ä»€ä¹ˆã€‚ä¸¾ä¸ªä¾‹å­ï¼Œç”¨ 1 è¡¨ç¤ºç”¨æˆ·çœ‹è¿‡è¯¥ç”µå½±ï¼Œç”¨ 0 è¡¨ç¤ºç”¨æˆ·æ²¡æœ‰çœ‹è¿‡ï¼Œé‚£ä¹ˆç”¨æˆ·çœ‹ç”µå½±çš„çš„ä¿¡æ¯å°±å¯ç”¨ 0,1 è¡¨ç¤ºæˆä¸€ä¸ªåºåˆ—ã€‚è€ƒè™‘åˆ°ç”µå½±åŸºæ•°éå¸¸åºå¤§ï¼Œç”¨æˆ·çœ‹è¿‡çš„ç”µå½±åªå å…¶ä¸­éå¸¸å°çš„ä¸€éƒ¨åˆ†ï¼Œå¦‚æœä¸¤ä¸ªç”¨æˆ·éƒ½æ²¡æœ‰çœ‹è¿‡æŸä¸€éƒ¨ç”µå½±ï¼ˆä¸¤ä¸ªéƒ½æ˜¯ 0ï¼‰ï¼Œå¹¶ä¸èƒ½è¯´æ˜ä¸¤è€…ç›¸ä¼¼ã€‚åè€Œè¨€ä¹‹ï¼Œå¦‚æœä¸¤ä¸ªç”¨æˆ·éƒ½çœ‹è¿‡æŸä¸€éƒ¨ç”µå½±ï¼ˆåºåˆ—ä¸­éƒ½æ˜¯ 1ï¼‰ï¼Œåˆ™è¯´æ˜ç”¨æˆ·æœ‰å¾ˆå¤§çš„ç›¸ä¼¼åº¦ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œåºåˆ—ä¸­ç­‰äº 1 æ‰€å çš„æƒé‡åº”è¯¥è¿œè¿œå¤§äº 0 çš„æƒé‡ï¼Œè¿™å°±å¼•å‡ºä¸‹é¢è¦è¯´çš„æ°å¡å¾·ç›¸ä¼¼ç³»æ•°ï¼ˆJaccard similarityï¼‰ã€‚ åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œç”¨ M11 è¡¨ç¤ºä¸¤ä¸ªç”¨æˆ·éƒ½çœ‹è¿‡çš„ç”µå½±æ•°ç›®ï¼ŒM10 è¡¨ç¤ºç”¨æˆ· A çœ‹è¿‡ï¼Œç”¨æˆ· B æ²¡çœ‹è¿‡çš„ç”µå½±æ•°ç›®ï¼ŒM01 è¡¨ç¤ºç”¨æˆ· A æ²¡çœ‹è¿‡ï¼Œç”¨æˆ· B çœ‹è¿‡çš„ç”µå½±æ•°ç›®ï¼ŒM00 è¡¨ç¤ºä¸¤ä¸ªç”¨æˆ·éƒ½æ²¡æœ‰çœ‹è¿‡çš„ç”µå½±æ•°ç›®ã€‚Jaccard ç›¸ä¼¼æ€§ç³»æ•°å¯ä»¥è¡¨ç¤ºä¸ºï¼š æ¦‚ç‡è®ºå’Œç»Ÿè®¡1.ç»Ÿè®¡é‡åæ–¹å·® Pearsonç›¸å…³ç³»æ•° åæ–¹å·®çŸ©é˜µ 2.ç‹¬ç«‹ä¸ä¸ç›¸å…³ 3.è´å¶æ–¯å…¬å¼å…ˆçœ‹çœ‹ä»€ä¹ˆæ˜¯â€œå…ˆéªŒæ¦‚ç‡â€å’Œâ€œåéªŒæ¦‚ç‡â€ï¼Œä»¥ä¸€ä¸ªä¾‹å­æ¥è¯´æ˜ï¼š å‡è®¾æŸç§ç—…åœ¨äººç¾¤ä¸­çš„å‘ç—…ç‡æ˜¯0.001ï¼Œå³1000äººä¸­å¤§æ¦‚ä¼šæœ‰1ä¸ªäººå¾—ç—…ï¼Œåˆ™æœ‰ï¼š P(æ‚£ç—…) = 0.1%ï¼›å³ï¼šåœ¨æ²¡æœ‰åšæ£€éªŒä¹‹å‰ï¼Œæˆ‘ä»¬é¢„è®¡çš„æ‚£ç—…ç‡ä¸ºP(æ‚£ç—…)=0.1%ï¼Œè¿™ä¸ªå°±å«ä½œâ€œå…ˆéªŒæ¦‚ç‡â€ã€‚ å†å‡è®¾ç°åœ¨æœ‰ä¸€ç§è¯¥ç—…çš„æ£€æµ‹æ–¹æ³•ï¼Œå…¶æ£€æµ‹çš„å‡†ç¡®ç‡ä¸º95%ï¼›å³ï¼šå¦‚æœçœŸçš„å¾—äº†è¿™ç§ç—…ï¼Œè¯¥æ£€æµ‹æ³•æœ‰95%çš„æ¦‚ç‡ä¼šæ£€æµ‹å‡ºé˜³æ€§ï¼Œä½†ä¹Ÿæœ‰5%çš„æ¦‚ç‡æ£€æµ‹å‡ºé˜´æ€§ï¼›æˆ–è€…åè¿‡æ¥è¯´ï¼Œä½†å¦‚æœæ²¡æœ‰å¾—ç—…ï¼Œé‡‡ç”¨è¯¥æ–¹æ³•æœ‰95%çš„æ¦‚ç‡æ£€æµ‹å‡ºé˜´æ€§ï¼Œä½†ä¹Ÿæœ‰5%çš„æ¦‚ç‡æ£€æµ‹ä¸ºé˜³æ€§ã€‚ç”¨æ¦‚ç‡æ¡ä»¶æ¦‚ç‡è¡¨ç¤ºå³ä¸ºï¼šP(æ˜¾ç¤ºé˜³æ€§|æ‚£ç—…)=95% ç°åœ¨æˆ‘ä»¬æƒ³çŸ¥é“çš„æ˜¯ï¼šåœ¨åšå®Œæ£€æµ‹æ˜¾ç¤ºä¸ºé˜³æ€§åï¼ŒæŸäººçš„æ‚£ç—…ç‡P(æ‚£ç—…|æ˜¾ç¤ºé˜³æ€§)ï¼Œè¿™ä¸ªå…¶å®å°±ç§°ä¸ºâ€œåéªŒæ¦‚ç‡â€ã€‚ è€Œè¿™ä¸ªå«è´å¶æ–¯çš„äººå…¶å®å°±æ˜¯ä¸ºæˆ‘ä»¬æä¾›äº†ä¸€ç§å¯ä»¥åˆ©ç”¨å…ˆéªŒæ¦‚ç‡è®¡ç®—åéªŒæ¦‚ç‡çš„æ–¹æ³•ï¼Œæˆ‘ä»¬å°†å…¶ç§°ä¸ºâ€œè´å¶æ–¯å…¬å¼â€ã€‚ è¿™é‡Œå…ˆäº†è§£æ¡ä»¶æ¦‚ç‡å…¬å¼ï¼š P\left( B|A \right)=\frac{P\left( AB \right)}{P\left( A \right)} , P\left( A|B \right)=\frac{P\left( AB \right)}{P\left( B \right)}ç”±æ¡ä»¶æ¦‚ç‡å¯ä»¥å¾—åˆ°ä¹˜æ³•å…¬å¼ï¼š P\left( AB \right)=P\left( B|A \right)P\left( A \right)=P\left( A|B \right)P\left( B \right)å°†æ¡ä»¶æ¦‚ç‡å…¬å¼å’Œä¹˜æ³•å…¬å¼ç»“åˆå¯ä»¥å¾—åˆ°ï¼š P\left( B|A \right)=\frac{P\left( A|B \right)\cdot P\left( B \right)}{P\left( A \right)}å†ç”±å…¨æ¦‚ç‡å…¬å¼ï¼š P\left( A \right)=\sum_{i=1}^{N}{P\left( A|B_{i} \right) \cdot P\left( B_{i}\right)}ä»£å…¥å¯ä»¥å¾—åˆ°è´å¶æ–¯å…¬å¼ï¼š P\left( B_{i}|A \right)=\frac{P\left( A|B_{i} \right)\cdot P\left( B_{i} \right)}{\sum_{i=1}^{N}{P\left( A|B_{i} \right) \cdot P\left( B_{i}\right)} }4.å¸¸è§åˆ†å¸ƒå‡½æ•°0-1åˆ†å¸ƒ0-1åˆ†å¸ƒæ˜¯å•ä¸ªäºŒå€¼å‹ç¦»æ•£éšæœºå˜é‡çš„åˆ†å¸ƒï¼Œå…¶æ¦‚ç‡åˆ†å¸ƒå‡½æ•°ä¸ºï¼š P\left( X=1 \right) =pP\left( X=0 \right) =1-på‡ ä½•åˆ†å¸ƒå‡ ä½•åˆ†å¸ƒæ˜¯ç¦»æ•£å‹æ¦‚ç‡åˆ†å¸ƒï¼Œå…¶å®šä¹‰ä¸ºï¼šåœ¨næ¬¡ä¼¯åŠªåˆ©è¯•éªŒä¸­ï¼Œè¯•éªŒkæ¬¡æ‰å¾—åˆ°ç¬¬ä¸€æ¬¡æˆåŠŸçš„æœºç‡ã€‚å³ï¼šå‰k-1æ¬¡çš†å¤±è´¥ï¼Œç¬¬kæ¬¡æˆåŠŸçš„æ¦‚ç‡ã€‚å…¶æ¦‚ç‡åˆ†å¸ƒå‡½æ•°ä¸ºï¼š P\left( X=k \right) =\left( 1-p \right) ^{k-1} pæ€§è´¨ï¼š\(E\left( X \right) =\frac{1}{p}\)\(Var\left( X \right) =\frac{1-p}{p^{2} }\) äºŒé¡¹åˆ†å¸ƒäºŒé¡¹åˆ†å¸ƒå³é‡å¤næ¬¡ä¼¯åŠªåˆ©è¯•éªŒï¼Œå„æ¬¡è¯•éªŒä¹‹é—´éƒ½ç›¸äº’ç‹¬ç«‹ï¼Œå¹¶ä¸”æ¯æ¬¡è¯•éªŒä¸­åªæœ‰ä¸¤ç§å¯èƒ½çš„ç»“æœï¼Œè€Œä¸”è¿™ä¸¤ç§ç»“æœå‘ç”Ÿä¸å¦ç›¸äº’å¯¹ç«‹ã€‚å¦‚æœæ¯æ¬¡è¯•éªŒæ—¶ï¼Œäº‹ä»¶å‘ç”Ÿçš„æ¦‚ç‡ä¸ºpï¼Œä¸å‘ç”Ÿçš„æ¦‚ç‡ä¸º1-pï¼Œåˆ™næ¬¡é‡å¤ç‹¬ç«‹è¯•éªŒä¸­å‘ç”Ÿkæ¬¡çš„æ¦‚ç‡ä¸ºï¼š P\left( X=k \right) =C_{n}^{k} p^{k} \left( 1-p \right) ^{n-k}æ€§è´¨ï¼š\(E\left( X \right) =np\)\(Var\left( X \right) =np\left( 1-p \right)\) é«˜æ–¯åˆ†å¸ƒé«˜æ–¯åˆ†å¸ƒåˆå«æ­£æ€åˆ†å¸ƒï¼Œå…¶æ›²çº¿å‘ˆé’Ÿå‹ï¼Œä¸¤å¤´ä½ï¼Œä¸­é—´é«˜ï¼Œå·¦å³å¯¹ç§°å› å…¶æ›²çº¿å‘ˆé’Ÿå½¢ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š è‹¥éšæœºå˜é‡Xæœä»ä¸€ä¸ªæ•°å­¦æœŸæœ›ä¸º\(\mu\)ï¼Œæ–¹å·®ä¸º\(\sigma ^{2}\)çš„æ­£æ€åˆ†å¸ƒï¼Œåˆ™æˆ‘ä»¬å°†å…¶è®°ä¸ºï¼š\(N\left( \mu ,\sigma^{2} \right)\)å†³å®šäº†æ­£æ€åˆ†å¸ƒçš„ä½ç½®ï¼Œå…¶æ ‡å‡†å·®\(\sigma\)ï¼ˆæ–¹å·®çš„å¼€æ–¹ï¼‰å†³å®šäº†æ­£æ€åˆ†å¸ƒçš„å¹…åº¦ã€‚ æŒ‡æ•°åˆ†å¸ƒæŒ‡æ•°åˆ†å¸ƒæ˜¯äº‹ä»¶çš„æ—¶é—´é—´éš”çš„æ¦‚ç‡ï¼Œå®ƒçš„ä¸€ä¸ªé‡è¦ç‰¹å¾æ˜¯æ— è®°å¿†æ€§ã€‚ä¾‹å¦‚ï¼šå¦‚æœæŸä¸€å…ƒä»¶çš„å¯¿å‘½çš„å¯¿å‘½ä¸ºTï¼Œå·²çŸ¥å…ƒä»¶ä½¿ç”¨äº†tå°æ—¶ï¼Œå®ƒæ€»å…±ä½¿ç”¨è‡³å°‘t+så°æ—¶çš„æ¡ä»¶æ¦‚ç‡ï¼Œä¸ä»å¼€å§‹ä½¿ç”¨æ—¶ç®—èµ·å®ƒä½¿ç”¨è‡³å°‘så°æ—¶çš„æ¦‚ç‡ç›¸ç­‰ã€‚ä¸‹é¢è¿™äº›éƒ½å±äºæŒ‡æ•°åˆ†å¸ƒï¼š å©´å„¿å‡ºç”Ÿçš„æ—¶é—´é—´éš” ç½‘ç«™è®¿é—®çš„æ—¶é—´é—´éš” å¥¶ç²‰é”€å”®çš„æ—¶é—´é—´éš” æŒ‡æ•°åˆ†å¸ƒçš„å…¬å¼å¯ä»¥ä»æ³Šæ¾åˆ†å¸ƒæ¨æ–­å‡ºæ¥ã€‚å¦‚æœä¸‹ä¸€ä¸ªå©´å„¿è¦é—´éš”æ—¶é—´tï¼Œå°±ç­‰åŒäºtä¹‹å†…æ²¡æœ‰ä»»ä½•å©´å„¿å‡ºç”Ÿï¼Œå³ï¼š P\left( X\geq t \right) =P\left( N\left( t \right) =0 \right) =\frac{\left( \lambda t \right) ^{0}\cdot e^{-\lambda t} }{0!}=e^{-\lambda t}åˆ™ï¼š P\left( X\leq t \right) =1-P\left( X\geq t \right) =1-e^{-\lambda t}å¦‚ï¼šæ¥ä¸‹æ¥15åˆ†é’Ÿï¼Œä¼šæœ‰å©´å„¿å‡ºç”Ÿçš„æ¦‚ç‡ä¸ºï¼š P\left( X\leq \frac{1}{4} \right) =1-e^{-3\cdot \frac{1}{4} } \approx 0.53 æ³Šæ¾åˆ†å¸ƒæ—¥å¸¸ç”Ÿæ´»ä¸­ï¼Œå¤§é‡äº‹ä»¶æ˜¯æœ‰å›ºå®šé¢‘ç‡çš„ï¼Œæ¯”å¦‚ï¼š æŸåŒ»é™¢å¹³å‡æ¯å°æ—¶å‡ºç”Ÿ3ä¸ªå©´å„¿ æŸç½‘ç«™å¹³å‡æ¯åˆ†é’Ÿæœ‰2æ¬¡è®¿é—® æŸè¶…å¸‚å¹³å‡æ¯å°æ—¶é”€å”®4åŒ…å¥¶ç²‰ å®ƒä»¬çš„ç‰¹ç‚¹å°±æ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥é¢„ä¼°è¿™äº›äº‹ä»¶çš„æ€»æ•°ï¼Œä½†æ˜¯æ²¡æ³•çŸ¥é“å…·ä½“çš„å‘ç”Ÿæ—¶é—´ã€‚å·²çŸ¥å¹³å‡æ¯å°æ—¶å‡ºç”Ÿ3ä¸ªå©´å„¿ï¼Œè¯·é—®ä¸‹ä¸€ä¸ªå°æ—¶ï¼Œä¼šå‡ºç”Ÿå‡ ä¸ªï¼Ÿæœ‰å¯èƒ½ä¸€ä¸‹å­å‡ºç”Ÿ6ä¸ªï¼Œä¹Ÿæœ‰å¯èƒ½ä¸€ä¸ªéƒ½ä¸å‡ºç”Ÿï¼Œè¿™æ˜¯æˆ‘ä»¬æ²¡æ³•çŸ¥é“çš„ã€‚ æ³Šæ¾åˆ†å¸ƒå°±æ˜¯æè¿°æŸæ®µæ—¶é—´å†…ï¼Œäº‹ä»¶å…·ä½“çš„å‘ç”Ÿæ¦‚ç‡ã€‚å…¶æ¦‚ç‡å‡½æ•°ä¸ºï¼š P\left( N\left( t \right) =n \right) =\frac{\left( \lambda t \right) ^{n}e^{-\lambda t} }{n!}å…¶ä¸­ï¼š Pè¡¨ç¤ºæ¦‚ç‡ï¼ŒNè¡¨ç¤ºæŸç§å‡½æ•°å…³ç³»ï¼Œtè¡¨ç¤ºæ—¶é—´ï¼Œnè¡¨ç¤ºæ•°é‡ï¼Œ1å°æ—¶å†…å‡ºç”Ÿ3ä¸ªå©´å„¿çš„æ¦‚ç‡ï¼Œå°±è¡¨ç¤ºä¸º P(N(1) = 3) ï¼›Î» è¡¨ç¤ºäº‹ä»¶çš„é¢‘ç‡ã€‚ è¿˜æ˜¯ä»¥ä¸Šé¢åŒ»é™¢å¹³å‡æ¯å°æ—¶å‡ºç”Ÿ3ä¸ªå©´å„¿ä¸ºä¾‹ï¼Œåˆ™\(\lambda =3\)ï¼› é‚£ä¹ˆï¼Œæ¥ä¸‹æ¥ä¸¤ä¸ªå°æ—¶ï¼Œä¸€ä¸ªå©´å„¿éƒ½ä¸å‡ºç”Ÿçš„æ¦‚ç‡å¯ä»¥æ±‚å¾—ä¸ºï¼š P\left( N\left(2 \right) =0 \right) =\frac{\left( 3\cdot 2 \right) ^{o} \cdot e^{-3\cdot 2} }{0!} \approx 0.0025åŒç†ï¼Œæˆ‘ä»¬å¯ä»¥æ±‚æ¥ä¸‹æ¥ä¸€ä¸ªå°æ—¶ï¼Œè‡³å°‘å‡ºç”Ÿä¸¤ä¸ªå©´å„¿çš„æ¦‚ç‡ï¼š P\left( N\left( 1 \right) \geq 2 \right) =1-P\left( N\left( 1 \right)=0 \right) - P\left( N\left( 1 \right)=1 \right)\approx 0.85.å¸¸è§çš„åˆ†å¸ƒæ€»ç»“ 6.æå¤§ä¼¼ç„¶ä¼°è®¡ï¼ˆMLEï¼‰æå¤§ä¼¼ç„¶ä¼°è®¡æ˜¯å»ºç«‹åœ¨è¿™æ ·çš„æ€æƒ³ä¸Šï¼šå·²çŸ¥æŸä¸ªå‚æ•°èƒ½ä½¿è¿™ä¸ªæ ·æœ¬å‡ºç°çš„æ¦‚ç‡æœ€å¤§ï¼Œæˆ‘ä»¬å½“ç„¶ä¸ä¼šå†å»é€‰æ‹©å…¶ä»–å°æ¦‚ç‡çš„æ ·æœ¬ï¼Œæ‰€ä»¥å¹²è„†å°±æŠŠè¿™ä¸ªå‚æ•°ä½œä¸ºä¼°è®¡çš„çœŸå®å€¼ã€‚ æ±‚æå¤§ä¼¼ç„¶å‡½æ•°ä¼°è®¡å€¼çš„ä¸€èˆ¬æ­¥éª¤ï¼š ï¼ˆ1ï¼‰ å†™å‡ºä¼¼ç„¶å‡½æ•°ï¼Œå³æ¯ä¸ªéšæœºå®éªŒå‡ºç°æ¦‚ç‡ç›¸ä¹˜ï¼Œä¸ºè¿™ä¸ªæŠ½æ ·å‡ºç°çš„æ¦‚ç‡ã€‚ï¼ˆ2ï¼‰ å¯¹ä¼¼ç„¶å‡½æ•°å–å¯¹æ•°ï¼Œä¸ºäº†æ–¹ä¾¿æ±‚å¯¼ï¼›ï¼ˆ3ï¼‰ å¯¹å‚æ•°æ±‚å¯¼æ•°ã€‚ï¼ˆ4ï¼‰ ä»¤å¯¼æ•°=0ï¼Œå³æ±‚è§£æå€¼ï¼Œç”±å®é™…æƒ…å†µçŸ¥ï¼Œè¯¥æå€¼ä¸ºæå¤§å€¼ã€‚è§£ä¼¼ç„¶æ–¹ç¨‹ã€‚ å¾®ç§¯åˆ†1.å¯¼æ•°ä¸æ¢¯åº¦ å¯¼æ•°ï¼šä¸€ä¸ªä¸€å…ƒå‡½æ•°å‡½æ•°åœ¨æŸä¸€ç‚¹çš„å¯¼æ•°æè¿°äº†è¿™ä¸ªå‡½æ•°åœ¨è¿™ä¸€ç‚¹é™„è¿‘çš„å˜åŒ–ç‡ã€‚ æ¢¯åº¦:å¤šå…ƒå‡½æ•°çš„å¯¼æ•°å°±æ˜¯æ¢¯åº¦ã€‚ ä¸€é˜¶å¯¼æ•°ï¼Œå³æ¢¯åº¦ï¼ˆgradientï¼‰ äºŒé˜¶å¯¼æ•°ï¼ŒHessiançŸ©é˜µ 2.æ³°å‹’å±•å¼€ ä¸€å…ƒå‡½æ•°çš„æ³°å‹’å±•å¼€ï¼š åŸºå°¼æŒ‡æ•°çš„å›¾åƒã€ç†µã€åˆ†ç±»è¯¯å·®ç‡ä¸‰è€…ä¹‹é—´çš„å…³ç³»ã€‚ 3.Lagrangeä¹˜å­æ³•å¯¹äºä¸€èˆ¬çš„æ±‚æå€¼é—®é¢˜æˆ‘ä»¬éƒ½çŸ¥é“ï¼Œæ±‚å¯¼ç­‰äº0å°±å¯ä»¥äº†ã€‚ä½†æ˜¯å¦‚æœæˆ‘ä»¬ä¸ä½†è¦æ±‚æå€¼ï¼Œè¿˜è¦æ±‚ä¸€ä¸ªæ»¡è¶³ä¸€å®šçº¦æŸæ¡ä»¶çš„æå€¼ï¼Œé‚£ä¹ˆæ­¤æ—¶å°±å¯ä»¥æ„é€ Lagrangeå‡½æ•°ï¼Œå…¶å®å°±æ˜¯æŠŠçº¦æŸé¡¹æ·»åŠ åˆ°åŸå‡½æ•°ä¸Šï¼Œç„¶åå¯¹æ„é€ çš„æ–°å‡½æ•°æ±‚å¯¼ã€‚ å¯¹äºä¸€ä¸ªè¦æ±‚æå€¼çš„å‡½æ•°\(f\left( x,y \right)\)ï¼Œå›¾ä¸Šçš„è“åœˆå°±æ˜¯è¿™ä¸ªå‡½æ•°çš„ç­‰é«˜å›¾ï¼Œå°±æ˜¯è¯´ \(f\left( x,y \right) =c_{1} ,c_{2} ,â€¦,c_{n}\)åˆ†åˆ«ä»£è¡¨ä¸åŒçš„æ•°å€¼(æ¯ä¸ªå€¼ä»£è¡¨ä¸€åœˆï¼Œç­‰é«˜å›¾)ï¼Œæˆ‘è¦æ‰¾åˆ°ä¸€ç»„\(\left( x,y \right)\)ï¼Œä½¿å®ƒçš„\(c_{i}\)å€¼è¶Šå¤§è¶Šå¥½ï¼Œä½†æ˜¯è¿™ç‚¹å¿…é¡»æ»¡è¶³çº¦æŸæ¡ä»¶\(g\left( x,y \right)\)ï¼ˆåœ¨é»„çº¿ä¸Šï¼‰ã€‚ ä¹Ÿå°±æ˜¯è¯´\(f(x,y)\)ç›¸åˆ‡ï¼Œæˆ–è€…è¯´å®ƒä»¬çš„æ¢¯åº¦â–½ \({f}\)å’Œâ–½\({g}\)å¹³è¡Œï¼Œå› æ­¤å®ƒä»¬çš„æ¢¯åº¦ï¼ˆåå¯¼ï¼‰æˆå€æ•°å…³ç³»ï¼›é‚£æˆ‘ä¹ˆå°±å‡è®¾ä¸º\(\lambda\)å€ï¼Œç„¶åæŠŠçº¦æŸæ¡ä»¶åŠ åˆ°åŸå‡½æ•°åå†å¯¹å®ƒæ±‚å¯¼ï¼Œå…¶å®å°±ç­‰äºæ»¡è¶³äº†ä¸‹å›¾ä¸Šçš„å¼å­ã€‚ åœ¨æ”¯æŒå‘é‡æœºæ¨¡å‹ï¼ˆSVMï¼‰çš„æ¨å¯¼ä¸­ä¸€æ­¥å¾ˆå…³é”®çš„å°±æ˜¯åˆ©ç”¨æ‹‰æ ¼æœ—æ—¥å¯¹å¶æ€§å°†åŸé—®é¢˜è½¬åŒ–ä¸ºå¯¹å¶é—®é¢˜ã€‚ ä¿¡æ¯è®º1.ä¿¡æ¯ç†µç†µçš„æ¦‚å¿µæœ€æ—©ç”±ç»Ÿè®¡çƒ­åŠ›å­¦å¼•å…¥ã€‚ ä¿¡æ¯ç†µæ˜¯ç”±ä¿¡æ¯è®ºä¹‹çˆ¶é¦™å†œæå‡ºæ¥çš„ï¼Œå®ƒç”¨äºéšæœºå˜é‡çš„ä¸ç¡®å®šæ€§åº¦é‡ï¼Œå…ˆä¸Šä¿¡æ¯ç†µçš„å…¬å¼ã€‚ ä¿¡æ¯æ˜¯ç”¨æ¥å‡å°‘éšæœºä¸ç¡®å®šæ€§çš„ä¸œè¥¿ï¼ˆå³ä¸ç¡®å®šæ€§çš„å‡å°‘ï¼‰ã€‚ æˆ‘ä»¬å¯ä»¥ç”¨log ( 1/P )æ¥è¡¡é‡ä¸ç¡®å®šæ€§ã€‚Pæ˜¯ä¸€ä»¶äº‹æƒ…å‘ç”Ÿçš„æ¦‚ç‡ï¼Œæ¦‚ç‡è¶Šå¤§ï¼Œä¸ç¡®å®šæ€§è¶Šå°ã€‚ å¯ä»¥çœ‹åˆ°ä¿¡æ¯ç†µçš„å…¬å¼ï¼Œå…¶å®å°±æ˜¯log ( 1/P )çš„æœŸæœ›ï¼Œå°±æ˜¯ä¸ç¡®å®šæ€§çš„æœŸæœ›ï¼Œå®ƒä»£è¡¨äº†ä¸€ä¸ªç³»ç»Ÿçš„ä¸ç¡®å®šæ€§ï¼Œä¿¡æ¯ç†µè¶Šå¤§ï¼Œä¸ç¡®å®šæ€§è¶Šå¤§ã€‚ æ³¨æ„è¿™ä¸ªå…¬å¼æœ‰ä¸ªé»˜è®¤å‰æï¼Œå°±æ˜¯Xåˆ†å¸ƒä¸‹çš„éšæœºå˜é‡xå½¼æ­¤ä¹‹é—´ç›¸äº’ç‹¬ç«‹ã€‚è¿˜æœ‰logçš„åº•é»˜è®¤ä¸º2ï¼Œå®é™…ä¸Šåº•æ˜¯å¤šå°‘éƒ½å¯ä»¥ï¼Œä½†æ˜¯åœ¨ä¿¡æ¯è®ºä¸­æˆ‘ä»¬ç»å¸¸è®¨è®ºçš„æ˜¯äºŒè¿›åˆ¶å’Œæ¯”ç‰¹ï¼Œæ‰€ä»¥ç”¨2ã€‚ ä¿¡æ¯ç†µåœ¨è”åˆæ¦‚ç‡åˆ†å¸ƒçš„è‡ªç„¶æ¨å¹¿ï¼Œå°±å¾—åˆ°äº†è”åˆç†µ å½“X, Yç›¸äº’ç‹¬ç«‹æ—¶ï¼ŒH(X, Y) = H(X) + H(Y) ä¿¡æ¯ç†µçš„å®ä¾‹è§£é‡Šä¸¾ä¸ªä¾‹å­è¯´æ˜ä¿¡æ¯ç†µçš„ä½œç”¨ã€‚ ä¾‹å­æ˜¯çŸ¥ä¹ä¸Šçœ‹æ¥çš„ï¼Œæˆ‘è§‰å¾—è®²çš„æŒºå¥½çš„ã€‚ æ¯”å¦‚èµŒé©¬æ¯”èµ›ï¼Œæœ‰4åŒ¹é©¬{ A, B, C, D}ï¼Œè·èƒœæ¦‚ç‡åˆ†åˆ«ä¸º{ 1/2, 1/4, 1/8, 1/8 }ï¼Œå°†å“ªä¸€åŒ¹é©¬è·èƒœè§†ä¸ºéšæœºå˜é‡Xå±äº { A, B, C, D } ã€‚ å‡å®šæˆ‘ä»¬éœ€è¦ç”¨å°½å¯èƒ½å°‘çš„äºŒå…ƒé—®é¢˜æ¥ç¡®å®šéšæœºå˜é‡ X çš„å–å€¼ã€‚ ä¾‹å¦‚ï¼Œé—®é¢˜1ï¼šAè·èƒœäº†å—ï¼Ÿ é—®é¢˜2ï¼šBè·èƒœäº†å—ï¼Ÿ é—®é¢˜3ï¼šCè·èƒœäº†å—ï¼Ÿ æœ€åæˆ‘ä»¬å¯ä»¥é€šè¿‡æœ€å¤š3ä¸ªäºŒå…ƒé—®é¢˜ï¼Œæ¥ç¡®å®šå–å€¼ã€‚ å¦‚æœX = Aï¼Œé‚£ä¹ˆéœ€è¦é—®1æ¬¡ï¼ˆé—®é¢˜1ï¼šæ˜¯ä¸æ˜¯Aï¼Ÿï¼‰ï¼Œæ¦‚ç‡ä¸º1/2 å¦‚æœX = Bï¼Œé‚£ä¹ˆéœ€è¦é—®2æ¬¡ï¼ˆé—®é¢˜1ï¼šæ˜¯ä¸æ˜¯Aï¼Ÿé—®é¢˜2ï¼šæ˜¯ä¸æ˜¯Bï¼Ÿï¼‰ï¼Œæ¦‚ç‡ä¸º1/4 å¦‚æœX = Cï¼Œé‚£ä¹ˆéœ€è¦é—®3æ¬¡ï¼ˆé—®é¢˜1ï¼Œé—®é¢˜2ï¼Œé—®é¢˜3ï¼‰ï¼Œæ¦‚ç‡ä¸º1/8 å¦‚æœX = Dï¼Œé‚£ä¹ˆéœ€è¦é—®3æ¬¡ï¼ˆé—®é¢˜1ï¼Œé—®é¢˜2ï¼Œé—®é¢˜3ï¼‰ï¼Œæ¦‚ç‡ä¸º1/8 é‚£ä¹ˆä¸ºç¡®å®šXå–å€¼çš„äºŒå…ƒé—®é¢˜çš„æ•°é‡ä¸º å›åˆ°ä¿¡æ¯ç†µçš„å®šä¹‰ï¼Œä¼šå‘ç°é€šè¿‡ä¹‹å‰çš„ä¿¡æ¯ç†µå…¬å¼ï¼Œç¥å¥‡åœ°å¾—åˆ°äº†ï¼š åœ¨äºŒè¿›åˆ¶è®¡ç®—æœºä¸­ï¼Œä¸€ä¸ªæ¯”ç‰¹ä¸º0æˆ–1ï¼Œå…¶å®å°±ä»£è¡¨äº†ä¸€ä¸ªäºŒå…ƒé—®é¢˜çš„å›ç­”ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨è®¡ç®—æœºä¸­ï¼Œæˆ‘ä»¬ç»™å“ªä¸€åŒ¹é©¬å¤ºå† è¿™ä¸ªäº‹ä»¶è¿›è¡Œç¼–ç ï¼Œæ‰€éœ€è¦çš„å¹³å‡ç é•¿ä¸º1.75ä¸ªæ¯”ç‰¹ã€‚ å¾ˆæ˜¾ç„¶ï¼Œä¸ºäº†å°½å¯èƒ½å‡å°‘ç é•¿ï¼Œæˆ‘ä»¬è¦ç»™å‘ç”Ÿæ¦‚ç‡ p(x)è¾ƒå¤§çš„äº‹ä»¶ï¼Œåˆ†é…è¾ƒçŸ­çš„ç é•¿ l(x)ã€‚è¿™ä¸ªé—®é¢˜æ·±å…¥è®¨è®ºï¼Œå¯ä»¥å¾—å‡ºéœå¤«æ›¼ç¼–ç çš„æ¦‚å¿µã€‚ éœå¤«æ›¼ç¼–ç å°±æ˜¯åˆ©ç”¨äº†è¿™ç§å¤§æ¦‚ç‡äº‹ä»¶åˆ†é…çŸ­ç çš„æ€æƒ³ï¼Œè€Œä¸”å¯ä»¥è¯æ˜è¿™ç§ç¼–ç æ–¹å¼æ˜¯æœ€ä¼˜çš„ã€‚æˆ‘ä»¬å¯ä»¥è¯æ˜ä¸Šè¿°ç°è±¡ï¼š ä¸ºäº†è·å¾—ä¿¡æ¯ç†µä¸º H(X) çš„éšæœºå˜é‡ X çš„ä¸€ä¸ªæ ·æœ¬ï¼Œå¹³å‡éœ€è¦æŠ›æ·å‡åŒ€ç¡¬å¸ï¼ˆæˆ–äºŒå…ƒé—®é¢˜ï¼‰ H(X)æ¬¡ï¼ˆå‚è€ƒçŒœèµ›é©¬é—®é¢˜çš„æ¡ˆä¾‹ï¼‰ ä¿¡æ¯ç†µæ˜¯æ•°æ®å‹ç¼©çš„ä¸€ä¸ªä¸´ç•Œå€¼ï¼ˆå‚è€ƒç é•¿éƒ¨åˆ†çš„æ¡ˆä¾‹ï¼‰ æ‰€ä»¥ï¼Œä¿¡æ¯ç†µH(X)å¯ä»¥çœ‹åšï¼Œå¯¹Xä¸­çš„æ ·æœ¬è¿›è¡Œç¼–ç æ‰€éœ€è¦çš„ç¼–ç é•¿åº¦çš„æœŸæœ›å€¼ã€‚ 2.ç›¸å¯¹ç†µ/äº¤å‰ç†µ/K-Læ•£åº¦è¿™é‡Œå¯ä»¥å¼•ç”³å‡ºäº¤å‰ç†µçš„ç†è§£ï¼Œç°åœ¨æœ‰ä¸¤ä¸ªåˆ†å¸ƒï¼ŒçœŸå®åˆ†å¸ƒpå’ŒéçœŸå®åˆ†å¸ƒqï¼Œæˆ‘ä»¬çš„æ ·æœ¬æ¥è‡ªçœŸå®åˆ†å¸ƒpã€‚ æŒ‰ç…§çœŸå®åˆ†å¸ƒpæ¥ç¼–ç æ ·æœ¬æ‰€éœ€çš„ç¼–ç é•¿åº¦çš„æœŸæœ›ä¸ºï¼Œè¿™å°±æ˜¯ä¸Šé¢è¯´çš„ä¿¡æ¯ç†µH( p ) æŒ‰ç…§ä¸çœŸå®åˆ†å¸ƒqæ¥ç¼–ç æ ·æœ¬æ‰€éœ€çš„ç¼–ç é•¿åº¦çš„æœŸæœ›ä¸ºï¼Œè¿™å°±æ˜¯æ‰€è°“çš„äº¤å‰ç†µH( p,q )äº¤å‰ç†µå’Œç†µï¼Œç›¸å½“äºï¼Œåæ–¹å·®å’Œæ–¹å·® è¿™é‡Œå¼•ç”³å‡ºKLæ•£åº¦D(p||q) = H(p,q) - H(p) = ï¼Œä¹Ÿå«åšç›¸å¯¹ç†µï¼Œå®ƒè¡¨ç¤ºä¸¤ä¸ªåˆ†å¸ƒçš„å·®å¼‚ï¼Œå·®å¼‚è¶Šå¤§ï¼Œç›¸å¯¹ç†µè¶Šå¤§ã€‚ æœºå™¨å­¦ä¹ ä¸­ï¼Œæˆ‘ä»¬ç”¨éçœŸå®åˆ†å¸ƒqå»é¢„æµ‹çœŸå®åˆ†å¸ƒpï¼Œå› ä¸ºçœŸå®åˆ†å¸ƒpæ˜¯å›ºå®šçš„ï¼ŒD(p||q) = H(p,q) - H(p) ä¸­ H(p) å›ºå®šï¼Œä¹Ÿå°±æ˜¯è¯´äº¤å‰ç†µH(p,q)è¶Šå¤§ï¼Œç›¸å¯¹ç†µD(p||q)è¶Šå¤§ï¼Œä¸¤ä¸ªåˆ†å¸ƒçš„å·®å¼‚è¶Šå¤§ã€‚ æ‰€ä»¥äº¤å‰ç†µç”¨æ¥åšæŸå¤±å‡½æ•°å°±æ˜¯è¿™ä¸ªé“ç†ï¼Œå®ƒè¡¡é‡äº†çœŸå®åˆ†å¸ƒå’Œé¢„æµ‹åˆ†å¸ƒçš„å·®å¼‚æ€§ã€‚ ç”¨å›¾åƒå½¢è±¡åŒ–çš„è¡¨ç¤ºäºŒè€…ä¹‹é—´çš„å…³ç³»å¯ä»¥å¦‚ä¸‹å›¾ï¼šä¸Šé¢æ˜¯qæ‰€å«çš„ä¿¡æ¯é‡/å¹³å‡ç¼–ç é•¿åº¦H(p)ç¬¬äºŒè¡Œæ˜¯cross-entropyï¼Œå³ç”¨qæ¥ç¼–ç pæ‰€å«çš„ä¿¡æ¯é‡/å¹³å‡ç¼–ç é•¿åº¦|æˆ–è€…ç§°ä¹‹ä¸ºqå¯¹pçš„cross-entropyç¬¬ä¸‰è¡Œæ˜¯ä¸Šé¢ä¸¤è€…ä¹‹é—´çš„å·®å€¼å³ä¸ºqå¯¹pçš„KLè·ç¦» ä»ç¼–ç çš„è§’åº¦ï¼Œå¯ä»¥è¿™æ ·ç®€å•æ€»ç»“ï¼Œä¿¡æ¯ç†µæ˜¯æœ€ä¼˜ç¼–ç ï¼ˆæœ€çŸ­çš„å¹³å‡ç é•¿ï¼‰ï¼Œäº¤å‰ç†µæ˜¯éæœ€ä¼˜ç¼–ç ï¼ˆå¤§äºæœ€çŸ­çš„å¹³å‡ç é•¿ï¼‰ï¼ŒKLæ•£åº¦æ˜¯ä¸¤è€…çš„å·®å¼‚ï¼ˆè·ç¦»æœ€ä¼˜ç¼–ç çš„å·®è·ï¼‰ã€‚ 3.äº’ä¿¡æ¯ï¼ˆä¿¡æ¯å¢ç›Šï¼‰äº’ä¿¡æ¯å°±æ˜¯ä¸€ä¸ªè”åˆåˆ†å¸ƒä¸­çš„ä¸¤ä¸ªä¿¡æ¯çš„çº ç¼ ç¨‹åº¦/æˆ–è€…å«ç›¸äº’å½±å“é‚£éƒ¨åˆ†çš„ä¿¡æ¯é‡ã€‚å†³ç­–æ ‘ä¸­çš„ä¿¡æ¯å¢ç›Šå°±æ˜¯äº’ä¿¡æ¯ï¼Œå†³ç­–æ ‘æ˜¯é‡‡ç”¨çš„ä¸Šé¢ç¬¬äºŒç§è®¡ç®—æ–¹æ³•ï¼Œå³æŠŠåˆ†ç±»çš„ä¸åŒç»“æœçœ‹æˆä¸åŒéšæœºäº‹ä»¶Yï¼Œç„¶åæŠŠå½“å‰é€‰æ‹©çš„ç‰¹å¾çœ‹æˆXï¼Œåˆ™ä¿¡æ¯å¢ç›Šå°±æ˜¯å½“å‰Yçš„ä¿¡æ¯ç†µå‡å»å·²çŸ¥Xæƒ…å†µä¸‹çš„ä¿¡æ¯ç†µã€‚ å¯ä»¥é€šè¿‡ç®€å•çš„è®¡ç®—å¾—åˆ°ï¼š H(X|Y) = H(X) - I(X, Y), äº’ä¿¡æ¯ä¸º0ï¼Œåˆ™éšæœºå˜é‡Xå’ŒYæ˜¯äº’ç›¸ç‹¬ç«‹çš„ã€‚ ä¿¡æ¯è®ºä¸æœºå™¨å­¦ä¹ çš„å…³ç³» ä¿¡æ¯è®ºè§†è§’ æœºå™¨å­¦ä¹ è§†è§’ æ¥å—ä¿¡å· ç‰¹å¾ ä¿¡æº æ ‡ç­¾ å¹³å‡äº’ä¿¡æ¯ ç‰¹å¾æœ‰æ•ˆæ€§åˆ†æ æœ€å¤§ç†µæ¨¡å‹ æå¤§ä¼¼ç„¶æ³• äº¤å‰ç†µ é€»è¾‘å›å½’æŸå¤±å‡½æ•° æœ€å¤§ç†µæ¨¡å‹æœ€å¤§ç†µæ¨¡å‹çš„åŸåˆ™ï¼š æ‰¿è®¤å·²çŸ¥äº‹ç‰©ï¼ˆçŸ¥è¯†ï¼‰ï¼› å¯¹æœªçŸ¥äº‹ç‰©ä¸åšä»»ä½•å‡è®¾ï¼Œæ²¡æœ‰ä»»ä½•åè§ã€‚ å¯¹ä¸€ä¸ªéšæœºäº‹ä»¶çš„æ¦‚ç‡åˆ†å¸ƒè¿›è¡Œé¢„æµ‹æ—¶ï¼Œæˆ‘ä»¬çš„é¢„æµ‹åº”å½“æ»¡è¶³å…¨éƒ¨å·²çŸ¥æ¡ä»¶ï¼Œè€Œå¯¹æœªçŸ¥çš„æƒ…å†µä¸è¦åšä»»ä½•ä¸»è§‚å‡è®¾ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ¦‚ç‡åˆ†å¸ƒæœ€å‡åŒ€ï¼Œé¢„æµ‹çš„é£é™©æœ€å°ã€‚ å› ä¸ºè¿™æ—¶æ¦‚ç‡åˆ†å¸ƒçš„ä¿¡æ¯ç†µæœ€å¤§ï¼Œæ‰€ä»¥äººä»¬æŠŠè¿™ç§æ¨¡å‹å«åšâ€œæœ€å¤§ç†µæ¨¡å‹â€ï¼ˆMaximum Entropyï¼‰ã€‚ Logisticå›å½’æ˜¯ç»Ÿè®¡å­¦ä¹ ä¸­çš„ç»å…¸åˆ†ç±»æ–¹æ³•ï¼Œå¯ä»¥ç”¨äºäºŒç±»åˆ†ç±»ä¹Ÿå¯ä»¥ç”¨äºå¤šç±»åˆ†ç±»ã€‚ æœ€å¤§ç†µæ¨¡å‹ç”±æœ€å¤§ç†µåŸç†æ¨å¯¼å‡ºæ¥ï¼Œæœ€å¤§ç†µåŸç†æ˜¯æ¦‚ç‡æ¨¡å‹å­¦ä¹ æˆ–ä¼°è®¡çš„ä¸€ä¸ªå‡†åˆ™ï¼Œæœ€å¤§ç†µåŸç†è®¤ä¸ºåœ¨æ‰€æœ‰å¯èƒ½çš„æ¦‚ç‡æ¨¡å‹çš„é›†åˆä¸­ï¼Œç†µæœ€å¤§çš„æ¨¡å‹æ˜¯æœ€å¥½çš„æ¨¡å‹ï¼Œæœ€å¤§ç†µæ¨¡å‹ä¹Ÿå¯ä»¥ç”¨äºäºŒç±»åˆ†ç±»å’Œå¤šç±»åˆ†ç±»ã€‚ Logisticå›å½’æ¨¡å‹ä¸æœ€å¤§ç†µæ¨¡å‹éƒ½å±äºå¯¹æ•°çº¿æ€§æ¨¡å‹ã€‚ é€»è¾‘å›å½’è·Ÿæœ€å¤§ç†µæ¨¡å‹æ²¡æœ‰æœ¬è´¨åŒºåˆ«ã€‚é€»è¾‘å›å½’æ˜¯æœ€å¤§ç†µå¯¹åº”ç±»åˆ«ä¸ºäºŒç±»æ—¶çš„ç‰¹æ®Šæƒ…å†µ æŒ‡æ•°ç°‡åˆ†å¸ƒçš„æœ€å¤§ç†µç­‰ä»·äºå…¶æŒ‡æ•°å½¢å¼çš„æœ€å¤§ä¼¼ç„¶ã€‚ äºŒé¡¹å¼åˆ†å¸ƒçš„æœ€å¤§ç†µè§£ç­‰ä»·äºäºŒé¡¹å¼æŒ‡æ•°å½¢å¼(sigmoid)çš„æœ€å¤§ä¼¼ç„¶ï¼›å¤šé¡¹å¼åˆ†å¸ƒçš„æœ€å¤§ç†µç­‰ä»·äºå¤šé¡¹å¼åˆ†å¸ƒæŒ‡æ•°å½¢å¼(softmax)çš„æœ€å¤§ä¼¼ç„¶ã€‚ ç†µæ€»ç»“ ç†µï¼šä¸ç¡®å®šæ€§çš„åº¦é‡ï¼› ä¼¼ç„¶ï¼šä¸çŸ¥è¯†çš„å»åˆç¨‹åº¦ï¼› æœ€å¤§ç†µæ¨¡å‹ï¼šå¯¹ä¸ç¡®å®šåº¦çš„æ— ååˆ†é…ï¼› æœ€å¤§ä¼¼ç„¶ä¼°è®¡ï¼šå¯¹çŸ¥è¯†çš„æ— åç†è§£ã€‚ 2.ä¸Šæº¢å’Œä¸‹æº¢åœ¨æ•°å­—è®¡ç®—æœºä¸Šå®ç°è¿ç»­æ•°å­¦çš„åŸºæœ¬å›°éš¾æ˜¯ï¼šæˆ‘ä»¬éœ€è¦é€šè¿‡æœ‰é™æ•°é‡çš„ä½æ¨¡å¼æ¥è¡¨ç¤ºæ— é™å¤šçš„å®æ•°ï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬åœ¨è®¡ç®—æœºä¸­è¡¨ç¤ºå®æ•°æ—¶å‡ ä¹éƒ½ä¼šå¼•å…¥ä¸€äº›è¿‘ä¼¼è¯¯å·®ã€‚åœ¨è®¸å¤šæƒ…å†µä¸‹ï¼Œè¿™ä»…ä»…æ˜¯èˆå…¥è¯¯å·®ã€‚å¦‚æœåœ¨ç†è®ºä¸Šå¯è¡Œçš„ç®—æ³•æ²¡æœ‰è¢«è®¾è®¡ä¸ºæœ€å°åŒ–èˆå…¥è¯¯å·®çš„ç´¯ç§¯ï¼Œå¯èƒ½ä¼šåœ¨å®è·µä¸­å¤±æ•ˆï¼Œå› æ­¤èˆå…¥è¯¯å·®æ˜¯æœ‰é—®é¢˜çš„ï¼Œç‰¹åˆ«æ˜¯åœ¨æŸäº›æ“ä½œå¤åˆæ—¶ã€‚ ä¸€ç§ç‰¹åˆ«æ¯ç­æ€§çš„èˆå…¥è¯¯å·®æ˜¯ä¸‹æº¢ã€‚å½“æ¥è¿‘é›¶çš„æ•°è¢«å››èˆäº”å…¥ä¸ºé›¶æ—¶å‘ç”Ÿä¸‹æº¢ã€‚è®¸å¤šå‡½æ•°ä¼šåœ¨å…¶å‚æ•°ä¸ºé›¶è€Œä¸æ˜¯ä¸€ä¸ªå¾ˆå°çš„æ­£æ•°æ—¶æ‰ä¼šè¡¨ç°å‡ºè´¨çš„ä¸åŒã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬é€šå¸¸è¦é¿å…è¢«é›¶é™¤ã€‚ å¦ä¸€ä¸ªæå…·ç ´ååŠ›çš„æ•°å€¼é”™è¯¯å½¢å¼æ˜¯ä¸Šæº¢(overflow)ã€‚å½“å¤§é‡çº§çš„æ•°è¢«è¿‘ä¼¼ä¸º\(\varpi\)æ—¶å‘ç”Ÿä¸Šæº¢ã€‚è¿›ä¸€æ­¥çš„è¿ç®—é€šå¸¸å°†è¿™äº›æ— é™å€¼å˜ä¸ºéæ•°å­—ã€‚ å¿…é¡»å¯¹ä¸Šæº¢å’Œä¸‹æº¢è¿›è¡Œæ•°å€¼ç¨³å®šçš„ä¸€ä¸ªä¾‹å­æ˜¯softmax å‡½æ•°ã€‚softmax å‡½æ•°ç»å¸¸ç”¨äºé¢„æµ‹ä¸multinoulliåˆ†å¸ƒç›¸å…³è”çš„æ¦‚ç‡ï¼Œå®šä¹‰ä¸ºï¼š softmax å‡½æ•°åœ¨å¤šåˆ†ç±»é—®é¢˜ä¸­éå¸¸å¸¸è§ã€‚è¿™ä¸ªå‡½æ•°çš„ä½œç”¨å°±æ˜¯ä½¿å¾—åœ¨è´Ÿæ— ç©·åˆ°0çš„åŒºé—´è¶‹å‘äº0ï¼Œåœ¨0åˆ°æ­£æ— ç©·çš„åŒºé—´è¶‹å‘äº1ã€‚ä¸Šé¢è¡¨è¾¾å¼å…¶å®æ˜¯å¤šåˆ†ç±»é—®é¢˜ä¸­è®¡ç®—æŸä¸ªæ ·æœ¬ \(x_{i}\) çš„ç±»åˆ«æ ‡ç­¾ \(y_{i}\)å±äºKä¸ªç±»åˆ«çš„æ¦‚ç‡ï¼Œæœ€ååˆ¤åˆ« \(y_{i}\)æ‰€å±ç±»åˆ«æ—¶å°±æ˜¯å°†å…¶å½’ä¸ºå¯¹åº”æ¦‚ç‡æœ€å¤§çš„é‚£ä¸€ä¸ªã€‚ å½“å¼ä¸­çš„\(w_{k} x_{i} +b\)éƒ½æ˜¯å¾ˆå°çš„è´Ÿæ•°æ—¶ï¼Œ\(e^{w_{k} x_{i} +b }\)å°±ä¼šå‘ç”Ÿä¸‹æº¢ï¼Œè¿™æ„å‘³ç€ä¸Šé¢å‡½æ•°çš„åˆ†æ¯ä¼šå˜æˆ0ï¼Œå¯¼è‡´ç»“æœæ˜¯æœªå®šçš„ï¼›åŒç†ï¼Œå½“å¼ä¸­çš„\(x_{w_{k} x_{i} +b}\)æ˜¯å¾ˆå¤§çš„æ­£æ•°æ—¶ï¼Œ\(e^{w_{k} x_{i} +b }\)å°±ä¼šå‘ç”Ÿä¸Šæº¢å¯¼è‡´ç»“æœæ˜¯æœªå®šçš„ã€‚ å‡¸ä¼˜åŒ–1.å‡¸é›†(Convex Sets)é›†åˆCæ˜¯å‡¸çš„ï¼Œå¦‚æœå¯¹äºæ‰€æœ‰çš„\(x,y\in C\)å’Œ\(\theta\in\mathbb{R},0\leq\theta\leq 1\)æœ‰ï¼š \theta x+(1-\theta)y\in Cå¯ä»¥è¿™æ ·ç†è§£ï¼šåœ¨é›†åˆCä¸­ä»»é€‰ä¸¤ç‚¹ï¼Œåœ¨è¿™ä¸¤ç‚¹çš„è¿çº¿ä¸Šçš„æ‰€æœ‰ç‚¹éƒ½å±äºé›†åˆCã€‚ 2.å‡¸å‡½æ•°(Convex Fuctions)å¦‚æœå‡½æ•°çš„å®šä¹‰åŸŸ\({\cal D}(f)\)æ˜¯ä¸€ä¸ªå‡¸é›†ï¼Œå¹¶ä¸”å¯¹äºæ‰€æœ‰çš„\(x,y\in {\cal D}(f)\)å’Œ\(\theta\in\mathbb{R},0\leq\theta\leq1\)ï¼Œéƒ½æœ‰ï¼š\(f(\theta x+(1-\theta)y)\leq\theta f(x)+(1-\theta)f(y)\) å‡¸å‡½æ•°çš„ä¸€é˜¶æ¡ä»¶ç›´è§‚ä¸Šå¯ä»¥è¿™æ ·ç†è§£ï¼Œåœ¨å‡½æ•°ä¸Šéšä¾¿æŒ‘ä¸€ä¸ªç‚¹ï¼Œè¯¥ç‚¹çš„åˆ‡çº¿å¿…ç„¶åœ¨å‡½æ•°çš„ä¸‹æ–¹ å‡¸æ€§è´¨çš„äºŒé˜¶æ¡ä»¶ ç´ç”Ÿä¸ç­‰å¼(Jensenâ€™s Inequality)å‡è®¾å‡¸å‡½æ•°çš„åŸºæœ¬å®šä¹‰ä¸º:\(f(\theta x+(1-\theta)y)\leq\theta f(x)+(1-\theta)f(y)\ \ \ \text{for} \ \ \ 0\leq\theta\leq1\)ä¸Šè¿°ç­‰å¼å¯ä»¥æ‰©å±•åˆ°å¤šä¸ªç‚¹:\(f\left(\sum_{i=1}^k\theta_ix_i\right)\leq\sum_{i=1}^k\theta_if(x_i)\ \ \ \text{for}\ \ \ \sum_{i=1}^k\theta_i=1,\theta_i\geq0 \ \ \forall i\)å†å°†ä¸Šè¿°ç­‰å¼æ‰©å±•åˆ°ç§¯åˆ†å½¢å¼:\(f\left(\int p(x)xdx\right)\leq\int p(x)f(x)dx\ \ \ \text{for}\ \ \ \int p(x)dx=1,p(x)\leq0\ \ \forall x\)ç”±äº\(p(x)\)ç§¯åˆ†ä¸º1ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠ\(p(x)\)çœ‹ä½œæ˜¯ä¸€ä¸ªæ¦‚ç‡å¯†åº¦å‡½æ•°ï¼Œæ‰€ä»¥å°šå±ç­‰å¼å¯ä»¥ç”¨ä»¥ä¸‹å½¢å¼è¡¨è¾¾ï¼š\(f(\mathbb{E}[x])\leq\mathbb{E}[f(x)]\)æœ€åä¸€æ¡ç­‰å¼å°±æ˜¯è‘—åçš„ç´ç”Ÿä¸ç­‰å¼ã€‚ 3.å‡¸ä¼˜åŒ–é—®é¢˜(Convex Optimization Problems)åœ¨å‡¸ä¼˜åŒ–é—®é¢˜ä¸­ï¼Œä¸€ä¸ªæœ€å…³é”®çš„ç‚¹å°±æ˜¯å¯¹äºä¸€ä¸ªå‡¸ä¼˜åŒ–é—®é¢˜ï¼Œæ‰€æœ‰çš„å±€éƒ¨æœ€ä¼˜è§£(locally optimal)éƒ½æ˜¯å…¨å±€æœ€ä¼˜è§£(globally optimal)ã€‚æœ€ä¼˜åŒ–çš„åŸºæœ¬æ•°å­¦æ¨¡å‹å¦‚ä¸‹ï¼š å®ƒæœ‰ä¸‰ä¸ªåŸºæœ¬è¦ç´ ï¼Œå³ï¼š è®¾è®¡å˜é‡ï¼šxæ˜¯ä¸€ä¸ªå®æ•°åŸŸèŒƒå›´å†…çš„nç»´å‘é‡ï¼Œè¢«ç§°ä¸ºå†³ç­–å˜é‡æˆ–é—®é¢˜çš„è§£ï¼› ç›®æ ‡å‡½æ•°ï¼šf(x)ä¸ºç›®æ ‡å‡½æ•°ï¼› çº¦æŸæ¡ä»¶ï¼š\(h_{i} \left( x \right) =0\)ç§°ä¸ºç­‰å¼çº¦æŸï¼Œ\(g_{i} \left( x \right) \leq 0\)ä¸ºä¸ç­‰å¼çº¦æŸï¼Œ\(i=0,1,2,â€¦â€¦\) 4.ç‰›é¡¿æ³•ç‰›é¡¿æ³•ä»‹ç»ç‰›é¡¿æ³•ä¹Ÿæ˜¯æ±‚è§£æ— çº¦æŸæœ€ä¼˜åŒ–é—®é¢˜å¸¸ç”¨çš„æ–¹æ³•ï¼Œæœ€å¤§çš„ä¼˜ç‚¹æ˜¯æ”¶æ•›é€Ÿåº¦å¿«ã€‚ ä»æœ¬è´¨ä¸Šå»çœ‹ï¼Œç‰›é¡¿æ³•æ˜¯äºŒé˜¶æ”¶æ•›ï¼Œæ¢¯åº¦ä¸‹é™æ˜¯ä¸€é˜¶æ”¶æ•›ï¼Œæ‰€ä»¥ç‰›é¡¿æ³•å°±æ›´å¿«ã€‚é€šä¿—åœ°è¯´ï¼Œæ¯”å¦‚ä½ æƒ³æ‰¾ä¸€æ¡æœ€çŸ­çš„è·¯å¾„èµ°åˆ°ä¸€ä¸ªç›†åœ°çš„æœ€åº•éƒ¨ï¼Œæ¢¯åº¦ä¸‹é™æ³• æ¯æ¬¡åªä»ä½ å½“å‰æ‰€å¤„ä½ç½®é€‰ä¸€ä¸ªå¡åº¦æœ€å¤§çš„æ–¹å‘èµ°ä¸€æ­¥ï¼Œç‰›é¡¿æ³•åœ¨é€‰æ‹©æ–¹å‘æ—¶ï¼Œä¸ä»…ä¼šè€ƒè™‘å¡åº¦æ˜¯å¦å¤Ÿå¤§ï¼Œè¿˜ä¼šè€ƒè™‘ä½ èµ°äº†ä¸€æ­¥ä¹‹åï¼Œå¡åº¦æ˜¯å¦ä¼šå˜å¾—æ›´å¤§ã€‚æ‰€ä»¥ï¼Œ å¯ä»¥è¯´ç‰›é¡¿æ³•æ¯”æ¢¯åº¦ä¸‹é™æ³•çœ‹å¾—æ›´è¿œä¸€ç‚¹ï¼Œèƒ½æ›´å¿«åœ°èµ°åˆ°æœ€åº•éƒ¨ã€‚ æˆ–è€…ä»å‡ ä½•ä¸Šè¯´ï¼Œç‰›é¡¿æ³•å°±æ˜¯ç”¨ä¸€ä¸ªäºŒæ¬¡æ›²é¢å»æ‹Ÿåˆä½ å½“å‰æ‰€å¤„ä½ç½®çš„å±€éƒ¨æ›²é¢ï¼Œè€Œæ¢¯åº¦ä¸‹é™æ³•æ˜¯ç”¨ä¸€ä¸ªå¹³é¢å»æ‹Ÿåˆå½“å‰çš„å±€éƒ¨æ›²é¢ï¼Œé€šå¸¸æƒ…å†µä¸‹ï¼ŒäºŒæ¬¡æ›²é¢çš„æ‹Ÿåˆä¼šæ¯”å¹³é¢æ›´å¥½ï¼Œæ‰€ä»¥ç‰›é¡¿æ³•é€‰æ‹©çš„ä¸‹é™è·¯å¾„ä¼šæ›´ç¬¦åˆçœŸå®çš„æœ€ä¼˜ä¸‹é™è·¯å¾„ã€‚ ç‰›é¡¿æ³•çš„æ¨å¯¼å°†ç›®æ ‡å‡½æ•°\(f\left( x \right)\) åœ¨\(x_{k}\)å¤„è¿›è¡ŒäºŒé˜¶æ³°å‹’å±•å¼€ï¼Œå¯å¾—ï¼š f\left( x \right) =f\left( x_{k} \right) +f^{'} \left( x_{k} \right) \left( x-x_{k} \right) +\frac{1}{2} f^{''}\left( x_{k} \right) \left( x-x_{k} \right) ^{2}å› ä¸ºç›®æ ‡å‡½æ•°\(f\left( x \right)\)æœ‰æå€¼çš„å¿…è¦æ¡ä»¶æ˜¯åœ¨æå€¼ç‚¹å¤„ä¸€é˜¶å¯¼æ•°ä¸º0ï¼Œå³ï¼š\(f^{â€˜} \left( x \right) =0\) æ‰€ä»¥å¯¹ä¸Šé¢çš„å±•å¼€å¼ä¸¤è¾¹åŒæ—¶æ±‚å¯¼ï¼ˆæ³¨æ„\({x}\)æ‰æ˜¯å˜é‡ï¼Œ\(x_{k}\)æ˜¯å¸¸é‡\(\Rightarrow f^{â€˜} \left( x_{k} \right) ,f^{â€˜â€™} \left( x_{k} \right)\)éƒ½æ˜¯å¸¸é‡ï¼‰ï¼Œå¹¶ä»¤\(f^{â€˜} \left( x \right) =0\)å¯å¾—ï¼š f^{'} \left( x_{k} \right) +f^{''} \left( x_{k} \right) \left( x-x_{k} \right) =0å³ï¼š x=x_{k} -\frac{f^{'} \left( x_{k} \right) }{f^{''} \left( x_{k} \right) }äºæ˜¯å¯ä»¥æ„é€ å¦‚ä¸‹çš„è¿­ä»£å…¬å¼ï¼š x_{k+1} =x_{k} -\frac{f^{'} \left( x_{k} \right) }{f^{''} \left( x_{k} \right) }è¿™æ ·ï¼Œæˆ‘ä»¬å°±å¯ä»¥åˆ©ç”¨è¯¥è¿­ä»£å¼ä¾æ¬¡äº§ç”Ÿçš„åºåˆ—é€æ¸é€¼è¿‘\(f\left( x \right)\)çš„æå°å€¼ç‚¹äº†ã€‚ ç‰›é¡¿æ³•çš„è¿­ä»£ç¤ºæ„å›¾å¦‚ä¸‹ï¼š ä¸Šé¢è®¨è®ºçš„æ˜¯2ç»´æƒ…å†µï¼Œé«˜ç»´æƒ…å†µçš„ç‰›é¡¿è¿­ä»£å…¬å¼æ˜¯ï¼š å¼ä¸­ï¼Œ â–½\({f}\)æ˜¯\(f\left( x \right)\)çš„æ¢¯åº¦ï¼Œå³ï¼š Hæ˜¯HessençŸ©é˜µï¼Œå³ï¼š ç‰›é¡¿æ³•çš„è¿‡ç¨‹ 1ã€ç»™å®šåˆå€¼\(x_{0} ]\)å’Œç²¾åº¦é˜ˆå€¼\(\varepsilon\)ï¼Œå¹¶ä»¤\(k=0\)ï¼› 2ã€è®¡ç®—\(x_{k}\)å’Œ\(H_{k}\)ï¼› 3ã€è‹¥\(\left| \left| g_{k} \right| \right| &lt;\varepsilon\)åˆ™åœæ­¢è¿­ä»£ï¼›å¦åˆ™ç¡®å®šæœç´¢æ–¹å‘ï¼š\(d_{k} =-H_{k}^{-1} \cdot g_{k}\)ï¼› 4ã€è®¡ç®—æ–°çš„è¿­ä»£ç‚¹ï¼š\(x_{k+1} =x_{k} +d_{k}\)ï¼› 5ã€ä»¤\(k=k+1\)ï¼Œè½¬è‡³2ã€‚ 5.é˜»å°¼ç‰›é¡¿æ³•å¼•å…¥æ³¨æ„åˆ°ï¼Œç‰›é¡¿æ³•çš„è¿­ä»£å…¬å¼ä¸­æ²¡æœ‰æ­¥é•¿å› å­ï¼Œæ˜¯å®šæ­¥é•¿è¿­ä»£ã€‚å¯¹äºéäºŒæ¬¡å‹ç›®æ ‡å‡½æ•°ï¼Œæœ‰æ—¶å€™ä¼šå‡ºç°\(f\left( x_{k+1} \right) &gt;f\left( x_{k} \right)\)çš„æƒ…å†µï¼Œè¿™è¡¨æ˜ï¼ŒåŸå§‹ç‰›é¡¿æ³•ä¸èƒ½ä¿è¯å‡½æ•°å€¼ç¨³å®šçš„ä¸‹é™ã€‚åœ¨ä¸¥é‡çš„æƒ…å†µä¸‹ç”šè‡³ä¼šé€ æˆåºåˆ—å‘æ•£è€Œå¯¼è‡´è®¡ç®—å¤±è´¥ã€‚ ä¸ºæ¶ˆé™¤è¿™ä¸€å¼Šç—…ï¼Œäººä»¬åˆæå‡ºé˜»å°¼ç‰›é¡¿æ³•ã€‚é˜»å°¼ç‰›é¡¿æ³•æ¯æ¬¡è¿­ä»£çš„æ–¹å‘ä»ç„¶æ˜¯\(x_{k}\)ï¼Œä½†æ¯æ¬¡è¿­ä»£ä¼šæ²¿æ­¤æ–¹å‘åšä¸€ç»´æœç´¢ï¼Œå¯»æ±‚æœ€ä¼˜çš„æ­¥é•¿å› å­\(\lambda _{k}\)ï¼Œå³ï¼š \(\lambda _{k} = minf\left( x_{k} +\lambda d_{k} \right)\) ç®—æ³•è¿‡ç¨‹ 1ã€ç»™å®šåˆå€¼\(x_{0}\)å’Œç²¾åº¦é˜ˆå€¼\(\varepsilon\)ï¼Œå¹¶ä»¤\(k=0\)ï¼› 2ã€è®¡ç®—\(g_{k}\)ï¼ˆ\(f\left( x \right)\)åœ¨\(x_{k}\)å¤„çš„æ¢¯åº¦å€¼ï¼‰å’Œ\(H_{k}\)ï¼› 3ã€è‹¥\(\left| \left| g_{k} \right| \right| &lt;\varepsilon\)åˆ™åœæ­¢è¿­ä»£ï¼›å¦åˆ™ç¡®å®šæœç´¢æ–¹å‘ï¼š\(d_{k} =-H_{k}^{-1} \cdot g_{k}\)ï¼› 4ã€åˆ©ç”¨\(d_{k} =-H_{k}^{-1} \cdot g_{k}\)å¾—åˆ°æ­¥é•¿\(\lambda _{k}\)ï¼Œå¹¶ä»¤\(x_{k+1} =x_{k} +\lambda _{k} d_{k}\) 5ã€ä»¤\(k=k+1\)ï¼Œè½¬è‡³2ã€‚ 6.æ‹Ÿç‰›é¡¿æ³•æ¦‚è¿°ç”±äºç‰›é¡¿æ³•æ¯ä¸€æ­¥éƒ½è¦æ±‚è§£ç›®æ ‡å‡½æ•°çš„HessençŸ©é˜µçš„é€†çŸ©é˜µï¼Œè®¡ç®—é‡æ¯”è¾ƒå¤§ï¼ˆæ±‚çŸ©é˜µçš„é€†è¿ç®—é‡æ¯”è¾ƒå¤§ï¼‰ï¼Œå› æ­¤æå‡ºä¸€ç§æ”¹è¿›æ–¹æ³•ï¼Œå³é€šè¿‡æ­£å®šçŸ©é˜µè¿‘ä¼¼ä»£æ›¿HessençŸ©é˜µçš„é€†çŸ©é˜µï¼Œç®€åŒ–è¿™ä¸€è®¡ç®—è¿‡ç¨‹ï¼Œæ”¹è¿›åçš„æ–¹æ³•ç§°ä¸ºæ‹Ÿç‰›é¡¿æ³•ã€‚ æ‹Ÿç‰›é¡¿æ³•çš„æ¨å¯¼å…ˆå°†ç›®æ ‡å‡½æ•°åœ¨\(x_{k+1}\)å¤„å±•å¼€ï¼Œå¾—åˆ°ï¼š f\left( x \right) =f\left( x_{k+1} \right) +f^{'} \left( x_{k+1} \right) \left( x-x_{k+1} \right) +\frac{1}{2} f^{''}\left( x_{k+1} \right) \left( x-x_{k+1} \right) ^{2}ä¸¤è¾¹åŒæ—¶å–æ¢¯åº¦ï¼Œå¾—ï¼š f^{'}\left( x \right) = f^{'} \left( x_{k+1} \right) +f^{''} \left( x_{k+1} \right) \left( x-x_{k+1} \right)å–ä¸Šå¼ä¸­çš„\(x=x_{k}\)ï¼Œå¾—ï¼š f^{'}\left( x_{k} \right) = f^{'} \left( x_{k+1} \right) +f^{''} \left( x_{k+1} \right) \left( x-x_{k+1} \right)å³ï¼š g_{k+1} -g_{k} =H_{k+1} \cdot \left( x_{k+1} -x_{k} \right)å¯å¾—ï¼š H_{k}^{-1} \cdot \left( g_{k+1} -g_{k} \right) =x_{k+1} -x_{k}ä¸Šé¢è¿™ä¸ªå¼å­ç§°ä¸ºâ€œæ‹Ÿç‰›é¡¿æ¡ä»¶â€ï¼Œç”±å®ƒæ¥å¯¹HessençŸ©é˜µåšçº¦æŸã€‚ è®¡ç®—å¤æ‚æ€§ä¸NPé—®é¢˜æ—¶é—´å¤æ‚åº¦è¡¨æ˜é—®é¢˜è§„æ¨¡æ‰©å¤§åï¼Œç¨‹åºéœ€è¦çš„æ—¶é—´é•¿åº¦å¢é•¿å¾—æœ‰å¤šå¿«ã€‚ç¨‹åºçš„æ—¶é—´å¤æ‚åº¦ä¸€èˆ¬å¯ä»¥åˆ†ä¸ºä¸¤ç§çº§åˆ«ï¼š å¤šé¡¹å¼çº§çš„å¤æ‚åº¦ï¼Œå¦‚O(1)ï¼ŒO(log(n))ã€Oï¼ˆn^aï¼‰ç­‰ï¼Œ éå¤šé¡¹å¼çº§çš„ï¼Œå¦‚O(a^n)ã€O(n!)ç­‰ã€‚åè€…çš„å¤æ‚åº¦è®¡ç®—æœºå¾€å¾€ä¸èƒ½æ‰¿å—ã€‚ çº¦åŒ–(Reducibility)ç®€å•çš„è¯´ï¼Œä¸€ä¸ªé—®é¢˜Aå¯ä»¥çº¦åŒ–ä¸ºé—®é¢˜Bçš„å«ä¹‰æ˜¯ï¼Œå¯ä»¥ç”¨é—®é¢˜Bçš„è§£æ³•è§£å†³é—®é¢˜Aã€‚ï¼ˆä¸ªäººæ„Ÿè§‰ä¹Ÿå°±æ˜¯è¯´ï¼Œé—®é¢˜Aæ˜¯Bçš„ä¸€ç§ç‰¹æ®Šæƒ…å†µã€‚ï¼‰æ ‡å‡†åŒ–çš„å®šä¹‰æ˜¯ï¼Œå¦‚æœèƒ½æ‰¾åˆ°ä¸€ä¸ªå˜åŒ–æ³•åˆ™ï¼Œå¯¹ä»»æ„ä¸€ä¸ªAç¨‹åºçš„è¾“å…¥ï¼Œéƒ½èƒ½æŒ‰ç…§è¿™ä¸ªæ³•åˆ™å˜æ¢æˆBç¨‹åºçš„è¾“å…¥ï¼Œä½¿ä¸¤ç¨‹åºçš„è¾“å‡ºç›¸åŒï¼Œé‚£ä¹ˆæˆ‘ä»¬è¯´ï¼Œé—®é¢˜Aå¯ä»¥çº¦åŒ–ä¸ºé—®é¢˜Bã€‚ ä¾‹å¦‚æ±‚è§£ä¸€å…ƒä¸€æ¬¡æ–¹ç¨‹è¿™ä¸ªé—®é¢˜å¯ä»¥çº¦åŒ–ä¸ºæ±‚è§£ä¸€å…ƒäºŒæ¬¡æ–¹ç¨‹ï¼Œå³å¯ä»¥ä»¤å¯¹åº”é¡¹ç³»æ•°ä¸å˜ï¼ŒäºŒæ¬¡é¡¹çš„ç³»æ•°ä¸º0ï¼Œå°†Açš„é—®é¢˜çš„è¾“å…¥å‚æ•°å¸¦å…¥åˆ°Bé—®é¢˜çš„æ±‚è§£ç¨‹åºå»æ±‚è§£ã€‚ å¦å¤–ï¼Œçº¦åŒ–è¿˜å…·æœ‰ä¼ é€’æ€§ï¼ŒAå¯ä»¥åŒ–çº¦ä¸ºBï¼ŒBå¯ä»¥çº¦åŒ–ä¸ºCï¼Œé‚£ä¹ˆAä¹Ÿå¯ä»¥çº¦åŒ–ä¸ºCã€‚ åŸºæœ¬æ¦‚å¿µP Problemå‡è®¾æœ‰ n ä¸ªæ•°è¦æ’åºã€‚ä¸€ä¸ªåˆçº§çš„å†’æ³¡æ’åºç®—æ³•æ‰€éœ€æ—¶é—´å¯èƒ½ä¸ n2 æˆæ­£æ¯”ï¼Œå¿«ä¸€ç‚¹çš„ç®—æ³•æ‰€éœ€æ—¶é—´ä¸ nlogï¼ˆnï¼‰ æˆæ­£æ¯”ã€‚åœ¨æŸäº›æ¡ä»¶ä¸‹ï¼Œæ¡¶æ’åºç®—æ³•æ‰€éœ€æ—¶é—´ç”šè‡³åªå’Œ n æˆæ­£æ¯”ã€‚æœ€ä¸å®ç”¨çš„ç®—æ³•å°±æ˜¯è¾“å…¥çš„æ•°å­—éšæœºæ’åˆ—ï¼Œç›´åˆ°å‡ºç°å®Œå…¨æœ‰åºçš„æƒ…å†µä¸ºæ­¢â€¦â€¦è®°å‰ä¸‰ä¸ªç®—æ³•çš„æ—¶é—´å¤æ‚åº¦åˆ†åˆ«è®°ä¸º O(n2)ã€O(nlogn) å’Œ O(n)ï¼Œæœ€åçš„â€œçŒ´å­æ’åºâ€(Bogosort)ç®—æ³•å¹³å‡æ—¶é—´å¤æ‚åº¦åˆ™è¾¾åˆ°äº† O(n*n!)ã€‚ åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œå‰ä¸‰ç§ç®—æ³•çš„å¤æ‚åº¦æ˜¯ n çš„å¤šé¡¹å¼å‡½æ•°ï¼›æœ€åä¸€ç§ç®—æ³•çš„å¤æ‚åº¦æ˜¯ n çš„é˜¶ä¹˜ï¼Œæ ¹æ®æ–¯ç‰¹æ—å…¬å¼ï¼Œn! ç›¸å½“äºæŒ‡æ•°çº§åˆ«çš„å¢é•¿ã€‚å½“ n ç‰¹åˆ«å°æ—¶ï¼Œå¤šé¡¹å¼çº§çš„ç®—æ³•å·²ç»å¿«è¿‡æŒ‡æ•°çº§çš„ç®—æ³•ã€‚å½“ n éå¸¸å¤§æ—¶ï¼Œäººç±»æ ¹æœ¬çœ‹ä¸åˆ°æŒ‡æ•°çº§å¤æ‚åº¦ç®—æ³•ç»“æŸçš„é‚£å¤©ã€‚è‡ªç„¶çš„ï¼Œå¤§å®¶ä¼šå¯¹å¤šé¡¹å¼çº§åˆ«çš„ç®—æ³•æŠ±æœ‰å¥½æ„Ÿï¼Œå¸Œæœ›å¯¹æ¯ä¸€ä¸ªé—®é¢˜éƒ½èƒ½æ‰¾åˆ°å¤šé¡¹å¼çº§åˆ«çš„ç®—æ³•ã€‚é—®é¢˜æ˜¯â€”â€”æ¯ä¸ªé—®é¢˜éƒ½èƒ½æ‰¾åˆ°æƒ³è¦çš„å¤šé¡¹å¼çº§åˆ«çš„ç®—æ³•å—ï¼Ÿ åœ¨ä¸€ä¸ªç”±é—®é¢˜æ„æˆçš„é›†åˆä¸­ï¼Œå¦‚æœæ¯ä¸ªé—®é¢˜éƒ½å­˜åœ¨å¤šé¡¹å¼çº§å¤æ‚åº¦çš„ç®—æ³•ï¼Œè¿™ä¸ªé›†åˆå°±æ˜¯ P ç±»é—®é¢˜ï¼ˆPolynomialï¼‰ã€‚ NP (Nondeterministic Polynomial)é—®é¢˜NP ç±»é—®é¢˜æŒ‡çš„æ˜¯ï¼Œèƒ½åœ¨å¤šé¡¹å¼æ—¶é—´å†…æ£€éªŒä¸€ä¸ªè§£æ˜¯å¦æ­£ç¡®çš„é—®é¢˜ã€‚æ¯”å¦‚æˆ‘çš„æœºå™¨ä¸Šå­˜æœ‰ä¸€ä¸ªå¯†ç æ–‡ä»¶ï¼Œäºæ˜¯å°±èƒ½åœ¨å¤šé¡¹å¼æ—¶é—´å†…éªŒè¯å¦ä¸€ä¸ªå­—ç¬¦ä¸²æ–‡ä»¶æ˜¯å¦ç­‰äºè¿™ä¸ªå¯†ç ï¼Œæ‰€ä»¥â€œç ´è¯‘å¯†ç â€æ˜¯ä¸€ä¸ª NP ç±»é—®é¢˜ã€‚NP ç±»é—®é¢˜ä¹Ÿç­‰ä»·ä¸ºèƒ½åœ¨å¤šé¡¹å¼æ—¶é—´å†…çŒœå‡ºä¸€ä¸ªè§£çš„é—®é¢˜ã€‚è¿™é‡Œçš„â€œçŒœâ€æŒ‡çš„æ˜¯å¦‚æœæœ‰è§£ï¼Œé‚£æ¯æ¬¡éƒ½èƒ½åœ¨å¾ˆå¤šç§å¯èƒ½çš„é€‰æ‹©ä¸­è¿æ°”æä½³åœ°é€‰æ‹©æ­£ç¡®çš„ä¸€æ­¥ã€‚ ä¸å¦¨ä¸¾ä¸ªä¾‹å­ï¼šç»™å‡º n ä¸ªåŸå¸‚å’Œä¸¤ä¸¤ä¹‹é—´çš„è·ç¦»ï¼Œæ±‚æ‰¾åˆ°ä¸€ä¸ªè¡Œèµ°æ–¹æ¡ˆï¼Œä½¿å¾—åˆ°è¾¾æ¯ä¸ªåŸå¸‚ä¸€æ¬¡çš„æ€»è·¯ç¨‹æœ€çŸ­ã€‚æˆ‘ä»¬å¯ä»¥è¿™æ ·æ¥â€œçŒœæµ‹â€å®ƒçš„è§£ï¼šå…ˆæ±‚ä¸€ä¸ªæ€»è·¯ç¨‹ä¸è¶…è¿‡ 100 çš„æ–¹æ¡ˆï¼Œå‡è®¾æˆ‘ä»¬å¯ä»¥ä¾é æå¥½çš„è¿æ°”â€œçŒœå‡ºâ€ä¸€ä¸ªè¡Œèµ°è·¯çº¿ï¼Œä½¿å¾—æ€»é•¿åº¦ç¡®å®ä¸è¶…è¿‡ 100ï¼Œé‚£ä¹ˆæˆ‘ä»¬åªéœ€è¦æ¯æ¬¡çŒœä¸€æ¡è·¯ä¸€å…±çŒœ n æ¬¡ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬å†æ‰¾æ€»é•¿åº¦ä¸è¶…è¿‡ 50 çš„æ–¹æ¡ˆï¼Œæ‰¾ä¸åˆ°å°±å°†é˜ˆå€¼æé«˜åˆ°75â€¦â€¦ å‡è®¾æœ€åæ‰¾åˆ°äº†æ€»é•¿åº¦ä¸º 90 çš„æ–¹æ¡ˆï¼Œè€Œæ‰¾ä¸åˆ°æ€»é•¿åº¦å°äº 90 çš„æ–¹æ¡ˆã€‚æˆ‘ä»¬æœ€ç»ˆä¾¿åœ¨å¤šé¡¹å¼æ—¶é—´å†…â€œçŒœâ€åˆ°äº†è¿™ä¸ªæ—…è¡Œå•†é—®é¢˜çš„è§£æ˜¯ä¸€ä¸ªé•¿åº¦ä¸º 90 çš„è·¯çº¿ã€‚å®ƒæ˜¯ä¸€ä¸ª NP ç±»çš„é—®é¢˜ã€‚ ä¹Ÿå°±æ˜¯è¯´ï¼ŒNP é—®é¢˜èƒ½åœ¨å¤šé¡¹å¼æ—¶é—´å†…â€œè§£å†³â€ï¼Œåªä¸è¿‡éœ€è¦å¥½è¿æ°”ã€‚æ˜¾ç„¶ï¼ŒP ç±»é—®é¢˜è‚¯å®šå±äº NP ç±»é—®é¢˜ã€‚æ‰€è°“â€œP=NPâ€ï¼Œå°±æ˜¯é—®â€”â€”æ˜¯ä¸æ˜¯æ‰€æœ‰çš„ NP é—®é¢˜ï¼Œéƒ½èƒ½æ‰¾åˆ°å¤šé¡¹å¼æ—¶é—´çš„ç¡®å®šæ€§ç®—æ³•ï¼Ÿ NPC Problemåœ¨ä¸æ•°ä¸å°½çš„é—®é¢˜ææ–—çš„è¿‡ç¨‹ä¸­ï¼Œäººä»¬æœ‰æ—¶å€™ä¼šå‘ç°ï¼Œè§£å†³é—®é¢˜ A çš„ç®—æ³•å¯ä»¥åŒæ—¶ç”¨æ¥è§£å†³é—®é¢˜ Bã€‚ä¾‹å¦‚é—®é¢˜ A æ˜¯å¯¹å­¦ç”Ÿçš„å§“åä¸æ‰€å±ç­çº§åŒæ—¶æ’åºï¼Œé—®é¢˜ B æ˜¯å¯¹äººä»¬æŒ‰ç…§å§“ååšæ’åºã€‚è¿™æ—¶å€™ï¼Œæˆ‘ä»¬åªéœ€è¦è®©ç­çº§å…¨éƒ½ç›¸åŒï¼Œä¾¿èƒ½ç…§æ¬é—®é¢˜ A çš„ç®—æ³•æ¥è§£å†³é—®é¢˜ Bã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œæ•°å­¦å®¶å°±è¯´ï¼Œé—®é¢˜ B èƒ½å½’çº¦ä¸ºé—®é¢˜ Aã€‚ äººä»¬å‘ç°ï¼Œä¸åŒçš„ NP é—®é¢˜ä¹‹é—´ä¹Ÿä¼šå‡ºç°å¯å½’çº¦çš„å…³ç³»ï¼Œç”šè‡³å­˜åœ¨è¿™ä¹ˆä¸€ç±»ï¼ˆä¸åªæ˜¯ä¸€ä¸ªï¼‰é—®é¢˜ï¼Œä½¿å¾—ä»»ä½•å…¶å®ƒçš„ NP é—®é¢˜éƒ½èƒ½å½’çº¦åˆ°å®ƒä»¬ä¸Šã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œèƒ½å¤Ÿè§£å†³å®ƒä»¬çš„ç®—æ³•å°±èƒ½å¤Ÿè§£å†³æ‰€æœ‰å…¶å®ƒçš„ NP é—®é¢˜ã€‚è¿™ä¸€ç±»é—®é¢˜å°±æ˜¯ NPC é—®é¢˜ã€‚è¿™æ ·çš„é—®é¢˜äººä»¬å·²ç»æ‰¾åˆ°äº†å‡ åƒä¸ªï¼Œå¦‚æœæˆ‘ä»¬ç»™å…¶ä¸­ä»»ä½•ä¸€ä¸ªæ‰¾åˆ°äº†å¤šé¡¹å¼çº§åˆ«çš„ç®—æ³•ï¼Œå°±ç›¸å½“äºè¯æ˜äº† P=NPã€‚ ä½†NPCé—®é¢˜ç›®å‰æ²¡æœ‰å¤šé¡¹å¼çš„æœ‰æ•ˆç®—æ³•ï¼Œåªèƒ½ç”¨æŒ‡æ•°çº§ç”šè‡³é˜¶ä¹˜çº§å¤æ‚åº¦çš„æœç´¢ã€‚ P=NPï¼Ÿè¯æ˜ P=NP çš„ä¸€ä¸ªä¸»è¦æ–¹æ³•å°±æ˜¯ï¼Œç»™æŸä¸€ä¸ª NPC é—®é¢˜æ‰¾åˆ°ä¸€ä¸ªå¿«é€Ÿç®—æ³•ã€‚ä½†æ˜¯ï¼Œä¹Ÿä¸æ’é™¤æœ‰äººç»™å‡ºä¸€ä¸ªâ€œå­˜åœ¨æ€§â€è€Œéâ€œæ„é€ æ€§â€çš„è¯æ˜ï¼Œåªæ˜¯å‘Šè¯‰å¤§å®¶å­˜åœ¨ç¬¦åˆè¦æ±‚çš„ç®—æ³•ï¼Œä½†æ²¡æ³•è¯¦ç»†æè¿°å‡ºæ¥ã€‚å¦‚æœ P=NP è¢«äººä»¥è¿™ç§æ–¹å¼è¯æ˜å‡ºæ¥äº†ï¼Œæˆ‘ä»¬ä¹Ÿæ²¡æ³•ä¾è‘«èŠ¦ç”»ç“¢åœ°æŠŠè¿™ä¸ªç¥å¥‡çš„ç®—æ³•åœ¨ç”µè„‘ä¸Šå†™å‡ºæ¥ï¼Œæ‰€ä»¥å¯¹ç ´è§£å¯†ç ä»ç„¶æ²¡æœ‰å¸®åŠ©ã€‚ é€€ä¸€æ­¥è¯´ï¼Œå‡å¦‚æœ‰äººæ„é€ å‡ºå¯ä»¥è¿ç”¨çš„å¤šé¡¹å¼ç®—æ³•ï¼Œä»¥æ­¤è¯æ˜äº†è¿™ä¸ªé—®é¢˜ã€‚è¿™ä¸ªç®—æ³•ææ€•ä¹Ÿå¾ˆå¤æ‚ï¼ˆæ¯•ç«Ÿè¿™ä¹ˆéš¾æ‰¾ï¼‰ï¼Œå®ƒçš„å¤šé¡¹å¼çº§åˆ«çš„å¤æ‚åº¦ä¹Ÿå¯èƒ½ä¼šéå¸¸æ…¢ã€‚å‡è®¾è¿™ä¸ªç®—æ³•çš„å¤æ‚åº¦è¾¾åˆ°äº† O(n10)ï¼Œé‚£æˆ‘ä»¬ä¾ç„¶é¢ä¸´ç€ä¸å°çš„éº»çƒ¦ã€‚å³ä½¿ n=100ï¼Œè¿ç®—æ—¶é—´ä¹Ÿä¼šå¢é•¿åˆ°éå¸¸å·¨å¤§çš„åœ°æ­¥ã€‚ å†é€€ä¸€æ­¥ï¼Œå‡è®¾äººç±»çš„è¿æ°”å¥½åˆ° P=NP æ˜¯çœŸçš„ï¼Œå¹¶ä¸”æ‰¾åˆ°äº†å¤æ‚åº¦ä¸è¶…è¿‡ O(n3) çš„ç®—æ³•ã€‚å¦‚æœåˆ°äº†è¿™ä¸€æ­¥ï¼Œæˆ‘ä»¬å°±ä¼šæœ‰ä¸€ä¸ªç®—æ³•ï¼Œèƒ½å¤Ÿå¾ˆå¿«ç®—å‡ºæŸä¸ªå¸å·çš„å¯†ç ã€‚ã€ŠåŸºæœ¬æ¼”ç»æ³•ã€‹é‡Œé¢æ‰€æƒ³è±¡çš„å¯èƒ½å°±è¦æˆçœŸäº†ï¼Œæ‰€æœ‰çš„åŠ å¯†ç³»ç»Ÿéƒ½ä¼šå¤±å»æ•ˆæœâ€”â€”åº”è¯¥è¯´ï¼Œæ‰€æœ‰ä¼šæŠŠå¯†ç å˜æˆæ•°å­—ä¿¡æ¯çš„ç³»ç»Ÿéƒ½ä¼šå¤±å»æ•ˆæœï¼Œå› ä¸ºè¿™ä¸ªæ•°å­—ä¸²å¾ˆå®¹æ˜“è¢«â€œé‡‘é’¥åŒ™â€è®¡ç®—å‡ºæ¥ã€‚ é™¤æ­¤ä¹‹å¤–ï¼Œæˆ‘ä»¬éœ€è¦æ‹…å¿ƒæˆ–æœŸè®¸çš„äº‹æƒ…è¿˜æœ‰å¾ˆå¤šï¼š ä¸€å¤§æ‰¹è€³ç†Ÿèƒ½è¯¦çš„æ¸¸æˆï¼Œå¦‚æ‰«é›·ã€ä¿„ç½—æ–¯æ–¹å—ã€è¶…çº§ç›ä¸½ç­‰ï¼Œäººä»¬å°†ä¸ºå®ƒä»¬ç¼–å†™å‡ºé«˜æ•ˆçš„AIï¼Œä½¿å¾—ç”µè„‘ç©æ¸¸æˆçš„æ°´å¹³æ— äººèƒ½åŠã€‚ æ•´æ•°è§„åˆ’ã€æ—…è¡Œå•†é—®é¢˜ç­‰è®¸å¤šè¿ç­¹å­¦ä¸­çš„éš¾é¢˜ä¼šè¢«é«˜æ•ˆåœ°è§£å†³ï¼Œè¿™ä¸ªæ–¹å‘çš„ç ”ç©¶å°†æå‡åˆ°å‰æ‰€æœªæœ‰çš„é«˜åº¦ã€‚ è›‹ç™½è´¨çš„æŠ˜å é—®é¢˜ä¹Ÿæ˜¯ä¸€ä¸ª NPC é—®é¢˜ï¼Œæ–°çš„ç®—æ³•æ— ç–‘æ˜¯ç”Ÿç‰©ä¸åŒ»å­¦ç•Œçš„ä¸€ä¸ªç¦éŸ³ã€‚ å‚è€ƒæ–‡çŒ®ï¼šhttp://www.junnanzhu.com/?p=141https://www.zybuluo.com/frank-shaw/note/139175http://colah.github.io/posts/2015-09-Visual-Information/https://www.guokr.com/article/437662/https://www.zhihu.com/question/22178202]]></content>
      <categories>
        <category>æœºå™¨å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>æœºå™¨å­¦ä¹ </tag>
        <tag>æ·±åº¦å­¦ä¹ </tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æœºå™¨å­¦ä¹ åŸºç¡€ï¼ˆä¸€ï¼‰]]></title>
    <url>%2F2018%2F05%2F18%2F%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E5%9F%BA%E7%A1%80%2F</url>
    <content type="text"><![CDATA[ä»ITæ—¶ä»£èµ°å‘DTæ—¶ä»£ æœºå™¨å­¦ä¹ åº”ç”¨1ã€è®¡ç®—æœºè§†è§‰å…¸å‹çš„åº”ç”¨åŒ…æ‹¬ï¼šäººè„¸è¯†åˆ«ã€è½¦ç‰Œè¯†åˆ«ã€æ‰«ææ–‡å­—è¯†åˆ«ã€å›¾ç‰‡å†…å®¹è¯†åˆ«ã€å›¾ç‰‡æœç´¢ç­‰ç­‰ã€‚ 2ã€è‡ªç„¶è¯­è¨€å¤„ç†å…¸å‹çš„åº”ç”¨åŒ…æ‹¬ï¼šæœç´¢å¼•æ“æ™ºèƒ½åŒ¹é…ã€æ–‡æœ¬å†…å®¹ç†è§£ã€æ–‡æœ¬æƒ…ç»ªåˆ¤æ–­ï¼Œè¯­éŸ³è¯†åˆ«ã€è¾“å…¥æ³•ã€æœºå™¨ç¿»è¯‘ç­‰ç­‰ã€‚ 3ã€ç¤¾ä¼šç½‘ç»œåˆ†æå…¸å‹çš„åº”ç”¨åŒ…æ‹¬ï¼šç”¨æˆ·ç”»åƒã€ç½‘ç»œå…³è”åˆ†æã€æ¬ºè¯ˆä½œå¼Šå‘ç°ã€çƒ­ç‚¹å‘ç°ç­‰ç­‰ã€‚ 4ã€æ¨èç³»ç»Ÿå…¸å‹çš„åº”ç”¨åŒ…æ‹¬ï¼šè™¾ç±³éŸ³ä¹çš„â€œæ­Œæ›²æ¨èâ€ï¼ŒæŸå®çš„â€œçŒœä½ å–œæ¬¢â€ç­‰ç­‰ã€‚ æ•°æ®æŒ–æ˜æµç¨‹ æ•°æ®é‡‡é›†æ•°æ®åˆ†ç±»æ­£ä¾‹(positive example)åä¾‹(negative example)è®­ç»ƒé›†(training set)éªŒè¯é›†(validation set)ï¼šç”¨ä½œè¶…å‚æ•°éªŒè¯æµ‹è¯•é›†(test set)ç±»åˆ«ä¸å¹³è¡¡æ•°æ®é›†ï¼ˆclass-imbalanced data setï¼‰ é‡‡æ ·æ–¹å¼1ã€åˆ†å±‚é‡‡æ ·(stratified sampling)ä¿ç•™ç±»åˆ«æ¯”ä¾‹çš„é‡‡æ ·æ–¹å¼é€šå¸¸ç§°ä¸ºåˆ†å±‚é‡‡æ · 2ã€ç•™å‡ºæ³•ï¼ˆhold-outï¼‰ç›´æ¥å°†æ•°æ®é›†Dåˆ’åˆ†ä¸ºä¸¤ä¸ªäº’æ–¥çš„é›†åˆï¼Œå…¶ä¸­ä¸€ä¸ªé›†åˆä½œä¸ºè®­ç»ƒé›†Sï¼Œå¦ä¸€ä¸ªä½œä¸ºæµ‹è¯•é›†Tï¼Œåœ¨Sä¸Šè®­ç»ƒå‡ºæ¨¡å‹åï¼Œç”¨Tæ¥è¯„ä¼°å…¶æµ‹è¯•è¯¯å·®ï¼Œä½œä¸ºå¯¹æ³›åŒ–è¯¯å·®çš„ä¼°è®¡ã€‚ 3ã€kæŠ˜äº¤å‰éªŒè¯ï¼ˆk-fold cross validationï¼‰äº¤å‰éªŒè¯å…ˆå°†æ•°æ®é›†Dåˆ’åˆ†ä¸ºkä¸ªå¤§å°ç›¸ä¼¼çš„äº’æ–¥å­é›†ï¼Œæ¯ä¸ªå­é›†ä»æ•°æ®é›†ä¸­åˆ†å±‚é‡‡æ ·å¾—åˆ°ï¼Œç„¶åï¼Œæ¯æ¬¡ç”¨k-1ä¸ªå­é›†çš„å¹¶é›†ä½œä¸ºè®­ç»ƒé›†ï¼Œä½™ä¸‹çš„ä¸€ä¸ªå­é›†ä½œä¸ºæµ‹è¯•é›†ï¼Œè¿™æ ·å°±å¯ä»¥è·å¾—kç»„è®­ç»ƒ/æµ‹è¯•é›†ï¼Œæœ€ç»ˆè¿”å›kä¸ªæµ‹è¯•ç»“æœçš„å‡å€¼ã€‚ 4ã€è‡ªåŠ©æ³•(bootstrapping)å¯¹æ•°æ®é›†Dæœ‰æ”¾å›çš„éšæœºé‡‡æ ·mæ¬¡åï¼Œä¸€ä¸ªæ ·æœ¬ä¸åœ¨æ ·æœ¬é›†D1å‡ºç°çš„æ¦‚ç‡ï¼š å½“nè¶³å¤Ÿå¤§æ—¶ï¼Œå¤§çº¦æœ‰36.8%çš„æ ·æœ¬ä¸ä¼šè¢«é‡‡åˆ°ï¼Œç”¨æ²¡é‡‡åˆ°çš„éƒ¨åˆ†åšæµ‹è¯•é›†ï¼Œä¹Ÿæ˜¯åŒ…å¤–ä¼°è®¡ï¼ˆout-of-bag-estimateï¼‰ã€‚ç”±äºæˆ‘ä»¬çš„è®­ç»ƒé›†æœ‰é‡å¤æ•°æ®ï¼Œè¿™ä¼šæ”¹å˜æ•°æ®çš„åˆ†å¸ƒï¼Œå› è€Œè®­ç»ƒç»“æœä¼šæœ‰ä¼°è®¡åå·®ï¼Œå› æ­¤ï¼Œæ­¤ç§æ–¹æ³•ä¸æ˜¯å¾ˆå¸¸ç”¨ï¼Œé™¤éæ•°æ®é‡çœŸçš„å¾ˆå°‘ï¼Œæ¯”å¦‚å°äº20ä¸ªã€‚ æ•°æ®æ¸…æ´—1ã€ç¼ºå¤±å€¼å¤„ç†1.ç›´æ¥åˆ é™¤â€”â€”é€‚åˆç¼ºå¤±å€¼æ•°é‡è¾ƒå°ï¼Œå¹¶ä¸”æ˜¯éšæœºå‡ºç°çš„ï¼Œåˆ é™¤å®ƒä»¬å¯¹æ•´ä½“æ•°æ®å½±å“ä¸å¤§çš„æƒ…å†µã€‚2.ä½¿ç”¨ä¸€ä¸ªå…¨å±€å¸¸é‡å¡«å……â€”-è­¬å¦‚å°†ç¼ºå¤±å€¼ç”¨â€œUnknownâ€ç­‰å¡«å……ï¼Œä½†æ˜¯æ•ˆæœä¸ä¸€å®šå¥½ï¼Œå› ä¸ºç®—æ³•å¯èƒ½ä¼šæŠŠå®ƒè¯†åˆ«ä¸ºä¸€ä¸ªæ–°çš„ç±»åˆ«ï¼Œä¸€èˆ¬å¾ˆå°‘ç”¨3.ä½¿ç”¨å‡å€¼æˆ–ä¸­ä½æ•°ä»£æ›¿â€”â€”ä¼˜ç‚¹ï¼šä¸ä¼šå‡å°‘æ ·æœ¬ä¿¡æ¯ï¼Œå¤„ç†ç®€å•ã€‚ç¼ºç‚¹ï¼šå½“ç¼ºå¤±æ•°æ®ä¸æ˜¯éšæœºæ•°æ®æ—¶ä¼šäº§ç”Ÿåå·®.å¯¹äºæ­£å¸¸åˆ†å¸ƒçš„æ•°æ®å¯ä»¥ä½¿ç”¨å‡å€¼ä»£æ›¿ï¼Œå¦‚æœæ•°æ®æ˜¯å€¾æ–œçš„ï¼Œä½¿ç”¨ä¸­ä½æ•°å¯èƒ½æ›´å¥½ã€‚4.æ’è¡¥æ³• 1ï¼‰éšæœºæ’è¡¥æ³•â€”â€”ä»æ€»ä½“ä¸­éšæœºæŠ½å–æŸä¸ªæ ·æœ¬ä»£æ›¿ç¼ºå¤±æ ·æœ¬ 2ï¼‰å¤šé‡æ’è¡¥æ³•â€”â€”é€šè¿‡å˜é‡ä¹‹é—´çš„å…³ç³»å¯¹ç¼ºå¤±æ•°æ®è¿›è¡Œé¢„æµ‹ï¼Œåˆ©ç”¨è’™ç‰¹å¡æ´›æ–¹æ³•ç”Ÿæˆå¤šä¸ªå®Œæ•´çš„æ•°æ®é›†ï¼Œåœ¨å¯¹è¿™äº›æ•°æ®é›†è¿›è¡Œåˆ†æï¼Œæœ€åå¯¹åˆ†æç»“æœè¿›è¡Œæ±‡æ€»å¤„ç† 3ï¼‰çƒ­å¹³å°æ’è¡¥â€”â€”æŒ‡åœ¨éç¼ºå¤±æ•°æ®é›†ä¸­æ‰¾åˆ°ä¸€ä¸ªä¸ç¼ºå¤±å€¼æ‰€åœ¨æ ·æœ¬ç›¸ä¼¼çš„æ ·æœ¬ï¼ˆåŒ¹é…æ ·æœ¬ï¼‰ï¼Œåˆ©ç”¨å…¶ä¸­çš„è§‚æµ‹å€¼å¯¹ç¼ºå¤±å€¼è¿›è¡Œæ’è¡¥ã€‚ä¼˜ç‚¹ï¼šç®€å•æ˜“è¡Œï¼Œå‡†å»ç‡è¾ƒé«˜ç¼ºç‚¹ï¼šå˜é‡æ•°é‡è¾ƒå¤šæ—¶ï¼Œé€šå¸¸å¾ˆéš¾æ‰¾åˆ°ä¸éœ€è¦æ’è¡¥æ ·æœ¬å®Œå…¨ç›¸åŒçš„æ ·æœ¬ã€‚ä½†æˆ‘ä»¬å¯ä»¥æŒ‰ç…§æŸäº›å˜é‡å°†æ•°æ®åˆ†å±‚ï¼Œåœ¨å±‚ä¸­å¯¹ç¼ºå¤±å€¼å®ç”¨å‡å€¼æ’è¡¥ 4)æ‹‰æ ¼æœ—æ—¥å·®å€¼æ³•å’Œç‰›é¡¿æ’å€¼æ³•5.å»ºæ¨¡æ³•å¯ä»¥ç”¨å›å½’ã€ä½¿ç”¨è´å¶æ–¯å½¢å¼åŒ–æ–¹æ³•çš„åŸºäºæ¨ç†çš„å·¥å…·æˆ–å†³ç­–æ ‘å½’çº³ç¡®å®šã€‚ä¾‹å¦‚ï¼Œåˆ©ç”¨æ•°æ®é›†ä¸­å…¶ä»–æ•°æ®çš„å±æ€§ï¼Œå¯ä»¥æ„é€ ä¸€æ£µåˆ¤å®šæ ‘ï¼Œæ¥é¢„æµ‹ç¼ºå¤±å€¼çš„å€¼ã€‚ ä½¿ç”¨sklearnè¿›è¡Œæ’è¡¥ï¼šå…¶å®sklearné‡Œä¹Ÿæœ‰ä¸€ä¸ªå·¥å…·Imputerå¯ä»¥å¯¹ç¼ºå¤±å€¼è¿›è¡Œæ’è¡¥ã€‚Imputerç±»å¯ä»¥å¯¹ç¼ºå¤±å€¼è¿›è¡Œå‡å€¼æ’è¡¥ã€ä¸­ä½æ•°æ’è¡¥æˆ–è€…æŸè¡Œ/åˆ—å‡ºç°çš„é¢‘ç‡æœ€é«˜çš„å€¼è¿›è¡Œæ’è¡¥ï¼Œä¹Ÿå¯ä»¥å¯¹ä¸åŒçš„ç¼ºå¤±å€¼è¿›è¡Œç¼–ç ã€‚å¹¶ä¸”æ”¯æŒç¨€ç–çŸ©é˜µã€‚ åœ¨ç¨€ç–çŸ©é˜µä¸­ï¼Œç¼ºå¤±å€¼è¢«ç¼–ç ä¸º0å­˜å‚¨ä¸ºçŸ©é˜µä¸­ï¼Œè¿™ç§æ ¼å¼æ˜¯é€‚åˆäºç¼ºå¤±å€¼æ¯”éç¼ºå¤±å€¼å¤šå¾—å¤šçš„æƒ…å†µã€‚æ­¤å¤–ï¼ŒImputerç±»ä¹Ÿå¯ä»¥ç”¨äºPipelineä¸­ã€‚ Imputorç±»çš„å‚æ•°ï¼š_class _sklearn.preprocessing.``Imputer(_missing_values=â€™NaNâ€™_, _strategy=â€™meanâ€™_, _axis=0_, _verbose=0_, _copy=True_) missing_values : intæˆ–â€NaNâ€,é»˜è®¤NaNï¼ˆStringç±»å‹ï¼‰strategy : string, é»˜è®¤ä¸ºmeanï¼Œå¯é€‰åˆ™meanã€medianã€most_frequentaxis :int, é»˜è®¤ä¸º0ï¼ˆaxis = 0ï¼Œå¯¹åˆ—è¿›è¡Œæ’å€¼ï¼›axis= 1ï¼Œå¯¹è¡Œè¿›è¡Œæ’å€¼ï¼‰verbose : int, é»˜è®¤ä¸º0copy : boolean, é»˜è®¤ä¸ºTrue Trueï¼šä¼šåˆ›å»ºä¸€ä¸ªXçš„å‰¯æœ¬ Falseï¼šåœ¨ä»»ä½•åˆé€‚çš„åœ°æ–¹éƒ½ä¼šè¿›è¡Œæ’å€¼ã€‚ ä½†æ˜¯ä»¥ä¸‹å››ç§æƒ…å†µï¼Œè®¡ç®—è®¾ç½®çš„copy = Fasleï¼Œä¹Ÿä¼šåˆ›å»ºä¸€ä¸ªå‰¯æœ¬ï¼š 1.Xä¸æ˜¯æµ®ç‚¹å‹æ•°ç»„ 2.Xæ˜¯ç¨€ç–çŸ©é˜µï¼Œè€Œä¸”miss_value = 0 3.axis= 0ï¼ŒXè¢«ç¼–ç ä¸ºCSRçŸ©é˜µ 4.axis= 1ï¼ŒXè¢«ç¼–ç ä¸ºCSCçŸ©é˜µ p.s.ï¼šLightGBMå’ŒXGBoostéƒ½èƒ½å°†NaNä½œä¸ºæ•°æ®çš„ä¸€éƒ¨åˆ†è¿›è¡Œå­¦ä¹ ï¼Œæ‰€ä»¥ä¸éœ€è¦å¤„ç†ç¼ºå¤±å€¼ã€‚ 2ã€å¼‚å¸¸ç‚¹å¤„ç†1.ç®€å•çš„ç»Ÿè®¡åˆ†æ æ‹¿åˆ°æ•°æ®åå¯ä»¥å¯¹æ•°æ®è¿›è¡Œä¸€ä¸ªç®€å•çš„æè¿°æ€§ç»Ÿè®¡åˆ†æï¼Œè­¬å¦‚æœ€å¤§æœ€å°å€¼å¯ä»¥ç”¨æ¥åˆ¤æ–­è¿™ä¸ªå˜é‡çš„å–å€¼æ˜¯å¦è¶…è¿‡äº†åˆç†çš„èŒƒå›´ï¼Œå¦‚å®¢æˆ·çš„å¹´é¾„ä¸º-20å²æˆ–200å²ï¼Œæ˜¾ç„¶æ˜¯ä¸åˆå¸¸ç†çš„ï¼Œä¸ºå¼‚å¸¸å€¼ã€‚2.3âˆ‚åŸåˆ™ å¦‚æœæ•°æ®æœä»æ­£æ€åˆ†å¸ƒï¼Œåœ¨3âˆ‚åŸåˆ™ä¸‹ï¼Œå¼‚å¸¸å€¼ä¸ºä¸€ç»„æµ‹å®šå€¼ä¸­ä¸å¹³å‡å€¼çš„åå·®è¶…è¿‡3å€æ ‡å‡†å·®çš„å€¼ã€‚å¦‚æœæ•°æ®æœä»æ­£æ€åˆ†å¸ƒï¼Œè·ç¦»å¹³å‡å€¼3âˆ‚ä¹‹å¤–çš„å€¼å‡ºç°çš„æ¦‚ç‡ä¸ºP(|x-u| &gt; 3âˆ‚) &lt;= 0.003ï¼Œå±äºæä¸ªåˆ«çš„å°æ¦‚ç‡äº‹ä»¶ã€‚å¦‚æœæ•°æ®ä¸æœä»æ­£æ€åˆ†å¸ƒï¼Œä¹Ÿå¯ä»¥ç”¨è¿œç¦»å¹³å‡å€¼çš„å¤šå°‘å€æ ‡å‡†å·®æ¥æè¿°ã€‚ 3.ç®±å‹å›¾åˆ†æ ç®±å‹å›¾æä¾›äº†è¯†åˆ«å¼‚å¸¸å€¼çš„ä¸€ä¸ªæ ‡å‡†ï¼šå¦‚æœä¸€ä¸ªå€¼å°äºQL01.5IQRæˆ–å¤§äºOU-1.5IQRçš„å€¼ï¼Œåˆ™è¢«ç§°ä¸ºå¼‚å¸¸å€¼ã€‚QLä¸ºä¸‹å››åˆ†ä½æ•°ï¼Œè¡¨ç¤ºå…¨éƒ¨è§‚å¯Ÿå€¼ä¸­æœ‰å››åˆ†ä¹‹ä¸€çš„æ•°æ®å–å€¼æ¯”å®ƒå°ï¼›QUä¸ºä¸Šå››åˆ†ä½æ•°ï¼Œè¡¨ç¤ºå…¨éƒ¨è§‚å¯Ÿå€¼ä¸­æœ‰å››åˆ†ä¹‹ä¸€çš„æ•°æ®å–å€¼æ¯”å®ƒå¤§ï¼›IQRä¸ºå››åˆ†ä½æ•°é—´è·ï¼Œæ˜¯ä¸Šå››åˆ†ä½æ•°QUä¸ä¸‹å››åˆ†ä½æ•°QLçš„å·®å€¼ï¼ŒåŒ…å«äº†å…¨éƒ¨è§‚å¯Ÿå€¼çš„ä¸€åŠã€‚ç®±å‹å›¾åˆ¤æ–­å¼‚å¸¸å€¼çš„æ–¹æ³•ä»¥å››åˆ†ä½æ•°å’Œå››åˆ†ä½è·ä¸ºåŸºç¡€ï¼Œå››åˆ†ä½æ•°å…·æœ‰é²æ£’æ€§ï¼š25%çš„æ•°æ®å¯ä»¥å˜å¾—ä»»æ„è¿œå¹¶ä¸”ä¸ä¼šå¹²æ‰°å››åˆ†ä½æ•°ï¼Œæ‰€ä»¥å¼‚å¸¸å€¼ä¸èƒ½å¯¹è¿™ä¸ªæ ‡å‡†æ–½åŠ å½±å“ã€‚å› æ­¤ç®±å‹å›¾è¯†åˆ«å¼‚å¸¸å€¼æ¯”è¾ƒå®¢è§‚ï¼Œåœ¨è¯†åˆ«å¼‚å¸¸å€¼æ—¶æœ‰ä¸€å®šçš„ä¼˜è¶Šæ€§ã€‚ 4.åŸºäºæ¨¡å‹æ£€æµ‹ é¦–å…ˆå»ºç«‹ä¸€ä¸ªæ•°æ®æ¨¡å‹ï¼Œå¼‚å¸¸æ˜¯é‚£äº›åŒæ¨¡å‹ä¸èƒ½å®Œç¾æ‹Ÿåˆçš„å¯¹è±¡ï¼›å¦‚æœæ¨¡å‹æ˜¯ç°‡çš„é›†åˆï¼Œåˆ™å¼‚å¸¸æ˜¯ä¸æ˜¾è‘—å±äºä»»ä½•ç°‡çš„å¯¹è±¡ï¼›åœ¨ä½¿ç”¨å›å½’æ¨¡å‹æ—¶ï¼Œå¼‚å¸¸æ˜¯ç›¸å¯¹è¿œç¦»é¢„æµ‹å€¼çš„å¯¹è±¡ ä¼˜ç¼ºç‚¹ï¼š1.æœ‰åšå®çš„ç»Ÿè®¡å­¦ç†è®ºåŸºç¡€ï¼Œå½“å­˜åœ¨å……åˆ†çš„æ•°æ®å’Œæ‰€ç”¨çš„æ£€éªŒç±»å‹çš„çŸ¥è¯†æ—¶ï¼Œè¿™äº›æ£€éªŒå¯èƒ½éå¸¸æœ‰æ•ˆï¼›2.å¯¹äºå¤šå…ƒæ•°æ®ï¼Œå¯ç”¨çš„é€‰æ‹©å°‘ä¸€äº›ï¼Œå¹¶ä¸”å¯¹äºé«˜ç»´æ•°æ®ï¼Œè¿™äº›æ£€æµ‹å¯èƒ½æ€§å¾ˆå·®ã€‚ 5.åŸºäºè·ç¦» é€šå¸¸å¯ä»¥åœ¨å¯¹è±¡ä¹‹é—´å®šä¹‰é‚»è¿‘æ€§åº¦é‡ï¼Œå¼‚å¸¸å¯¹è±¡æ˜¯é‚£äº›è¿œç¦»å…¶ä»–å¯¹è±¡çš„å¯¹è±¡ ä¼˜ç¼ºç‚¹ï¼š1.ç®€å•ï¼›2.ç¼ºç‚¹ï¼šåŸºäºé‚»è¿‘åº¦çš„æ–¹æ³•éœ€è¦O(m2)æ—¶é—´ï¼Œå¤§æ•°æ®é›†ä¸é€‚ç”¨ï¼›3.è¯¥æ–¹æ³•å¯¹å‚æ•°çš„é€‰æ‹©ä¹Ÿæ˜¯æ•æ„Ÿçš„ï¼›4.ä¸èƒ½å¤„ç†å…·æœ‰ä¸åŒå¯†åº¦åŒºåŸŸçš„æ•°æ®é›†ï¼Œå› ä¸ºå®ƒä½¿ç”¨å…¨å±€é˜ˆå€¼ï¼Œä¸èƒ½è€ƒè™‘è¿™ç§å¯†åº¦çš„å˜åŒ–ã€‚ 6.åŸºäºå¯†åº¦ å½“ä¸€ä¸ªç‚¹çš„å±€éƒ¨å¯†åº¦æ˜¾è‘—ä½äºå®ƒçš„å¤§éƒ¨åˆ†è¿‘é‚»æ—¶æ‰å°†å…¶åˆ†ç±»ä¸ºç¦»ç¾¤ç‚¹ã€‚é€‚åˆéå‡åŒ€åˆ†å¸ƒçš„æ•°æ®ã€‚ ä¼˜ç¼ºç‚¹ï¼š1.ç»™å‡ºäº†å¯¹è±¡æ˜¯ç¦»ç¾¤ç‚¹çš„å®šé‡åº¦é‡ï¼Œå¹¶ä¸”å³ä½¿æ•°æ®å…·æœ‰ä¸åŒçš„åŒºåŸŸä¹Ÿèƒ½å¤Ÿå¾ˆå¥½çš„å¤„ç†ï¼›2.ä¸åŸºäºè·ç¦»çš„æ–¹æ³•ä¸€æ ·ï¼Œè¿™äº›æ–¹æ³•å¿…ç„¶å…·æœ‰O(m2)çš„æ—¶é—´å¤æ‚åº¦ã€‚å¯¹äºä½ç»´æ•°æ®ä½¿ç”¨ç‰¹å®šçš„æ•°æ®ç»“æ„å¯ä»¥è¾¾åˆ°O(mlogm)ï¼›3.å‚æ•°é€‰æ‹©å›°éš¾ã€‚è™½ç„¶ç®—æ³•é€šè¿‡è§‚å¯Ÿä¸åŒçš„kå€¼ï¼Œå–å¾—æœ€å¤§ç¦»ç¾¤ç‚¹å¾—åˆ†æ¥å¤„ç†è¯¥é—®é¢˜ï¼Œä½†æ˜¯ï¼Œä»ç„¶éœ€è¦é€‰æ‹©è¿™äº›å€¼çš„ä¸Šä¸‹ç•Œã€‚ 7.åŸºäºèšç±»ï¼š åŸºäºèšç±»çš„ç¦»ç¾¤ç‚¹ï¼šä¸€ä¸ªå¯¹è±¡æ˜¯åŸºäºèšç±»çš„ç¦»ç¾¤ç‚¹ï¼Œå¦‚æœè¯¥å¯¹è±¡ä¸å¼ºå±äºä»»ä½•ç°‡ã€‚ç¦»ç¾¤ç‚¹å¯¹åˆå§‹èšç±»çš„å½±å“ï¼šå¦‚æœé€šè¿‡èšç±»æ£€æµ‹ç¦»ç¾¤ç‚¹ï¼Œåˆ™ç”±äºç¦»ç¾¤ç‚¹å½±å“èšç±»ï¼Œå­˜åœ¨ä¸€ä¸ªé—®é¢˜ï¼šç»“æ„æ˜¯å¦æœ‰æ•ˆã€‚ä¸ºäº†å¤„ç†è¯¥é—®é¢˜ï¼Œå¯ä»¥ä½¿ç”¨å¦‚ä¸‹æ–¹æ³•ï¼šå¯¹è±¡èšç±»ï¼Œåˆ é™¤ç¦»ç¾¤ç‚¹ï¼Œå¯¹è±¡å†æ¬¡èšç±»ï¼ˆè¿™ä¸ªä¸èƒ½ä¿è¯äº§ç”Ÿæœ€ä¼˜ç»“æœï¼‰ã€‚ ä¼˜ç¼ºç‚¹ï¼š1.åŸºäºçº¿æ€§å’Œæ¥è¿‘çº¿æ€§å¤æ‚åº¦ï¼ˆkå‡å€¼ï¼‰çš„èšç±»æŠ€æœ¯æ¥å‘ç°ç¦»ç¾¤ç‚¹å¯èƒ½æ˜¯é«˜åº¦æœ‰æ•ˆçš„ï¼›2.ç°‡çš„å®šä¹‰é€šå¸¸æ˜¯ç¦»ç¾¤ç‚¹çš„è¡¥ï¼Œå› æ­¤å¯èƒ½åŒæ—¶å‘ç°ç°‡å’Œç¦»ç¾¤ç‚¹ï¼›3.äº§ç”Ÿçš„ç¦»ç¾¤ç‚¹é›†å’Œå®ƒä»¬çš„å¾—åˆ†å¯èƒ½éå¸¸ä¾èµ–æ‰€ç”¨çš„ç°‡çš„ä¸ªæ•°å’Œæ•°æ®ä¸­ç¦»ç¾¤ç‚¹çš„å­˜åœ¨æ€§ï¼›4.èšç±»ç®—æ³•äº§ç”Ÿçš„ç°‡çš„è´¨é‡å¯¹è¯¥ç®—æ³•äº§ç”Ÿçš„ç¦»ç¾¤ç‚¹çš„è´¨é‡å½±å“éå¸¸å¤§ã€‚ å¤„ç†æ–¹æ³•ï¼š 1.åˆ é™¤å¼‚å¸¸å€¼â€”â€”æ˜æ˜¾çœ‹å‡ºæ˜¯å¼‚å¸¸ä¸”æ•°é‡è¾ƒå°‘å¯ä»¥ç›´æ¥åˆ é™¤2.ä¸å¤„ç†â€”-å¦‚æœç®—æ³•å¯¹å¼‚å¸¸å€¼ä¸æ•æ„Ÿåˆ™å¯ä»¥ä¸å¤„ç†ï¼Œä½†å¦‚æœç®—æ³•å¯¹å¼‚å¸¸å€¼æ•æ„Ÿï¼Œåˆ™æœ€å¥½ä¸è¦ç”¨ï¼Œå¦‚åŸºäºè·ç¦»è®¡ç®—çš„ä¸€äº›ç®—æ³•ï¼ŒåŒ…æ‹¬kmeansï¼Œknnä¹‹ç±»çš„ã€‚3.å¹³å‡å€¼æ›¿ä»£â€”â€”æŸå¤±ä¿¡æ¯å°ï¼Œç®€å•é«˜æ•ˆã€‚4.è§†ä¸ºç¼ºå¤±å€¼â€”â€”å¯ä»¥æŒ‰ç…§å¤„ç†ç¼ºå¤±å€¼çš„æ–¹æ³•æ¥å¤„ç†5.æ ‡å‡†åŒ–â€”â€”å¦‚æœä½ çš„æ•°æ®æœ‰ç¦»ç¾¤ç‚¹ï¼Œå¯¹æ•°æ®è¿›è¡Œå‡å·®å’Œæ–¹å·®çš„æ ‡å‡†åŒ–æ•ˆæœå¹¶ä¸å¥½ã€‚è¿™ç§æƒ…å†µä½ å¯ä»¥ä½¿ç”¨sklearnä¸­çš„robust_scaleå’Œ RobustScaler ä½œä¸ºæ›¿ä»£ã€‚ 3ã€å»é‡å¤„ç†dataframeæ ¼å¼1ã€DataFrameçš„duplicatedæ–¹æ³•è¿”å›ä¸€ä¸ªå¸ƒå°”å‹Seriesï¼Œè¡¨ç¤ºå„è¡Œæ˜¯å¦æ˜¯é‡å¤è¡Œ2ã€drop_duplicatesæ–¹æ³•ç”¨äºè¿”å›ä¸€ä¸ªç§»é™¤äº†é‡å¤è¡Œçš„DataFrame3ã€data.drop_duplicates([â€˜v1â€™]) #åªåˆ¤æ–­æŸåˆ— listæ ¼å¼1ã€ä½¿ç”¨set()2ã€{}.fromkeys().keys()3ã€set()+sort()4ã€æ’åºåæ¯”è¾ƒç›¸é‚»2ä¸ªå…ƒç´ çš„æ•°æ®ï¼Œé‡å¤çš„åˆ é™¤ 4ã€å™ªéŸ³å¤„ç† å™ªéŸ³ï¼Œæ˜¯è¢«æµ‹é‡å˜é‡çš„éšæœºè¯¯å·®æˆ–æ–¹å·®ã€‚ å™ªéŸ³ä¸ç¦»ç¾¤ç‚¹ ç¦»ç¾¤ç‚¹ï¼š ä½ æ­£åœ¨ä»å£è¢‹çš„é›¶é’±åŒ…é‡Œé¢ç©·ä¸¾é‡Œé¢çš„é’±ï¼Œä½ å‘ç°äº†3ä¸ªä¸€è§’ï¼Œ1ä¸ªäº”æ¯›ï¼Œå’Œä¸€å¼ 100å…ƒçš„æ¯›çˆ·çˆ·å‘ä½ å¾®ç¬‘ã€‚è¿™ä¸ª100å…ƒå°±æ˜¯ä¸ªç¦»ç¾¤ç‚¹ï¼Œå› ä¸ºå¹¶ä¸åº”è¯¥å¸¸å‡ºç°åœ¨å£è¢‹é‡Œ.. å™ªå£°ï¼š ä½ æ™šä¸Šå»ä¸‰é‡Œå±¯å–çš„é…©é…Šå¤§é†‰ï¼Œå¾ˆéœ€è¦ä¹°ç‚¹ä¸œè¥¿æ¸…é†’æ¸…é†’ï¼Œè¿™æ—¶å€™ä½ å¼€å§‹ç¿»å£è¢‹çš„é›¶é’±åŒ…ï¼Œå˜›ï¼Œä½ å‘ç°äº†3ä¸ªä¸€è§’ï¼Œ1ä¸ªäº”æ¯›ï¼Œå’Œä¸€å¼ 100å…ƒçš„æ¯›çˆ·çˆ·å‘ä½ å¾®ç¬‘ã€‚ä½†æ˜¯ä½ çªç„¶çœ¼æ™•ï¼ŒæŠŠé‚£ä¸‰ä¸ªä¸€è§’çœ‹æˆäº†ä¸‰ä¸ª1å…ƒâ€¦è¿™æ ·é”™è¯¯çš„åˆ¤æ–­ä½¿å¾—æ•°æ®é›†ä¸­å‡ºç°äº†å™ªå£°ã€‚ å™ªéŸ³å¤„ç†æ–¹æ³•1.åˆ†ç®±æ³•åˆ†ç®±æ–¹æ³•é€šè¿‡è€ƒå¯Ÿæ•°æ®çš„â€œè¿‘é‚»â€ï¼ˆå³ï¼Œå‘¨å›´çš„å€¼ï¼‰æ¥å…‰æ»‘æœ‰åºæ•°æ®å€¼ã€‚è¿™äº›æœ‰åºçš„å€¼è¢«åˆ†å¸ƒåˆ°ä¸€äº›â€œæ¡¶â€æˆ–ç®±ä¸­ã€‚ç”±äºåˆ†ç®±æ–¹æ³•è€ƒå¯Ÿè¿‘é‚»çš„å€¼ï¼Œå› æ­¤å®ƒè¿›è¡Œå±€éƒ¨å…‰æ»‘ã€‚ ç”¨ç®±å‡å€¼å…‰æ»‘ï¼šç®±ä¸­æ¯ä¸€ä¸ªå€¼è¢«ç®±ä¸­çš„å¹³å‡å€¼æ›¿æ¢ã€‚ ç”¨ç®±ä¸­ä½æ•°å¹³æ»‘ï¼šç®±ä¸­çš„æ¯ä¸€ä¸ªå€¼è¢«ç®±ä¸­çš„ä¸­ä½æ•°æ›¿æ¢ã€‚ ç”¨ç®±è¾¹ç•Œå¹³æ»‘ï¼šç®±ä¸­çš„æœ€å¤§å’Œæœ€å°å€¼åŒæ ·è¢«è§†ä¸ºè¾¹ç•Œã€‚ç®±ä¸­çš„æ¯ä¸€ä¸ªå€¼è¢«æœ€è¿‘çš„è¾¹ç•Œå€¼æ›¿æ¢ã€‚ ä¸€èˆ¬è€Œè¨€ï¼Œå®½åº¦è¶Šå¤§ï¼Œå…‰æ»‘æ•ˆæœè¶Šæ˜æ˜¾ã€‚ç®±ä¹Ÿå¯ä»¥æ˜¯ç­‰å®½çš„ï¼Œå…¶ä¸­æ¯ä¸ªç®±å€¼çš„åŒºé—´èŒƒå›´æ˜¯ä¸ªå¸¸é‡ã€‚åˆ†ç®±ä¹Ÿå¯ä»¥ä½œä¸ºä¸€ç§ç¦»æ•£åŒ–æŠ€æœ¯ä½¿ç”¨. 2. å›å½’æ³• å¯ä»¥ç”¨ä¸€ä¸ªå‡½æ•°æ‹Ÿåˆæ•°æ®æ¥å…‰æ»‘æ•°æ®ã€‚çº¿æ€§å›å½’æ¶‰åŠæ‰¾å‡ºæ‹Ÿåˆä¸¤ä¸ªå±æ€§ï¼ˆæˆ–å˜é‡ï¼‰çš„â€œæœ€ä½³â€ç›´çº¿ï¼Œä½¿å¾—ä¸€ä¸ªå±æ€§èƒ½å¤Ÿé¢„æµ‹å¦ä¸€ä¸ªã€‚å¤šçº¿æ€§å›å½’æ˜¯çº¿æ€§å›å½’çš„æ‰©å±•ï¼Œå®ƒæ¶‰åŠå¤šäºä¸¤ä¸ªå±æ€§ï¼Œå¹¶ä¸”æ•°æ®æ‹Ÿåˆåˆ°ä¸€ä¸ªå¤šç»´é¢ã€‚ä½¿ç”¨å›å½’ï¼Œæ‰¾å‡ºé€‚åˆæ•°æ®çš„æ•°å­¦æ–¹ç¨‹å¼ï¼Œèƒ½å¤Ÿå¸®åŠ©æ¶ˆé™¤å™ªå£°ã€‚ 5ã€å…¶ä»–å®ç”¨å°æŠ€å·§1.å»æ‰æ–‡ä»¶ä¸­å¤šä½™çš„ç©ºè¡Œç©ºè¡Œä¸»è¦æŒ‡çš„æ˜¯ï¼ˆ\n,\r,\r\n,\n\rç­‰ï¼‰ï¼Œåœ¨pythonä¸­æœ‰ä¸ªstrip()çš„æ–¹æ³•ï¼Œè¯¥æ–¹æ³•å¯ä»¥å»æ‰å­—ç¬¦ä¸²ä¸¤ç«¯å¤šä½™çš„â€œç©ºç™½â€ï¼Œæ­¤å¤„çš„ç©ºç™½ä¸»è¦åŒ…æ‹¬ç©ºæ ¼ï¼Œåˆ¶è¡¨ç¬¦(\t)ï¼Œæ¢è¡Œç¬¦ã€‚ä¸è¿‡äº²æµ‹ä»¥åå‘ç°ï¼Œstrip()å¯ä»¥åŒ¹é…æ‰\n,\r\n,\n\rç­‰ï¼Œä½†æ˜¯è¿‡æ»¤ä¸æ‰å•ç‹¬çš„\rã€‚ä¸ºäº†ä¸‡æ— ä¸€å¤±ï¼Œæˆ‘è¿˜æ˜¯å–œæ¬¢ç”¨éº»çƒ¦çš„åŠæ³•ã€‚ 2.å¦‚ä½•åˆ¤æ–­æ–‡ä»¶çš„ç¼–ç æ ¼å¼ 12import chardetif chardet.detect(data)[&apos;encoding&apos;] != &apos;utf-8&apos; 1æ‰¹é‡å¤„ç†ç¼–ç æ ¼å¼è½¬æ¢çš„ä»£ç å·²ä¸Šä¼ åˆ°githubä¸Š æ•°æ®è½¬æ¢1ã€ç¦»æ•£å‹1ã€one-hot ç¼–ç ç¼–ç åå¾—åˆ°å“‘å˜é‡ã€‚ç»Ÿè®¡è¿™ä¸ªç‰¹å¾ä¸Šæœ‰å¤šå°‘ç±»ï¼Œå°±è®¾ç½®å‡ ç»´çš„å‘é‡ï¼Œpd.get_dummies()å¯ä»¥è¿›è¡Œone-hotç¼–ç ã€‚ sklearn.preprocessing.OneHotEncoder(_n_values=â€™autoâ€™_, _categorical_features=â€™allâ€™_, _dtype=_, _sparse=True_, _handle_unknown=â€™errorâ€™_) n_values : â€˜autoâ€™, int or array of ints æ¯ä¸ªç‰¹å¾çš„æ•°é‡ auto : ä»è®­ç»ƒæ•°æ®çš„èŒƒå›´ä¸­å¾—åˆ° int : æ‰€æœ‰ç‰¹å¾çš„æœ€å¤§å€¼ï¼ˆnumberï¼‰ array : æ¯ä¸ªç‰¹å¾çš„æœ€å¤§å€¼ï¼ˆnumberï¼‰ categorical_features: â€œallâ€ or array of indices or mask :ç¡®å®šå“ªäº›ç‰¹å¾æ˜¯ç±»åˆ«ç‰¹å¾ all (é»˜è®¤): æ‰€æœ‰ç‰¹å¾éƒ½æ˜¯ç±»åˆ«ç‰¹å¾ï¼Œæ„å‘³ç€æ‰€æœ‰ç‰¹å¾éƒ½è¦è¿›è¡ŒOneHotç¼–ç  array of indices: ç±»åˆ«ç‰¹å¾çš„æ•°ç»„ç´¢å¼• mask: n_features é•¿åº¦çš„æ•°ç»„ï¼Œåˆ‡dtype = booléç±»åˆ«å‹ç‰¹å¾é€šå¸¸ä¼šæ”¾åˆ°çŸ©é˜µçš„å³è¾¹ dtype : number type, default=np.floatè¾“å‡ºæ•°æ®çš„ç±»å‹sparse : boolean, default=Trueè®¾ç½®Trueä¼šè¿”å›ç¨€ç–çŸ©é˜µï¼Œå¦åˆ™è¿”å›æ•°ç»„handle_unknown : str, â€˜errorâ€™ or â€˜ignoreâ€™å½“ä¸€ä¸ªä¸æ˜ç±»åˆ«ç‰¹å¾å‡ºç°åœ¨å˜æ¢ä¸­æ—¶ï¼ŒæŠ¥é”™è¿˜æ˜¯å¿½ç•¥ ï¼’ã€Hashç¼–ç æˆè¯å‘é‡ï¼š 2ã€æ–‡æœ¬å‹ï¼‘. è¯è¢‹ï¼šæ–‡æœ¬æ•°æ®é¢„å¤„ç†åï¼Œå»æ‰åœç”¨è¯ï¼Œå‰©ä¸‹çš„è¯ç»„æˆçš„listï¼Œåœ¨è¯åº“ä¸­çš„æ˜ å°„ç¨€ç–å‘é‡ã€‚Pythonä¸­ç”¨CountVectorizerå¤„ç†è¯è¢‹ï¼ï¼’. æŠŠè¯è¢‹ä¸­çš„è¯æ‰©å……åˆ°n-gramï¼šn-gramä»£è¡¨nä¸ªè¯çš„ç»„åˆã€‚æ¯”å¦‚â€œæˆ‘å–œæ¬¢ä½ â€ã€â€œä½ å–œæ¬¢æˆ‘â€è¿™ä¸¤å¥è¯å¦‚æœç”¨è¯è¢‹è¡¨ç¤ºçš„è¯ï¼Œåˆ†è¯ååŒ…å«ç›¸åŒçš„ä¸‰ä¸ªè¯ï¼Œç»„æˆä¸€æ ·çš„å‘é‡ï¼šâ€œæˆ‘ å–œæ¬¢ ä½ â€ã€‚æ˜¾ç„¶ä¸¤å¥è¯ä¸æ˜¯åŒä¸€ä¸ªæ„æ€ï¼Œç”¨n-gramå¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚å¦‚æœç”¨2-gramï¼Œé‚£ä¹ˆâ€œæˆ‘å–œæ¬¢ä½ â€çš„å‘é‡ä¸­ä¼šåŠ ä¸Šâ€œæˆ‘å–œæ¬¢â€å’Œâ€œå–œæ¬¢ä½ â€ï¼Œâ€œä½ å–œæ¬¢æˆ‘â€çš„å‘é‡ä¸­ä¼šåŠ ä¸Šâ€œä½ å–œæ¬¢â€å’Œâ€œå–œæ¬¢æˆ‘â€ã€‚è¿™æ ·å°±åŒºåˆ†å¼€æ¥äº†ã€‚ï¼“. ä½¿ç”¨TF-IDFç‰¹å¾ï¼šTF-IDFæ˜¯ä¸€ç§ç»Ÿè®¡æ–¹æ³•ï¼Œç”¨ä»¥è¯„ä¼°ä¸€å­—è¯å¯¹äºä¸€ä¸ªæ–‡ä»¶é›†æˆ–ä¸€ä¸ªè¯­æ–™åº“ä¸­çš„å…¶ä¸­ä¸€ä»½æ–‡ä»¶çš„é‡è¦ç¨‹åº¦ã€‚å­—è¯çš„é‡è¦æ€§éšç€å®ƒåœ¨æ–‡ä»¶ä¸­å‡ºç°çš„æ¬¡æ•°æˆæ­£æ¯”å¢åŠ ï¼Œä½†åŒæ—¶ä¼šéšç€å®ƒåœ¨è¯­æ–™åº“ä¸­å‡ºç°çš„é¢‘ç‡æˆåæ¯”ä¸‹é™ã€‚TF(t) = (è¯tåœ¨å½“å‰æ–‡ä¸­å‡ºç°æ¬¡æ•°) / (tåœ¨å…¨éƒ¨æ–‡æ¡£ä¸­å‡ºç°æ¬¡æ•°)ï¼ŒIDF(t) = ln(æ€»æ–‡æ¡£æ•°/ å«tçš„æ–‡æ¡£æ•°)ï¼ŒTF-IDFæƒé‡ = TF(t) * IDF(t)ã€‚è‡ªç„¶è¯­è¨€å¤„ç†ä¸­ç»å¸¸ä¼šç”¨åˆ°ã€‚ 3ã€æ•°å€¼å‹å½’ä¸€åŒ–ï¼ˆNormalizationï¼‰123456X_train = np.array([[1., -1., 2.], [2., 0., 0.], [0., 1., -1.]])min_max_scaler = preprocessing.MinMaxScaler()X_train_minmax = min_max_scaler.fit_transform(X_train)#å°†ä¸Šè¿°å¾—åˆ°çš„scaleå‚æ•°åº”ç”¨è‡³æµ‹è¯•æ•°æ®X_test = np.array([[ -3., -1., 4.]]) X_test_minmax = min_max_scaler.transform(X_test) åŒºé—´ç¼©æ”¾ï¼ˆscalingï¼‰ 1234567X_train = np.array([[ 1., -1., 2.], [ 2., 0., 0.], [ 0., 1., -1.]])max_abs_scaler = preprocessing.MaxAbsScaler() X_train_maxabs = max_abs_scaler.fit_transform(X_train)X_test_maxabs = max_abs_scaler.transform(X_test)X_test_maxabs = max_abs_scaler.transform(X_test) æ ‡å‡†åŒ–ï¼ˆStandardizationï¼‰é€‚ç”¨æƒ…å†µçœ‹æ¨¡å‹æ˜¯å¦å…·æœ‰ä¼¸ç¼©ä¸å˜æ€§ã€‚ ä¸æ˜¯æ‰€æœ‰çš„æ¨¡å‹éƒ½ä¸€å®šéœ€è¦æ ‡å‡†åŒ–ï¼Œæœ‰äº›æ¨¡å‹å¯¹é‡çº²ä¸åŒçš„æ•°æ®æ¯”è¾ƒæ•æ„Ÿï¼Œè­¬å¦‚SVMç­‰ã€‚å½“å„ä¸ªç»´åº¦è¿›è¡Œä¸å‡åŒ€ä¼¸ç¼©åï¼Œæœ€ä¼˜è§£ä¸åŸæ¥ä¸ç­‰ä»·ï¼Œè¿™æ ·çš„æ¨¡å‹ï¼Œé™¤éåŸå§‹æ•°æ®çš„åˆ†å¸ƒèŒƒå›´æœ¬æ¥å°±ä¸å«æ¥è¿‘ï¼Œå¦åˆ™å¿…é¡»è¿›è¡Œæ ‡å‡†åŒ–ï¼Œä»¥å…æ¨¡å‹å‚æ•°è¢«åˆ†å¸ƒèŒƒå›´è¾ƒå¤§æˆ–è¾ƒå°çš„æ•°æ®ä¸»å¯¼ã€‚ä½†æ˜¯å¦‚æœæ¨¡å‹åœ¨å„ä¸ªç»´åº¦è¿›è¡Œä¸å‡åŒ€ä¼¸ç¼©åï¼Œæœ€ä¼˜è§£ä¸åŸæ¥ç­‰ä»·ï¼Œä¾‹å¦‚logistic regressionç­‰ï¼Œå¯¹äºè¿™æ ·çš„æ¨¡å‹ï¼Œæ˜¯å¦æ ‡å‡†åŒ–ç†è®ºä¸Šä¸ä¼šæ”¹å˜æœ€ä¼˜è§£ã€‚ä½†æ˜¯ï¼Œç”±äºå®é™…æ±‚è§£å¾€å¾€ä½¿ç”¨è¿­ä»£ç®—æ³•ï¼Œå¦‚æœç›®æ ‡å‡½æ•°çš„å½¢çŠ¶å¤ªâ€œæ‰â€ï¼Œè¿­ä»£ç®—æ³•å¯èƒ½æ”¶æ•›å¾—å¾ˆæ…¢ç”šè‡³ä¸æ”¶æ•›ã€‚æ‰€ä»¥å¯¹äºå…·æœ‰ä¼¸ç¼©ä¸å˜æ€§çš„æ¨¡å‹ï¼Œæœ€å¥½ä¹Ÿè¿›è¡Œæ•°æ®æ ‡å‡†åŒ–ã€‚ 1234from sklearn import preprocessing import numpy as np X = np.array([[1., -1., 2.], [2., 0., 0.], [0., 1., -1.]]) X_scaled = preprocessing.scale(X) 123scaler = preprocessing.StandardScaler().fit(X) #æµ‹è¯•å°†è¯¥scalerç”¨äºè¾“å…¥æ•°æ®ï¼Œå˜æ¢ä¹‹åå¾—åˆ°çš„ç»“æœåŒä¸Šscaler.transform(X) äºŒå€¼åŒ–1.ç‰¹å¾äºŒå€¼åŒ–ç‰¹å¾äºŒå€¼åŒ–æ˜¯æŠŠæ•°å€¼ç‰¹å¾è½¬åŒ–æˆå¸ƒå°”å€¼çš„è¿‡ç¨‹ã€‚è¿™ä¸ªæ–¹æ³•å¯¹ç¬¦åˆå¤šå˜é‡ä¼¯åŠªåˆ©åˆ†å¸ƒçš„è¾“å…¥æ•°æ®è¿›è¡Œé¢„æµ‹æ¦‚ç‡å‚æ•°å¾ˆæœ‰æ•ˆã€‚è¯¦ç»†å¯ä»¥è§è¿™ä¸ªä¾‹å­sklearn.neural_network.BernoulliRBM. å¯¹äº Normalizerï¼ŒBinarizerå·¥å…·ç±»é€šå¸¸æ˜¯åœ¨Pipelineé˜¶æ®µï¼ˆsklearn.pipeline.Pipelineï¼‰çš„å‰æœŸè¿‡ç¨‹ä¼šç”¨åˆ°ã€‚ 4ã€æ¯”èµ›å®é™…åœºæ™¯å¯è§ï¼Œé€‰æ‰‹éœ€è¦è¿›è¡Œåˆ¶å®šè§„åˆ™ã€æ•°æ®æ¸…æ´—ã€å„ä¸ªç§ç±»çš„ç‰¹å¾å¤„ç†ç­‰ï¼Œå¯¹ç‰¹å¾çš„ç ”ç©¶æ˜¯éå¸¸ç»†åŒ–çš„ã€‚ ç‰¹å¾è¡ç”Ÿç»„åˆç‰¹å¾1. æ‹¼æ¥å‹ï¼šç®€å•çš„ç»„åˆç‰¹å¾ã€‚ä¾‹å¦‚æŒ–æ˜ç”¨æˆ·å¯¹æŸç§ç±»å‹çš„å–œçˆ±ï¼Œå¯¹ç”¨æˆ·å’Œç±»å‹åšæ‹¼æ¥ã€‚æ­£è´Ÿæƒé‡ï¼Œä»£è¡¨å–œæ¬¢æˆ–ä¸å–œæ¬¢æŸç§ç±»å‹ã€‚ user_id&amp;&amp;category: 10001&amp;&amp;å¥³è£™ 10002&amp;&amp;ç”·å£«ç‰›ä»” user_id&amp;&amp;style: 10001&amp;&amp;è•¾ä¸ 10002&amp;&amp;å…¨æ£‰ 2. æ¨¡å‹ç‰¹å¾ç»„åˆï¼š ç”¨GBDTäº§å‡ºç‰¹å¾ç»„åˆè·¯å¾„ ç»„åˆç‰¹å¾å’ŒåŸå§‹ç‰¹å¾ä¸€èµ·æ”¾è¿›LRè®­ç»ƒ ç”Ÿæˆå¤šé¡¹å¼ç‰¹å¾1234X = np.arange(9).reshape(3, 3)#åªéœ€è¦ç‰¹å¾çš„äº¤å‰é¡¹ï¼Œå¯ä»¥è®¾ç½®interaction_only=Truepoly = PolynomialFeatures(degree=3, interaction_only=True)poly.fit_transform(X) æ­¤æ–¹æ³•ç»å¸¸ç”¨äºæ ¸æ–¹æ³•ä¸­ è‡ªå®šä¹‰ç‰¹å¾1.æƒ³ç”¨å¯¹æ•°æ®å–å¯¹æ•°ï¼Œå¯ä»¥è‡ªå·±ç”¨ FunctionTransformerè‡ªå®šä¹‰ä¸€ä¸ªè½¬åŒ–å™¨,å¹¶ä¸”å¯ä»¥åœ¨Pipelineä¸­ä½¿ç”¨` 1234from sklearn.preprocessing import FunctionTransformer transformer = FunctionTransformer(np.log1p)#æ‹¬å·å†…çš„å°±æ˜¯è‡ªå®šä¹‰å‡½æ•°X = np.array([[0, 1], [2, 3]]) transformer.transform(X) 2.å¦‚æœä½ åœ¨åšä¸€ä¸ªåˆ†ç±»ä»»åŠ¡æ—¶ï¼Œå‘ç°ç¬¬ä¸€ä¸»æˆåˆ†ä¸è¿™ä¸ªä¸ç›¸å…³ï¼Œä½ å¯ä»¥ç”¨FunctionTransformeræŠŠç¬¬ä¸€åˆ—é™¤å»ï¼Œå‰©ä¸‹çš„åˆ—ç”¨PCA ç‰¹å¾é€‰æ‹©ç‰¹å¾é€‰æ‹©ï¼Œå°±æ˜¯ä»å¤šä¸ªç‰¹å¾ä¸­ï¼ŒæŒ‘é€‰å‡ºä¸€äº›å¯¹ç»“æœé¢„æµ‹æœ€æœ‰ç”¨çš„ç‰¹å¾ã€‚å› ä¸ºåŸå§‹çš„ç‰¹å¾ä¸­å¯èƒ½ä¼šæœ‰å†—ä½™å’Œå™ªå£°ã€‚ 1 è¿‡æ»¤å‹ æ–¹æ³•ï¼š è¯„ä¼°å•ä¸ªç‰¹å¾å’Œç»“æœå€¼ä¹‹é—´çš„ç›¸å…³ç¨‹åº¦ï¼Œ æ’åºç•™ä¸‹Topç›¸å…³çš„ç‰¹å¾éƒ¨åˆ†ã€‚ è¯„ä»·æ–¹å¼ï¼šPearsonç›¸å…³ç³»æ•°ï¼Œ äº’ä¿¡æ¯ï¼Œ è·ç¦»ç›¸å…³åº¦ã€‚ ç¼ºç‚¹ï¼šåªè¯„ä¼°äº†å•ä¸ªç‰¹å¾å¯¹ç»“æœçš„å½±å“ï¼Œæ²¡æœ‰è€ƒè™‘åˆ°ç‰¹å¾ä¹‹é—´çš„å…³è”ä½œç”¨ï¼Œ å¯èƒ½æŠŠæœ‰ç”¨çš„å…³è”ç‰¹å¾è¯¯è¸¢æ‰ã€‚å› æ­¤å·¥ä¸šç•Œä½¿ç”¨æ¯”è¾ƒå°‘ã€‚ pythonåŒ…ï¼šSelectKBestæŒ‡å®šè¿‡æ»¤ä¸ªæ•°ã€SelectPercentileæŒ‡å®šè¿‡æ»¤ç™¾åˆ†æ¯”ã€‚ 2 åŒ…è£¹å‹ æ–¹æ³•ï¼šæŠŠç‰¹å¾é€‰æ‹©çœ‹åšä¸€ä¸ªç‰¹å¾å­é›†æœç´¢é—®é¢˜ï¼Œ ç­›é€‰å„ç§ç‰¹å¾å­é›†ï¼Œ ç”¨æ¨¡å‹è¯„ä¼°æ•ˆæœã€‚ å…¸å‹ç®—æ³•ï¼šâ€œé€’å½’ç‰¹å¾åˆ é™¤ç®—æ³•â€ã€‚ åº”ç”¨åœ¨é€»è¾‘å›å½’çš„è¿‡ç¨‹ï¼šç”¨å…¨é‡ç‰¹å¾è·‘ä¸€ä¸ªæ¨¡å‹ï¼›æ ¹æ®çº¿æ€§æ¨¡å‹çš„ç³»æ•°(ä½“ç°ç›¸å…³æ€§)ï¼Œåˆ æ‰5-10%çš„å¼±ç‰¹å¾ï¼Œè§‚å¯Ÿå‡†ç¡®ç‡/aucçš„å˜åŒ–ï¼›é€æ­¥è¿›è¡Œï¼Œ ç›´è‡³å‡†ç¡®ç‡/aucå‡ºç°å¤§çš„ä¸‹æ»‘åœæ­¢ã€‚ pythonåŒ…ï¼šRFE 3 åµŒå…¥å‹ æ–¹æ³•ï¼šæ ¹æ®æ¨¡å‹æ¥åˆ†æç‰¹å¾çš„é‡è¦æ€§ï¼Œæœ€å¸¸è§çš„æ–¹å¼ä¸ºç”¨æ­£åˆ™åŒ–æ–¹å¼æ¥åšç‰¹å¾é€‰æ‹©ã€‚ ä¸¾ä¾‹ï¼šæœ€æ—©åœ¨ç”µå•†ç”¨LRåšCTRé¢„ä¼°ï¼Œ åœ¨3-5äº¿ç»´çš„ç³»æ•°ç‰¹å¾ä¸Šç”¨L1æ­£åˆ™åŒ–çš„LRæ¨¡å‹ã€‚ä¸Šä¸€ç¯‡ä»‹ç»äº†L1æ­£åˆ™åŒ–æœ‰æˆªæ–­ä½œç”¨ï¼Œå‰©ä½™2-3åƒä¸‡çš„featureï¼Œ æ„å‘³ç€å…¶ä»–çš„featureé‡è¦åº¦ä¸å¤Ÿã€‚ pythonåŒ…ï¼šfeature_selection.SelectFromModelé€‰å‡ºæƒé‡ä¸ä¸º0çš„ç‰¹å¾ã€‚ ç‰¹å¾é™ç»´ åœ¨æ•°æ®å¤„ç†ä¸­ï¼Œç»å¸¸ä¼šé‡åˆ°ç‰¹å¾ç»´åº¦æ¯”æ ·æœ¬æ•°é‡å¤šå¾—å¤šçš„æƒ…å†µï¼Œå¦‚æœæ‹¿åˆ°å®é™…å·¥ç¨‹ä¸­å»è·‘ï¼Œæ•ˆæœä¸ä¸€å®šå¥½ã€‚ ä¸€æ˜¯å› ä¸ºå†—ä½™çš„ç‰¹å¾ä¼šå¸¦æ¥ä¸€äº›å™ªéŸ³ï¼Œå½±å“è®¡ç®—çš„ç»“æœï¼› äºŒæ˜¯å› ä¸ºæ— å…³çš„ç‰¹å¾ä¼šåŠ å¤§è®¡ç®—é‡ï¼Œè€—è´¹æ—¶é—´å’Œèµ„æºã€‚æ‰€ä»¥æˆ‘ä»¬é€šå¸¸ä¼šå¯¹æ•°æ®é‡æ–°å˜æ¢ä¸€ä¸‹ï¼Œå†è·‘æ¨¡å‹ã€‚æ•°æ®å˜æ¢çš„ç›®çš„ä¸ä»…ä»…æ˜¯é™ç»´ï¼Œè¿˜å¯ä»¥æ¶ˆé™¤ç‰¹å¾ä¹‹é—´çš„ç›¸å…³æ€§ï¼Œå¹¶å‘ç°ä¸€äº›æ½œåœ¨çš„ç‰¹å¾å˜é‡ã€‚ PCA è¿‡ç¨‹1.å»æ‰æ•°æ®çš„ç±»åˆ«ç‰¹å¾ï¼ˆlabelï¼‰ï¼Œå°†å»æ‰åçš„dç»´æ•°æ®ä½œä¸ºæ ·æœ¬2.è®¡ç®—dç»´çš„å‡å€¼å‘é‡ï¼ˆå³æ‰€æœ‰æ•°æ®çš„æ¯ä¸€ç»´å‘é‡çš„å‡å€¼ï¼‰3.è®¡ç®—æ‰€æœ‰æ•°æ®çš„æ•£å¸ƒçŸ©é˜µï¼ˆæˆ–è€…åæ–¹å·®çŸ©é˜µï¼‰4.è®¡ç®—ç‰¹å¾å€¼ï¼ˆe1,e2,â€¦,edï¼‰ä»¥åŠç›¸åº”çš„ç‰¹å¾å‘é‡ï¼ˆlambda1,lambda2,â€¦,lambda dï¼‰5.æŒ‰ç…§ç‰¹å¾å€¼çš„å¤§å°å¯¹ç‰¹å¾å‘é‡é™åºæ’åºï¼Œé€‰æ‹©å‰kä¸ªæœ€å¤§çš„ç‰¹å¾å‘é‡ï¼Œç»„æˆdkç»´çš„çŸ©é˜µWï¼ˆå…¶ä¸­æ¯ä¸€åˆ—ä»£è¡¨ä¸€ä¸ªç‰¹å¾å‘é‡ï¼‰6.è¿ç”¨dKçš„ç‰¹å¾å‘é‡çŸ©é˜µWå°†æ ·æœ¬æ•°æ®å˜æ¢æˆæ–°çš„å­ç©ºé—´ã€‚ï¼ˆç”¨æ•°å­¦å¼å­è¡¨è¾¾å°±æ˜¯ï¼Œå…¶ä¸­xæ˜¯d1ç»´çš„å‘é‡ï¼Œä»£è¡¨ä¸€ä¸ªæ ·æœ¬ï¼Œyæ˜¯K1ç»´çš„åœ¨æ–°çš„å­ç©ºé—´é‡Œçš„å‘é‡ï¼‰ pythoné‡Œæœ‰å·²ç»å†™å¥½çš„æ¨¡å—ï¼Œå¯ä»¥ç›´æ¥æ‹¿æ¥ç”¨ï¼Œä½†æ˜¯æˆ‘è§‰å¾—ä¸ç®¡ä»€ä¹ˆæ¨¡å—ï¼Œéƒ½è¦æ‡‚å¾—å®ƒçš„åŸç†æ˜¯ä»€ä¹ˆã€‚matplotlibæœ‰matplotlib.mlab.PCA()ï¼Œsklearnä¹Ÿæœ‰ä¸“é—¨ä¸€ä¸ªæ¨¡å—Dimensionality reductionä¸“é—¨è®²PCAï¼ŒåŒ…æ‹¬ä¼ ç»Ÿçš„PCAï¼Œä¹Ÿå°±æ˜¯æˆ‘ä¸Šæ–‡å†™çš„ï¼Œä»¥åŠå¢é‡PCAï¼Œæ ¸PCAç­‰ç­‰ï¼Œé™¤äº†PCAä»¥å¤–ï¼Œè¿˜æœ‰ZCAç™½åŒ–ç­‰ç­‰ï¼Œåœ¨å›¾åƒå¤„ç†ä¸­ä¹Ÿç»å¸¸ä¼šç”¨åˆ°ã€‚ æ¨èä¸€ä¸ªåšå®¢ï¼ŒåŠ¨æ€å±•ç¤ºäº†PCAçš„è¿‡ç¨‹ï¼šhttp://setosa.io/ev/principal-component-analysis/ å†™çš„ä¹Ÿå¾ˆæ¸…æ¥šï¼Œå¯ä»¥çœ‹ä¸€ä¸‹ï¼›å†æ¨èä¸€ä¸ªç»´åŸºç™¾ç§‘çš„ï¼Œè®²çš„çœŸçš„æ˜¯è¯¦ç»†å•Šhttps://en.wikipedia.org/wiki/Principal_component_analysis çº¿æ€§å›å½’æ¨¡å‹çº¿æ€§å›å½’çš„æ­£åˆ™åŒ–Lassoå›å½’ çº¿æ€§å›å½’çš„L1æ­£åˆ™åŒ–é€šå¸¸ç§°ä¸ºLassoå›å½’ï¼ŒÎ±æ¥è°ƒèŠ‚æŸå¤±å‡½æ•°çš„å‡æ–¹å·®é¡¹å’Œæ­£åˆ™åŒ–é¡¹çš„æƒé‡ã€‚ Lassoå›å½’å¯ä»¥ä½¿å¾—ä¸€äº›ç‰¹å¾çš„ç³»æ•°å˜å°ï¼Œç”šè‡³è¿˜æ˜¯ä¸€äº›ç»å¯¹å€¼è¾ƒå°çš„ç³»æ•°ç›´æ¥å˜ä¸º0ï¼Œæ•…å…·æœ‰ç‰¹å¾é€‰æ‹©çš„åŠŸèƒ½ï¼Œå¢å¼ºäº†æ¨¡å‹çš„æ³›åŒ–èƒ½åŠ›ã€‚ å²­å›å½’ çº¿æ€§å›å½’çš„L2æ­£åˆ™åŒ–é€šå¸¸ç§°ä¸ºRidgeå›å½’ã€‚ Ridgeå›å½’åœ¨ä¸æŠ›å¼ƒä»»ä½•ä¸€ä¸ªç‰¹å¾çš„æƒ…å†µä¸‹ï¼Œç¼©å°äº†å›å½’ç³»æ•°ï¼Œä½¿å¾—æ¨¡å‹ç›¸å¯¹è€Œè¨€æ¯”è¾ƒçš„ç¨³å®šï¼Œä½†å’ŒLassoå›å½’æ¯”ï¼Œè¿™ä¼šä½¿å¾—æ¨¡å‹çš„ç‰¹å¾ç•™çš„ç‰¹åˆ«å¤šï¼Œæ¨¡å‹è§£é‡Šæ€§å·®ã€‚ Ridgeå›å½’çš„æ±‚è§£æ¯”è¾ƒç®€å•ï¼Œä¸€èˆ¬ç”¨æœ€å°äºŒä¹˜æ³•ã€‚ L1æ­£åˆ™åŒ–äº§ç”Ÿç¨€ç–çš„æƒå€¼, å…·æœ‰ç‰¹å¾é€‰æ‹©çš„ä½œç”¨ï¼›L2æ­£åˆ™åŒ–äº§ç”Ÿå¹³æ»‘çš„æƒå€¼ã€‚ æœ€å°äºŒä¹˜æ³•çš„å±€é™æ€§ æœ€å°äºŒä¹˜æ³•éœ€è¦è®¡ç®—XTXçš„é€†çŸ©é˜µï¼Œæœ‰å¯èƒ½å®ƒçš„é€†çŸ©é˜µä¸å­˜åœ¨ï¼Œè¿™æ ·å°±æ²¡æœ‰åŠæ³•ç›´æ¥ç”¨æœ€å°äºŒä¹˜æ³•äº† å½“æ ·æœ¬ç‰¹å¾néå¸¸çš„å¤§çš„æ—¶å€™ï¼Œè®¡ç®—XTXçš„é€†çŸ©é˜µæ˜¯ä¸€ä¸ªéå¸¸è€—æ—¶çš„å·¥ä½œï¼ˆnxnçš„çŸ©é˜µæ±‚é€†ï¼‰ï¼Œå½“ç„¶ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å¯¹æ ·æœ¬æ•°æ®è¿›è¡Œæ•´ç†ï¼Œå»æ‰å†—ä½™ç‰¹å¾ã€‚è®©XTXçš„è¡Œåˆ—å¼ä¸ä¸º0ï¼Œç„¶åç»§ç»­ä½¿ç”¨æœ€å°äºŒä¹˜æ³•ã€‚ å¦‚æœæ‹Ÿåˆå‡½æ•°ä¸æ˜¯çº¿æ€§çš„ï¼Œè¿™æ—¶æ— æ³•ä½¿ç”¨æœ€å°äºŒä¹˜æ³•ï¼Œéœ€è¦é€šè¿‡ä¸€äº›æŠ€å·§è½¬åŒ–ä¸ºçº¿æ€§æ‰èƒ½ä½¿ç”¨ å½“æ ·æœ¬é‡må¾ˆå°‘ï¼Œå°äºç‰¹å¾æ•°nçš„æ—¶å€™ï¼Œè¿™æ—¶æ‹Ÿåˆæ–¹ç¨‹æ˜¯æ¬ å®šçš„ï¼Œå¸¸ç”¨çš„ä¼˜åŒ–æ–¹æ³•éƒ½æ— æ³•å»æ‹Ÿåˆæ•°æ®ã€‚å½“æ ·æœ¬é‡mç­‰äºç‰¹å¾æ•°nçš„æ—¶å€™ï¼Œç”¨æ–¹ç¨‹ç»„æ±‚è§£å°±å¯ä»¥äº†ã€‚å½“må¤§äºnæ—¶ï¼Œæ‹Ÿåˆæ–¹ç¨‹æ˜¯è¶…å®šçš„ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬å¸¸ç”¨ä¸æœ€å°äºŒä¹˜æ³•çš„åœºæ™¯äº†ã€‚ å†³ç­–æ ‘å†³ç­–æ ‘æ„å»ºä¸­çš„åˆ†è£‚å‡†åˆ™å†³ç­–æ ‘å¯ä»¥é€šè¿‡ä¸€ç³»åˆ—è§„åˆ™é€’å½’åœ°åˆ†å‰²ç‰¹å¾ç©ºé—´ ä¿¡æ¯å¢ç›Šï¼ˆinformation gainï¼‰å±æ€§åˆ’åˆ†å‡å°‘çš„ä¿¡æ¯ç†µï¼Œä¿¡æ¯ç†µæ˜¯åº¦é‡æ ·æœ¬é›†åˆçº¯åº¦çš„ä¸€ç§æŒ‡æ ‡ï¼Œå‡è®¾ç¬¬kç±»æ ·æœ¬æ‰€å æ¯”ä¾‹ä¸ºpkï¼Œåˆ™æ•°æ®é›†Dçš„ä¿¡æ¯ç†µä¸ºï¼šEnt(D)=-âˆ‘pklogpkï¼ŒEnt(D)è¶Šå°ï¼ŒDçš„çº¯åº¦è¶Šé«˜ã€‚ Gain(D,a)=Ent(D)-âˆ‘(Dv/D*Ent(Dv))ï¼ŒDvæ˜¯æŸä¸ªå±æ€§açš„æŸä¸ªå¯èƒ½å–å€¼çš„æ ·æœ¬é›†åˆ å¢ç›Šç‡ï¼ˆgain ratioï¼‰ä¿¡æ¯å¢ç›Šå‡†åˆ™å¯¹å¯å–å€¼æ•°ç›®è¾ƒå¤šçš„å±æ€§æœ‰åå¥½ï¼Œä¸ºå‡å°‘è¿™ç§åå¥½çš„ä¸åˆ©å½±å“ï¼Œä½¿ç”¨å¢ç›Šç‡é€‰æ‹©æœ€ä¼˜åˆ’åˆ†å±æ€§ï¼Œå¢ç›Šç‡å®šä¹‰ä¸º:Gain_ratio(D,a)=Gain(D,a)/IV(a), IV(a)=-âˆ‘(Dv/D*log(Dv/D))ï¼ŒIV(a)ç§°ä¸ºä¸ºaçš„å›ºæœ‰å€¼ã€‚å±æ€§å¯èƒ½å–å€¼æ•°ç›®è¶Šå¤šï¼ŒIV(a)çš„å€¼è¶Šå¤§ï¼Œå¢ç›Šç‡å³å¢ç›Š/å›ºæœ‰å€¼ã€‚ åŸºå°¼æŒ‡æ•°(Gini index)åŸºå°¼æŒ‡æ•°æ˜¯å¦å¤–ä¸€ç§æ•°æ®çš„ä¸çº¯åº¦çš„åº¦é‡æ–¹æ³•ï¼Œå…¶å®šä¹‰å¦‚ä¸‹ï¼š å…¶ä¸­çš„mä»ç„¶è¡¨ç¤ºæ•°æ®é›†Dä¸­ç±»åˆ«Cçš„ä¸ªæ•°ï¼ŒPiè¡¨ç¤ºDä¸­ä»»æ„ä¸€ä¸ªè®°å½•å±äºCiçš„æ¦‚ç‡ï¼Œè®¡ç®—æ—¶Pi=(Dä¸­å±äºCiç±»çš„é›†åˆçš„è®°å½•ä¸ªæ•°/|D|)ã€‚å¦‚æœæ‰€æœ‰çš„è®°å½•éƒ½å±äºåŒä¸€ä¸ªç±»ä¸­ï¼Œåˆ™P1=1ï¼ŒGini(D)=0ï¼Œæ­¤æ—¶ä¸çº¯åº¦æœ€ä½ã€‚åœ¨CART(Classification and Regression Tree)ç®—æ³•ä¸­åˆ©ç”¨åŸºå°¼æŒ‡æ•°æ„é€ äºŒå‰å†³ç­–æ ‘ï¼Œå¯¹æ¯ä¸ªå±æ€§éƒ½ä¼šæšä¸¾å…¶å±æ€§çš„éç©ºçœŸå­é›†ï¼Œä»¥å±æ€§Råˆ†è£‚åçš„åŸºå°¼ç³»æ•°ä¸ºï¼š D1ä¸ºDçš„ä¸€ä¸ªéç©ºçœŸå­é›†ï¼ŒD2ä¸ºD1åœ¨Dçš„è¡¥é›†ï¼Œå³D1+D2=Dï¼Œå¯¹äºå±æ€§Ræ¥è¯´ï¼Œæœ‰å¤šä¸ªçœŸå­é›†ï¼Œå³GiniR(D)æœ‰å¤šä¸ªå€¼ï¼Œä½†æˆ‘ä»¬é€‰å–æœ€å°çš„é‚£ä¹ˆå€¼ä½œä¸ºRçš„åŸºå°¼æŒ‡æ•°ã€‚æœ€åï¼š å¯¹äºäºŒç±»åˆ†ç±»ï¼ŒåŸºå°¼ç³»æ•°å’Œç†µä¹‹åŠçš„æ›²çº¿å¦‚ä¸‹ï¼š ä»ä¸Šå›¾å¯ä»¥çœ‹å‡ºï¼ŒåŸºå°¼ç³»æ•°å’Œç†µä¹‹åŠçš„æ›²çº¿éå¸¸æ¥è¿‘ï¼Œä»…ä»…åœ¨45åº¦è§’é™„è¿‘è¯¯å·®ç¨å¤§ã€‚å› æ­¤ï¼ŒåŸºå°¼ç³»æ•°å¯ä»¥åšä¸ºç†µæ¨¡å‹çš„ä¸€ä¸ªè¿‘ä¼¼æ›¿ä»£ å¸¸ç”¨å†³ç­–æ ‘æ¨¡å‹å†³ç­–æ ‘æ¨¡å‹æ€»ç»“ ç®—æ³• æ”¯æŒæ¨¡å‹ æ ‘ç»“æ„ ç‰¹å¾é€‰æ‹© è¿ç»­å€¼å¤„ç† ç¼ºå¤±å€¼å¤„ç† å‰ªæ ID3 åˆ†ç±» å¤šå‰æ ‘ ä¿¡æ¯å¢ç›Š ä¸æ”¯æŒ ä¸æ”¯æŒ ä¸æ”¯æŒ C4.5 åˆ†ç±» å¤šå‰æ ‘ ä¿¡æ¯å¢ç›Šæ¯” æ”¯æŒ æ”¯æŒ æ”¯æŒ CART åˆ†ç±»ï¼Œå›å½’ äºŒå‰æ ‘ åŸºå°¼ç³»æ•°ï¼Œå‡æ–¹å·® æ”¯æŒ æ”¯æŒ æ”¯æŒ CARTå†³ç­–æ ‘å±æ€§åˆ†è£‚æ–¹æ³• mä¸ªæ ·æœ¬çš„è¿ç»­ç‰¹å¾Aæœ‰mä¸ªï¼Œä»å°åˆ°å¤§æ’åˆ—ä¸ºa1,a2,â€¦,ama1,a2,â€¦,am,åˆ™CARTç®—æ³•å–ç›¸é‚»ä¸¤æ ·æœ¬å€¼çš„ä¸­ä½æ•°ï¼Œä¸€å…±å–å¾—m-1ä¸ªåˆ’åˆ†ç‚¹ã€‚ å¯¹äºè¿™m-1ä¸ªç‚¹ï¼Œåˆ†åˆ«è®¡ç®—ä»¥è¯¥ç‚¹ä½œä¸ºäºŒå…ƒåˆ†ç±»ç‚¹æ—¶çš„åŸºå°¼ç³»æ•°ã€‚é€‰æ‹©åŸºå°¼ç³»æ•°æœ€å°çš„ç‚¹ä½œä¸ºè¯¥è¿ç»­ç‰¹å¾çš„äºŒå…ƒç¦»æ•£åˆ†ç±»ç‚¹ã€‚ å†³ç­–æ ‘ä¼˜åŒ–æ–¹æ³•åå‰ªæï¼ˆpostpruningï¼‰å…ˆä»è®­ç»ƒé›†ç”Ÿæˆä¸€é¢—å®Œæ•´çš„å†³ç­–æ ‘ï¼Œç„¶åè‡ªåº•å‘ä¸Šåœ°å¯¹éå¶èŠ‚ç‚¹è¿›è¡Œè€ƒå¯Ÿï¼Œè‹¥å°†è¯¥ç»“ç‚¹å­æ ‘æ›¿æ¢æˆå¶èŠ‚ç‚¹èƒ½æå‡æ³›åŒ–æ€§èƒ½ï¼Œåˆ™è¿›è¡Œæ›¿æ¢ï¼Œåå‰ªæè®­ç»ƒæ—¶é—´å¼€é”€å¤§ã€‚ é¢„å‰ªæï¼ˆprepruningï¼‰åœ¨å†³ç­–æ ‘ç”Ÿæˆè¿‡ç¨‹ä¸­ï¼Œå¯¹æ¯ä¸ªç»“ç‚¹åœ¨åˆ’åˆ†å‰å…ˆè¿›è¡Œä¼°è®¡ï¼Œè‹¥å½“å‰ç»“ç‚¹çš„åˆ’åˆ†ä¸èƒ½å¸¦æ¥å†³ç­–æ ‘æ³›åŒ–æ€§èƒ½çš„æå‡ï¼Œåˆ™åœæ­¢åˆ’åˆ†å¹¶å°†å½“å‰ç»“ç‚¹æ ‡è®°ä¸ºå¶èŠ‚ç‚¹ï¼Œé¢„å‰ªæåŸºäºè´ªå¿ƒå­˜åœ¨æ¬ æ‹Ÿåˆçš„é£é™©ã€‚ æŠ‘åˆ¶å•é¢—å†³ç­–æ ‘çš„å¤æ‚åº¦çš„æ–¹æ³• é™åˆ¶æ ‘çš„æœ€å¤§æ·±åº¦ é™åˆ¶å¶å­èŠ‚ç‚¹çš„æœ€å°‘æ ·æœ¬æ•°é‡ é™åˆ¶èŠ‚ç‚¹åˆ†è£‚æ—¶çš„æœ€å°‘æ ·æœ¬æ•°é‡ å¸æ”¶ bagging çš„æ€æƒ³å¯¹è®­ç»ƒæ ·æœ¬é‡‡æ ·ï¼Œåœ¨å­¦ä¹ å•é¢—å†³ç­–æ ‘æ—¶åªä½¿ç”¨ä¸€éƒ¨åˆ†è®­ç»ƒæ ·æœ¬ å€Ÿé‰´éšæœºæ£®æ—çš„æ€è·¯åœ¨å­¦ä¹ å•é¢—å†³ç­–æ ‘æ—¶åªé‡‡æ ·ä¸€éƒ¨åˆ†ç‰¹å¾ï¼Œåœ¨ç›®æ ‡å‡½æ•°ä¸­æ·»åŠ æ­£åˆ™é¡¹æƒ©ç½šå¤æ‚çš„æ ‘ç»“ã€‚ å†³ç­–æ ‘ç®—æ³•çš„ä¼˜ç‚¹ åŸºæœ¬ä¸éœ€è¦é¢„å¤„ç†ï¼Œä¸éœ€è¦æå‰å½’ä¸€åŒ–ï¼Œå¤„ç†ç¼ºå¤±å€¼ã€‚ ä½¿ç”¨å†³ç­–æ ‘é¢„æµ‹çš„ä»£ä»·æ˜¯O(log2m)ã€‚ mä¸ºæ ·æœ¬æ•°ã€‚ æ—¢å¯ä»¥å¤„ç†ç¦»æ•£å€¼ä¹Ÿå¯ä»¥å¤„ç†è¿ç»­å€¼ã€‚å¾ˆå¤šç®—æ³•åªæ˜¯4.ä¸“æ³¨äºç¦»æ•£å€¼æˆ–è€…è¿ç»­å€¼ã€‚ å¯ä»¥å¤„ç†å¤šç»´åº¦è¾“å‡ºçš„åˆ†ç±»é—®é¢˜ã€‚ ç›¸æ¯”äºç¥ç»ç½‘ç»œä¹‹ç±»çš„é»‘ç›’åˆ†ç±»æ¨¡å‹ï¼Œå†³ç­–æ ‘åœ¨é€»è¾‘ä¸Šå¯ä»¥å¾—åˆ°å¾ˆå¥½çš„è§£é‡Š å¯ä»¥äº¤å‰éªŒè¯çš„å‰ªææ¥é€‰æ‹©æ¨¡å‹ï¼Œä»è€Œæé«˜æ³›åŒ–èƒ½åŠ›ã€‚ å¯¹äºå¼‚å¸¸ç‚¹çš„å®¹é”™èƒ½åŠ›å¥½ï¼Œå¥å£®æ€§é«˜ã€‚ å†³ç­–æ ‘ç®—æ³•çš„ç¼ºé™· å†³ç­–æ ‘ç®—æ³•éå¸¸å®¹æ˜“è¿‡æ‹Ÿåˆï¼Œå¯¼è‡´æ³›åŒ–èƒ½åŠ›ä¸å¼ºã€‚å¯ä»¥é€šè¿‡è®¾ç½®èŠ‚ç‚¹æœ€å°‘æ ·æœ¬æ•°é‡å’Œé™åˆ¶å†³ç­–æ ‘æ·±åº¦æ¥æ”¹è¿›ã€‚ å†³ç­–æ ‘ä¼šå› ä¸ºæ ·æœ¬å‘ç”Ÿä¸€ç‚¹ç‚¹çš„æ”¹åŠ¨ï¼Œå°±ä¼šå¯¼è‡´æ ‘ç»“æ„çš„å‰§çƒˆæ”¹å˜ã€‚è¿™ä¸ªå¯ä»¥é€šè¿‡é›†æˆå­¦ä¹ ä¹‹ç±»çš„æ–¹æ³•è§£å†³ã€‚ å¯»æ‰¾æœ€ä¼˜çš„å†³ç­–æ ‘æ˜¯ä¸€ä¸ªNPéš¾çš„é—®é¢˜ï¼Œæˆ‘ä»¬ä¸€èˆ¬æ˜¯é€šè¿‡å¯å‘å¼æ–¹æ³•ï¼Œå®¹æ˜“é™·å…¥å±€éƒ¨æœ€ä¼˜ã€‚å¯ä»¥é€šè¿‡é›†æˆå­¦ä¹ ä¹‹ç±»çš„æ–¹æ³•æ¥æ”¹å–„ã€‚ æœ‰äº›æ¯”è¾ƒå¤æ‚çš„å…³ç³»ï¼Œå†³ç­–æ ‘å¾ˆéš¾å­¦ä¹ ï¼Œæ¯”å¦‚å¼‚æˆ–ã€‚è¿™ä¸ªå°±æ²¡æœ‰åŠæ³•äº†ï¼Œä¸€èˆ¬è¿™ç§å…³ç³»å¯ä»¥æ¢ç¥ç»ç½‘ç»œåˆ†ç±»æ–¹æ³•æ¥è§£å†³ã€‚ å¦‚æœæŸäº›ç‰¹å¾çš„æ ·æœ¬æ¯”ä¾‹è¿‡å¤§ï¼Œç”Ÿæˆå†³ç­–æ ‘å®¹æ˜“åå‘äºè¿™äº›ç‰¹å¾ã€‚è¿™ä¸ªå¯ä»¥é€šè¿‡è°ƒèŠ‚æ ·æœ¬æƒé‡æ¥æ”¹å–„ã€‚ æ¢¯åº¦åœ¨æœ€å°åŒ–æŸå¤±å‡½æ•°æ—¶ï¼Œå¯ä»¥é€šè¿‡æ¢¯åº¦ä¸‹é™æ³•æ¥ä¸€æ­¥æ­¥çš„è¿­ä»£æ±‚è§£ï¼Œå¾—åˆ°æœ€å°åŒ–çš„æŸå¤±å‡½æ•°ï¼Œå’Œæ¨¡å‹å‚æ•°å€¼ã€‚åè¿‡æ¥ï¼Œå¦‚æœæˆ‘ä»¬éœ€è¦æ±‚è§£æŸå¤±å‡½æ•°çš„æœ€å¤§å€¼ï¼Œè¿™æ—¶å°±éœ€è¦ç”¨æ¢¯åº¦ä¸Šå‡æ³•æ¥è¿­ä»£äº†ã€‚ æ¢¯åº¦ä¸‹é™æ³•çš„è¶…å‚æ•° æ­¥é•¿ï¼ˆstep sizeï¼‰å­¦ä¹ é€Ÿç‡ï¼ˆlearning rateï¼‰ä¹˜ä»¥åå¯¼æ•°çš„å€¼ï¼Œå³æ¢¯åº¦ä¸‹é™ä¸­çš„æ­¥é•¿ã€‚ æ¢¯åº¦ä¸‹é™çš„ç®—æ³•è°ƒä¼˜ ç®—æ³•çš„æ­¥é•¿é€‰æ‹©ã€‚åœ¨å‰é¢çš„ç®—æ³•æè¿°ä¸­ï¼Œæˆ‘æåˆ°å–æ­¥é•¿ä¸º1ï¼Œä½†æ˜¯å®é™…ä¸Šå–å€¼å–å†³äºæ•°æ®æ ·æœ¬ï¼Œå¯ä»¥å¤šå–ä¸€äº›å€¼ï¼Œä»å¤§åˆ°å°ï¼Œåˆ†åˆ«è¿è¡Œç®—æ³•ï¼Œçœ‹çœ‹è¿­ä»£æ•ˆæœï¼Œå¦‚æœæŸå¤±å‡½æ•°åœ¨å˜å°ï¼Œè¯´æ˜å–å€¼æœ‰æ•ˆï¼Œå¦åˆ™è¦å¢å¤§æ­¥é•¿ã€‚å‰é¢è¯´äº†ã€‚æ­¥é•¿å¤ªå¤§ï¼Œä¼šå¯¼è‡´è¿­ä»£è¿‡å¿«ï¼Œç”šè‡³æœ‰å¯èƒ½é”™è¿‡æœ€ä¼˜è§£ã€‚æ­¥é•¿å¤ªå°ï¼Œè¿­ä»£é€Ÿåº¦å¤ªæ…¢ï¼Œå¾ˆé•¿æ—¶é—´ç®—æ³•éƒ½ä¸èƒ½ç»“æŸã€‚æ‰€ä»¥ç®—æ³•çš„æ­¥é•¿éœ€è¦å¤šæ¬¡è¿è¡Œåæ‰èƒ½å¾—åˆ°ä¸€ä¸ªè¾ƒä¸ºä¼˜çš„å€¼ã€‚ ç®—æ³•å‚æ•°çš„åˆå§‹å€¼é€‰æ‹©ã€‚ åˆå§‹å€¼ä¸åŒï¼Œè·å¾—çš„æœ€å°å€¼ä¹Ÿæœ‰å¯èƒ½ä¸åŒï¼Œå› æ­¤æ¢¯åº¦ä¸‹é™æ±‚å¾—çš„åªæ˜¯å±€éƒ¨æœ€å°å€¼ï¼›å½“ç„¶å¦‚æœæŸå¤±å‡½æ•°æ˜¯å‡¸å‡½æ•°åˆ™ä¸€å®šæ˜¯æœ€ä¼˜è§£ã€‚ç”±äºæœ‰å±€éƒ¨æœ€ä¼˜è§£çš„é£é™©ï¼Œéœ€è¦å¤šæ¬¡ç”¨ä¸åŒåˆå§‹å€¼è¿è¡Œç®—æ³•ï¼Œå…³é”®æŸå¤±å‡½æ•°çš„æœ€å°å€¼ï¼Œé€‰æ‹©æŸå¤±å‡½æ•°æœ€å°åŒ–çš„åˆå€¼ã€‚ æ ‡å‡†åŒ–ã€‚ç”±äºæ ·æœ¬ä¸åŒç‰¹å¾çš„å–å€¼èŒƒå›´ä¸ä¸€æ ·ï¼Œå¯èƒ½å¯¼è‡´è¿­ä»£å¾ˆæ…¢ï¼Œä¸ºäº†å‡å°‘ç‰¹å¾å–å€¼çš„å½±å“ï¼Œå¯ä»¥å¯¹ç‰¹å¾æ•°æ®æ ‡å‡†åŒ–ï¼Œè¿™æ ·ç‰¹å¾çš„æ–°æœŸæœ›ä¸º0ï¼Œæ–°æ–¹å·®ä¸º1ï¼Œè¿­ä»£æ¬¡æ•°å¯ä»¥å¤§å¤§åŠ å¿«ã€‚ æ¢¯åº¦ä¸‹é™æ–¹æ³•æ€»ç»“æ‰¹æ¢¯åº¦ä¸‹é™(batch gradient descent/BGD)æ±‚æ¢¯åº¦çš„æ—¶å€™å°±ç”¨äº†æ‰€æœ‰mä¸ªæ ·æœ¬çš„æ¢¯åº¦æ•°æ®ã€‚ éšæœºæ¢¯åº¦ä¸‹é™ï¼ˆstochastic gradient descent/SGDï¼‰éšæœºæ¢¯åº¦ä¸‹é™æ³•ç”±äºæ¯æ¬¡ä»…ä»…é‡‡ç”¨ä¸€ä¸ªæ ·æœ¬æ¥è¿­ä»£ã€‚ä¼˜ç‚¹æ˜¯é€Ÿåº¦å¿«ä»¥åŠå¯ä»¥è·³å‡ºå±€éƒ¨æœ€ä¼˜è§£ï¼Œç¼ºç‚¹æ˜¯å¯¼è‡´è¿­ä»£æ–¹å‘å˜åŒ–å¾ˆå¤§ï¼Œä¸èƒ½å¾ˆå¿«çš„æ”¶æ•›åˆ°å±€éƒ¨æœ€ä¼˜è§£ã€‚ å°æ‰¹é‡éšæœºæ¢¯åº¦ä¸‹é™ï¼ˆmini-batch stochastic gradient descentï¼‰å°æ‰¹é‡æ¢¯åº¦ä¸‹é™æ³•æ˜¯æ‰¹é‡æ¢¯åº¦ä¸‹é™æ³•å’Œéšæœºæ¢¯åº¦ä¸‹é™æ³•çš„æŠ˜è¡·ï¼Œä¹Ÿå°±æ˜¯å¯¹äºmä¸ªæ ·æœ¬ï¼Œæˆ‘ä»¬é‡‡ç”¨xä¸ªæ ·å­æ¥è¿­ä»£ï¼Œ1&lt;x&lt;mã€‚ä¸€èˆ¬å¯ä»¥å–x=10ï¼Œå½“ç„¶æ ¹æ®æ ·æœ¬çš„æ•°æ®ï¼Œå¯ä»¥è°ƒæ•´è¿™ä¸ªxçš„å€¼ã€‚ æ¢¯åº¦ä¸‹é™æ³•ä¸æœ€å°äºŒä¹˜æ³• æ¢¯åº¦ä¸‹é™æ³•å’Œæœ€å°äºŒä¹˜æ³•ç›¸æ¯”ï¼Œæ¢¯åº¦ä¸‹é™æ³•éœ€è¦é€‰æ‹©æ­¥é•¿ï¼Œè€Œæœ€å°äºŒä¹˜æ³•ä¸éœ€è¦ã€‚ æ¢¯åº¦ä¸‹é™æ³•æ˜¯è¿­ä»£æ±‚è§£ï¼Œæœ€å°äºŒä¹˜æ³•æ˜¯è®¡ç®—è§£æè§£ã€‚å¦‚æœæ ·æœ¬é‡ä¸ç®—å¾ˆå¤§ï¼Œä¸”å­˜åœ¨è§£æè§£ï¼Œæœ€å°äºŒä¹˜æ³•æ¯”èµ·æ¢¯åº¦ä¸‹é™æ³•è¦æœ‰ä¼˜åŠ¿ï¼Œè®¡ç®—é€Ÿåº¦å¾ˆå¿«ã€‚ä½†æ˜¯å¦‚æœæ ·æœ¬é‡å¾ˆå¤§ï¼Œç”¨æœ€å°äºŒä¹˜æ³•ç”±äºéœ€è¦æ±‚ä¸€ä¸ªè¶…çº§å¤§çš„é€†çŸ©é˜µï¼Œè¿™æ—¶å°±å¾ˆéš¾æˆ–è€…å¾ˆæ…¢æ‰èƒ½æ±‚è§£è§£æè§£äº†ï¼Œä½¿ç”¨è¿­ä»£çš„æ¢¯åº¦ä¸‹é™æ³•æ¯”è¾ƒæœ‰ä¼˜åŠ¿ã€‚ åˆ†ç±»æ¨¡å‹æŒ‡æ ‡æ··æ·†çŸ©é˜µï¼ˆconfusion matrixï¼‰ å‡†ç¡®ç‡ï¼ˆAccuracyï¼‰å‡†ç¡®ç‡æ˜¯é¢„æµ‹å’Œæ ‡ç­¾ä¸€è‡´çš„æ ·æœ¬åœ¨æ‰€æœ‰æ ·æœ¬ä¸­æ‰€å çš„æ¯”ä¾‹ ç²¾ç¡®ç‡ï¼ˆPrecisionï¼‰ç²¾ç¡®ç‡æ˜¯ä½ é¢„æµ‹ä¸ºæ­£ç±»çš„æ•°æ®ä¸­ï¼Œæœ‰å¤šå°‘ç¡®å®æ˜¯æ­£ç±» æŸ¥å…¨ç‡ï¼ˆRecallï¼‰æŸ¥å…¨ç‡æ˜¯æ‰€æœ‰æ­£ç±»çš„æ•°æ®ä¸­ï¼Œä½ é¢„æµ‹ä¸ºæ­£ç±»çš„æ•°æ®å æ¯” ä¸åŒçš„é—®é¢˜ï¼Œåˆ¤åˆ«æ ‡å‡†ä¸åŒã€‚å¯¹äºæ¨èç³»ç»Ÿï¼Œæ›´ä¾§é‡äºæŸ¥å‡†ç‡ï¼›å¯¹äºåŒ»å­¦è¯Šæ–­ç³»ç»Ÿï¼Œæ›´ä¾§é‡äºæŸ¥å…¨ç‡ã€‚æŸ¥å‡†ç‡å’ŒæŸ¥å…¨ç‡æ˜¯ä¸€ä¸ªçŸ›ç›¾ä½“ï¼Œå¾€å¾€å·®å‡†ç‡é«˜çš„æƒ…å†µæŸ¥é‡ç‡æ¯”è¾ƒä½ã€‚ F1 Scoreæœ‰æ—¶ä¹Ÿç”¨ä¸€ä¸ªF1å€¼æ¥ç»¼åˆè¯„ä¼°ç²¾ç¡®ç‡å’Œå¬å›ç‡ï¼Œå®ƒæ˜¯ç²¾ç¡®ç‡å’Œå¬å›ç‡çš„è°ƒå’Œå‡å€¼ã€‚ F-beta Scoreæœ‰æ—¶å€™æˆ‘ä»¬å¯¹ç²¾ç¡®ç‡å’Œå¬å›ç‡å¹¶ä¸æ˜¯ä¸€è§†åŒä»ï¼Œæ¯”å¦‚æœ‰æ—¶å€™æˆ‘ä»¬æ›´åŠ é‡è§†ç²¾ç¡®ç‡ã€‚æˆ‘ä»¬ç”¨ä¸€ä¸ªå‚æ•°Î²æ¥åº¦é‡ä¸¤è€…ä¹‹é—´çš„å…³ç³»ã€‚å¦‚æœÎ²&gt;1, å¬å›ç‡æœ‰æ›´å¤§å½±å“ï¼Œå¦‚æœÎ²&lt;1,ç²¾ç¡®ç‡æœ‰æ›´å¤§å½±å“ã€‚ ROC ï¼ˆreceiver operating characteristic curveï¼‰ç»˜åˆ¶æ–¹æ³•ï¼šé¦–å…ˆæ ¹æ®åˆ†ç±»å™¨çš„é¢„æµ‹å¯¹æ ·ä¾‹è¿›è¡Œæ’åºï¼Œæ’åœ¨å‰é¢çš„æ˜¯åˆ†ç±»å™¨è¢«è®¤ä¸ºæœ€å¯èƒ½ä¸ºæ­£ä¾‹çš„æ ·æœ¬ã€‚æŒ‰ç…§çœŸä¾‹yæ–¹å‘èµ°ä¸€ä¸ªå•ä½ï¼Œé‡åˆ°å‡ä¾‹xæ–¹å‘èµ°ä¸€ä¸ªå•ä½ã€‚ROCæ›²çº¿çš„æ¨ªåæ ‡ä¸ºfalse positive rateï¼ˆFPRï¼‰ï¼Œçºµåæ ‡ä¸ºtrue positive rateï¼ˆTPRï¼‰ã€‚ROCæ›²çº¿æœ‰ä¸ªå¾ˆå¥½çš„ç‰¹æ€§ï¼šå½“æµ‹è¯•é›†ä¸­çš„æ­£è´Ÿæ ·æœ¬çš„åˆ†å¸ƒå˜åŒ–çš„æ—¶å€™ï¼ŒROCæ›²çº¿èƒ½å¤Ÿä¿æŒä¸å˜ã€‚ AUCï¼ˆArea Under the Curveï¼‰ROCæ›²çº¿ä¸‹çš„é¢ç§¯ï¼ŒAUCçš„å–å€¼èŒƒå›´ä¸€èˆ¬åœ¨0.5å’Œ1ä¹‹é—´ã€‚AUCè¶Šå¤§ä»£è¡¨åˆ†ç±»å™¨æ•ˆæœæ›´å¥½ã€‚ ç†æƒ³ç›®æ ‡ï¼šTPR=1ï¼ŒFPR=0ï¼Œå³å›¾ä¸­(0,1)ç‚¹ï¼Œæ•…ROCæ›²çº¿è¶Šé æ‹¢(0,1)ç‚¹ï¼Œè¶Šåç¦»45åº¦å¯¹è§’çº¿è¶Šå¥½ï¼ŒSensitivityã€Specificityè¶Šå¤§æ•ˆæœè¶Šå¥½ã€‚ æ¨¡å‹é€‰æ‹©ä¸è¯„ä¼°ç®—æ³•é€‰æ‹© åå·®å’Œæ–¹å·®åå·®-æ–¹å·®åˆ†è§£ï¼ˆbias-variance decompositionï¼‰æ˜¯è§£é‡Šå­¦ä¹ ç®—æ³•æ³›åŒ–æ€§èƒ½çš„ä¸€ç§é‡è¦å·¥å…·ã€‚ä»¤ï¼šxä¸ºæµ‹è¯•æ ·æœ¬yDï¼šxåœ¨æ•°æ®é›†ä¸­çš„æ ‡è®°yï¼šxçš„çœŸå®æ ‡è®°f(x;D):è®­ç»ƒé›†Dä¸Šå­¦å¾—çš„æ¨¡å‹fåœ¨xä¸Šçš„é¢„æµ‹è¾“å‡ºf(x)=E[f(x;D)] :æœŸæœ›é¢„æµ‹ä½¿ç”¨æ ·æœ¬æ•°ç›¸åŒçš„ä¸åŒè®­ç»ƒé›†äº§ç”Ÿçš„æ–¹å·®ï¼ˆvarianceï¼‰ä¸ºï¼šæ–¹å·®æè¿°çš„æ˜¯é¢„æµ‹å€¼ä½œä¸ºéšæœºå˜é‡çš„ç¦»æ•£ç¨‹åº¦ã€‚åº¦é‡äº†åŒæ ·å¤§å°çš„è®­ç»ƒé›†çš„å˜åŠ¨æ‰€å¯¼è‡´çš„å­¦ä¹ æ€§èƒ½çš„å˜åŒ–ï¼Œå³åˆ»ç”»äº†æ•°æ®æ‰°åŠ¨æ‰€é€ æˆçš„å½±å“ã€‚æœŸæœ›è¾“å‡ºä¸çœŸå®æ ‡è®°çš„å·®åˆ«ç§°ä¸ºåå·®ï¼ˆbiasï¼‰,åå·®åº¦é‡äº†å­¦ä¹ ç®—æ³•çš„æœŸæœ›é¢„æµ‹ä¸çœŸå®ç»“æœçš„åç¦»ç¨‹åº¦ï¼Œå³åˆ»ç”»äº†å­¦ä¹ ç®—æ³•æœ¬èº«çš„æ‹Ÿåˆèƒ½åŠ›ã€‚åå·®å…¬å¼å¦‚ä¸‹ï¼šå™ªå£°ä¸ºï¼šï¼ˆè¡¨ç¤ºè‹¥ä¸ä¸º0ï¼Œå°±æ˜¯æ ‡è®°é”™äº†ï¼‰å™ªå£°è¡¨è¾¾äº†åœ¨å½“å‰ä»»åŠ¡ä¸Šä»»ä½•å­¦ä¹ ç®—æ³•æ‰€èƒ½è¾¾åˆ°çš„æœŸæœ›æ³›åŒ–è¯¯å·®çš„ä¸‹ç•Œï¼Œå³åˆ»ç”»äº†å­¦ä¹ é—®é¢˜æœ¬èº«çš„éš¾åº¦ã€‚ç®—æ³•çš„æœŸæœ›æ³›åŒ–è¯¯å·®ä¸ºï¼šå³æ³›åŒ–è¯¯å·®å¯åˆ†è§£ä¸ºåå·®ã€æ–¹å·®ä¸å™ªå£°ä¹‹å’Œã€‚ æœ‰ä¸€äº›ç®—æ³•å¤©ç”Ÿæ˜¯é«˜æ–¹å·®çš„ç®—æ³•ã€‚å¦‚KNNã€å†³ç­–æ ‘ã€‚éå‚æ•°å­¦ä¹ é€šå¸¸æ˜¯é«˜æ–¹å·®ç®—æ³•ï¼Œå¯¹æ•°æ®è¾ƒä¸ºæ•æ„Ÿï¼Œå› ä¸ºä¸å¯¹æ•°æ®è¿›è¡Œä»»ä½•å‡è®¾ã€‚ æœ‰ä¸€äº›ç®—æ³•å¤©ç”Ÿå°±æ˜¯é«˜åå·®ç®—æ³•ã€‚å¦‚çº¿æ€§å›å½’ã€‚å‚æ•°å­¦ä¹ é€šå¸¸æ˜¯é«˜åå·®ç®—æ³•ï¼Œå› ä¸ºå¯¹æ•°æ®å…·æœ‰æå¼ºçš„å‡è®¾ã€‚ æœºå™¨å­¦ä¹ çš„ä¸»è¦æŒ‘æˆ˜æ¥è‡ªäºæ–¹å·®ï¼Œè§£å†³é«˜æ–¹å·®çš„é€šå¸¸æ‰‹æ®µæœ‰ï¼š 1.é™ä½æ¨¡å‹å¤æ‚åº¦ 2.å‡å°‘æ•°æ®ç»´åº¦ï¼›é™å™ª 3.å¢åŠ æ ·æœ¬æ•° 4.ä½¿ç”¨éªŒè¯é›† 5.æ¨¡å‹æ­£åˆ™åŒ– æ³›åŒ–èƒ½åŠ›ã€æ¬ æ‹Ÿåˆå’Œè¿‡æ‹Ÿåˆ]]></content>
      <categories>
        <category>æœºå™¨å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>æœºå™¨å­¦ä¹ </tag>
        <tag>æ·±åº¦å­¦ä¹ </tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Gitå­¦ä¹ ]]></title>
    <url>%2F2018%2F04%2F08%2Fgit%E5%AD%A6%E4%B9%A0%2F</url>
    <content type="text"><![CDATA[Git ç®€ä»‹Gitæ˜¯Linus Torvaldsä¸ºäº†å¸®åŠ©ç®¡ç†Linuxå†…æ ¸å¼€å‘è€Œå¼€å‘çš„ä¸€ä¸ªå¼€æ”¾æºç çš„ç‰ˆæœ¬æ§åˆ¶è½¯ä»¶ï¼Œæ˜¯ç›®å‰ä¸–ç•Œä¸Šæœ€å…ˆè¿›çš„åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿã€‚ä¸»è¦ä¼˜åŠ¿æœ‰ï¼šå…¬å…±æœåŠ¡å™¨å‹åŠ›å’Œæ•°æ®é‡éƒ½ä¸ä¼šå¤ªå¤§ï¼Œä»»æ„ä¸¤ä¸ªå¼€å‘è€…ä¹‹é—´å¯ä»¥å¾ˆå®¹æ˜“çš„è§£å†³å†²çªå¹¶ä¸”å¯ä»¥è¿›è¡Œç¦»çº¿å·¥ä½œã€‚ Git æœ¯è¯­ commitæäº¤æŒæœ‰çš„åº“çš„å½“å‰çŠ¶æ€ï¼Œæ¯ä¸ªæäº¤çš„å¯¹è±¡æœ‰çˆ¶commitå¯¹è±¡çš„æŒ‡é’ˆã€‚ä»ç»™å®šçš„commitå¯ä»¥éå†å¯»æ‰¾çˆ¶æŒ‡é’ˆï¼ŒæŸ¥çœ‹å†å²è®°å½•çš„æäº¤ã€‚ branchesåˆ†æ”¯ç”¨æ¥åˆ›å»ºå¦ä¸€æ¡çº¿çš„å‘å±•ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œgitçš„ä¸»åˆ†æ”¯ï¼Œæ˜¯masteråˆ†æ”¯ï¼Œå’Œä¸Šçº¿çš„ç‰ˆæœ¬æ˜¯ä¸€æ ·çš„ï¼Œå¹³æ—¶è¦å·¥ä½œçš„æ–°åŠŸèƒ½åˆ›å»ºä¸€ä¸ªåˆ†æ”¯ï¼ŒåŠŸèƒ½å®Œæˆä¹‹åï¼Œå®ƒè¢«åˆå¹¶å›masteråˆ†æ”¯ï¼Œæ¯å½“åšå‡ºä¸€ä¸ªcommitï¼ŒHEADæ›´æ–°ä¸ºæœ€æ–°æäº¤ tagsgitä¸­çš„tagæŒ‡å‘ä¸€æ¬¡commitçš„idã€‚é€šå¸¸ç”¨æ¥ç»™å¼€å‘åšç‰ˆæœ¬å·ã€‚ cloneå…‹éš†æ“ä½œä¸ä»…ä»…æ˜¯æ£€å‡ºçš„å·¥ä½œæ‹·è´ï¼Œä¹Ÿåæ˜ äº†å®Œæ•´çš„ä¿¡æ¯ pullpullæ“ä½œæ˜¯ç”¨äºä¸¤ä¸ªå­˜å‚¨åº“å®ä¾‹ä¹‹é—´çš„åŒæ­¥ pushå°†æœ¬åœ°ä»“åº“ä¸­çš„æ–‡ä»¶åŒæ­¥åˆ°è¿œç«¯åº“ä¸­ headHEADæŒ‡é’ˆæ€»æ˜¯æŒ‡å‘åˆ†æ”¯çš„æœ€æ–°æäº¤ï¼Œæ¯å½“ä½ åšäº†ä¸€ä¸ªæäº¤ã€‚HEADæ›´æ–°ä¸ºæœ€æ–°æäº¤,HEADæ ‘æå­˜å‚¨åœ¨.git/refs/heads/ä¸­ å·¥ä½œåŒºï¼šå°±æ˜¯ä½ åœ¨ç”µè„‘é‡Œèƒ½çœ‹åˆ°çš„ç›®å½•ã€‚ æš‚å­˜åŒºï¼šè‹±æ–‡å«stage, æˆ–indexã€‚ä¸€èˆ¬å­˜æ”¾åœ¨â€gitç›®å½•â€ä¸‹çš„indexæ–‡ä»¶ï¼ˆ.git/indexï¼‰ä¸­ï¼Œæ‰€ä»¥æˆ‘ä»¬æŠŠæš‚å­˜åŒºæœ‰æ—¶ä¹Ÿå«ä½œç´¢å¼•ï¼ˆindexï¼‰ã€‚ ç‰ˆæœ¬åº“ï¼šå·¥ä½œåŒºæœ‰ä¸€ä¸ªéšè—ç›®å½•.gitï¼Œè¿™ä¸ªä¸ç®—å·¥ä½œåŒºï¼Œè€Œæ˜¯Gitçš„ç‰ˆæœ¬åº“ã€‚ Bash åŸºæœ¬æŒ‡ä»¤123456789101112pwd : æ˜¾ç¤ºå½“å‰æ‰€åœ¨çš„ç›®å½•è·¯å¾„ã€‚ls(ll): éƒ½æ˜¯åˆ—å‡ºå½“å‰ç›®å½•ä¸­çš„æ‰€æœ‰æ–‡ä»¶ï¼Œåªä¸è¿‡ll(ä¸¤ä¸ªll)åˆ—å‡ºçš„å†…å®¹æ›´ä¸ºè¯¦ç»†ã€‚touch : æ–°å»ºä¸€ä¸ªæ–‡ä»¶ å¦‚ touch index.js å°±ä¼šåœ¨å½“å‰ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªindex.jsæ–‡ä»¶ã€‚rm: åˆ é™¤ä¸€ä¸ªæ–‡ä»¶, rm index.js å°±ä¼šæŠŠindex.jsæ–‡ä»¶åˆ é™¤ã€‚mkdir: æ–°å»ºä¸€ä¸ªç›®å½•,å°±æ˜¯æ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ã€‚rm -r : åˆ é™¤ä¸€ä¸ªæ–‡ä»¶å¤¹, rm -r src åˆ é™¤srcç›®å½•ï¼Œ å¥½åƒä¸èƒ½ç”¨é€šé…ç¬¦ã€‚mv ç§»åŠ¨æ–‡ä»¶, mv index.html src index.html æ˜¯æˆ‘ä»¬è¦ç§»åŠ¨çš„æ–‡ä»¶, src æ˜¯ç›®æ ‡æ–‡ä»¶å¤¹,å½“ç„¶, è¿™æ ·å†™,å¿…é¡»ä¿è¯æ–‡ä»¶å’Œç›®æ ‡æ–‡ä»¶å¤¹åœ¨åŒä¸€ç›®å½•ä¸‹ã€‚reset é‡æ–°åˆå§‹åŒ–ç»ˆç«¯/æ¸…å±ã€‚clear æ¸…å±ã€‚history æŸ¥çœ‹å‘½ä»¤å†å²ã€‚elp å¸®åŠ©ã€‚exit é€€å‡ºã€‚ å¸¸ç”¨åŸºç¡€å‘½ä»¤å®‰è£…&amp;é…ç½® å®˜ç½‘ä¸‹è½½å®‰è£…å®Œï¼Œå³é”®çœ‹åˆ°Git Bashä»£è¡¨å®‰è£…å®Œæˆ åˆå§‹é…ç½®ï¼ˆâ€”local é¡¹ç›®çº§ï¼›â€”global å½“å‰ç”¨æˆ·çº§ï¼›â€”system ç³»ç»Ÿçº§ï¼‰git config --global user.name&quot;Your Name&quot;git config --global user.email&quot;email@example.com&quot; æŸ¥çœ‹é…ç½® - git config -l åˆå§‹åŒ–&amp;å…‹éš† æœ¬åœ°åˆå§‹åŒ–ï¼šgit init ä»“åº“ç›®å½•ä¸‹ä¼šå¤šäº†ä¸€ä¸ª.gitéšè—æ–‡ä»¶å¤¹ã€‚ å…‹éš†ç‰ˆæœ¬åº“ï¼šgit clone &quot;url&quot; p.s. ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿå¯ä»¥å‘Šè¯‰ä½ æ¯æ¬¡çš„æ”¹åŠ¨ï¼Œæ¯”å¦‚åœ¨ç¬¬xè¡ŒåŠ äº†ä»£ç ã€‚è€Œå›¾ç‰‡ã€è§†é¢‘è¿™äº›äºŒè¿›åˆ¶æ–‡ä»¶æ²¡æ³•è·Ÿè¸ªæ–‡ä»¶çš„å˜åŒ–ï¼Œä¹Ÿå°±æ˜¯åªçŸ¥é“å›¾ç‰‡ä»100KBæ”¹æˆäº†120KBï¼Œä½†åˆ°åº•æ”¹äº†å•¥ï¼Œç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿä¸çŸ¥é“ã€‚ ä¸å¹¸çš„æ˜¯ï¼ŒMicrosoftçš„Wordæ ¼å¼æ˜¯äºŒè¿›åˆ¶æ ¼å¼ï¼Œå› æ­¤ï¼Œç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿæ˜¯æ²¡æ³•è·Ÿè¸ªWordæ–‡ä»¶çš„æ”¹åŠ¨çš„ã€‚ ç®¡ç†åˆ†æ”¯ æŸ¥çœ‹åˆ†æ”¯ï¼šgit branch åˆ›å»ºåˆ†æ”¯ï¼šgit branch branch_name åˆ‡æ¢åˆ†æ”¯ï¼šgit checkout branch_name åˆ›å»º+åˆ‡æ¢åˆ†æ”¯ï¼šgit checkout -b branch_name åˆå¹¶æŸåˆ†æ”¯åˆ°å½“å‰åˆ†æ”¯ï¼šgit merge branch_name é‡å‘½ååˆ†æ”¯ï¼šgit branch -m branch_name branch_new_name //ä¸ä¼šè¦†ç›–å·²ç»å­˜åœ¨çš„åˆ†æ”¯ é‡å‘½ååˆ†æ”¯ï¼šgit branch -M branch_name branch_new_name //ä¼šè¦†ç›–å·²ç»å­˜åœ¨çš„åˆ†æ”¯ åˆ é™¤åˆ†æ”¯ï¼šgit branch -d branch_name å¼ºåˆ¶åˆ é™¤åˆ†æ”¯ï¼š git branch -D branch_name åˆ é™¤è¿œç¨‹åˆ†æ”¯ï¼š git push origin : branch_name //å¯ä»¥ä½¿ç”¨è¿™ç§è¯­æ³•ï¼Œæ¨é€ä¸€ä¸ªç©ºåˆ†æ”¯åˆ°è¿œç¨‹åˆ†æ”¯ï¼Œå…¶å®å°±ç›¸å½“äºåˆ é™¤è¿œç¨‹åˆ†æ”¯ æŸ¥çœ‹&amp;ä¿®æ”¹ æ‹‰å–ä»£ç ï¼šgit pull orgin branch_name æŸ¥çœ‹æ›´æ”¹ï¼šgit status;git status -s//ä»¥ç®€çŸ­æ ¼å¼è¾“å‡º æŸ¥çœ‹æ›´æ”¹ç»†èŠ‚ï¼šgit diff file_name//å°šæœªç¼“å­˜çš„æ”¹åŠ¨git diff --cached//æŸ¥çœ‹å·²ç¼“å­˜çš„æ”¹åŠ¨ æŸ¥çœ‹è°ä¿®æ”¹è¿‡ä»£ç ï¼šgit blame filename å›åˆ°ä¸Šæ¬¡ä¿®æ”¹ï¼šgit reset --hard æŸ¥çœ‹å†å²è®°å½•ï¼šgit logï¼›git log --pretty=oneline//å°†æ¯æ¬¡commitçš„è®°å½•æ‰“å°æˆä¸€è¡Œ æŸ¥çœ‹gitè¿œç¨‹åœ°å€ï¼šgit remote -v åˆ é™¤ï¼šgit rm //å°†æ–‡ä»¶ä»ç¼“å­˜åŒºä¸­ç§»é™¤ æ·»åŠ æ–‡ä»¶ æ·»åŠ å•ä¸ªæ–‡ä»¶ï¼šgit add filename.js //è¯¥æ–‡ä»¶æ·»åŠ åˆ°ç¼“å­˜ æ·»åŠ æ‰€æœ‰jsæ–‡ä»¶ï¼šgit add *.js æ·»åŠ æ‰€æœ‰æ–‡ä»¶ï¼šgit add æäº¤æ–‡ä»¶ æäº¤æ·»åŠ çš„æ–‡ä»¶ï¼šgit commit -m &quot;your description about this branch&quot;//è®°å½•ç¼“å­˜åŒºçš„å¿«ç…§ã€‚ æäº¤å•ä¸ªæ–‡ä»¶ï¼šgit commit -m &quot;your description about this branch&quot; filename.js æ¨é€åˆ†æ”¯ï¼šgit push orgin your_branch_name å¤‡ä»½å½“å‰åˆ†æ”¯å†…å®¹ï¼šgit stash æ ‡ç­¾æ“ä½œ åˆ›å»ºæ ‡ç­¾ï¼šgit tag 1.0.0 //æ ‡ç­¾æ— æ³•é‡å‘½å æ˜¾ç¤ºæ ‡ç­¾åˆ—è¡¨ï¼šgit tag åˆ‡å‡ºæ ‡ç­¾ï¼šgit checkout 1.0.0 åˆ é™¤æ ‡ç­¾ï¼šgit tag -d 1.0.0 æµç¨‹åŒ–ç®¡ç† ä»ä¸»åˆ†æ”¯åˆ†æ”¯æ‹‰ä¸€ä¸‹ä»£ç git pull origin master åˆ›å»ºå¼€å‘åˆ†æ”¯developgit co(checkout) -b develop å¦‚æœå…¶ä»–åˆ†æ”¯æœ‰éœ€è¦å¤„ç†çš„bugï¼Œå…ˆå°†å½“å‰çŠ¶æ€ä¿å­˜ä¸€ä¸‹git stash åˆ‡æ¢åˆ°åˆ«çš„åˆ†æ”¯ä¿®æ”¹ä»£ç git checkout -b branch_name ä¿®å¤bugåæäº¤ä»£ç æŸ¥çœ‹ä¿®æ”¹git status éœ€è¦æŸ¥çœ‹ä¿®æ”¹çš„ç»†èŠ‚git diff file_name æ²¡æœ‰é—®é¢˜å°±æäº¤ 123git add .git commit &quot;your description&quot;git push orgin your_branch_name è§£å†³å®Œbugåˆ‡æ¢åˆ°åŸæ¥çš„åˆ†æ”¯git checkout -b you_old_branch æ¢å¤åˆšåˆšä¿å­˜çš„å†…å®¹ 1234git stash //å¤‡ä»½å½“å‰çš„å·¥ä½œåŒºçš„å†…å®¹ï¼Œä¿å­˜åˆ°gitæ ˆgit stash pop //ä»gitæ ˆä¸­è¯»å–æœ€è¿‘ä¸€æ¬¡ä¿å­˜çš„å†…å®¹ï¼Œæ¢å¤å·¥ä½œåŒºçš„ç›¸å…³å†…å®¹ï¼Œç”±äºä¼šå­˜åœ¨å¤šä¸ªstashå†…å®¹ï¼Œæ‰€ä»¥ç”¨æ ˆæ¥ä¿å­˜ï¼Œpopå‡ºæœ€è¿‘ä¸€ä¸ªstashä¸­è¯»å–çš„å†…å®¹å¹¶æ¢å¤git stash list //æ˜¾ç¤ºgitæ ˆå†…æ‰€æœ‰çš„å¤‡ä»½ï¼Œå¯ä»¥åˆ©ç”¨è¿™ä¸ªåˆ—è¡¨æ¥å†³å®šä»å“ªä¸ªåœ°æ–¹æ¢å¤git stash clear //æ¸…ç©ºgitæ ˆï¼Œæ­¤æ—¶ä½¿ç”¨gitç­‰å›¾å½¢åŒ–å·¥å…·ä¼šå‘ç°ï¼ŒåŸæ¥stashçš„é‚£äº›èŠ‚ç‚¹éƒ½æ¶ˆå¤±äº† æœ€åï¼Œæäº¤ä¸‰éƒ¨æ›² 123git add .git commit &quot;your description&quot;git push orgin your_branch_name Github pagesGitåˆå§‹è®¾ç½®123git config --global user.name &quot;ä½ çš„GitHubç”¨æˆ·å&quot;git config --global user.email &quot;ä½ çš„GitHubæ³¨å†Œé‚®ç®±&quot;ssh-keygen -t rsa -C &quot;ä½ çš„GitHubæ³¨å†Œé‚®ç®±&quot; hexoåˆå§‹åŒ–è®¾ç½®12345678cd d:/hexonpm install hexo-cli -ghexo init foldercd foldernpm installhexo g æˆ–è€…hexo generatehexo s æˆ–è€…hexo s -p 5000 ï¼ˆctrl+cé€€å‡ºï¼‰hexo d #éƒ¨ç½²åˆ°è¿œç¨‹]]></content>
      <categories>
        <category>Software</category>
      </categories>
      <tags>
        <tag>Git</tag>
        <tag>Github</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ•°å­¦ä¹‹ç¾å­¦ä¹ ç¬”è®°]]></title>
    <url>%2F2018%2F03%2F06%2F%E6%95%B0%E5%AD%A6%E4%B9%8B%E7%BE%8E%2F</url>
    <content type="text"><![CDATA[æŠ€æœ¯åˆ†ä¸ºæœ¯å’Œé“ï¼Œå…·ä½“çš„åšäº‹æ–¹æ³•æ˜¯æœ¯ï¼Œåšäº‹çš„åŸç†å’ŒåŸåˆ™æ˜¯é“ã€‚â€”â€”å´å†› è‡ªç„¶è¯­è¨€å¤„ç†ï¼Œè¯­éŸ³è¯†åˆ«ï¼Œæœºå™¨ç¿»è¯‘åŸºäºè§„åˆ™çš„è¯­è¨€å¤„ç†æ—©æœŸå­¦æœ¯ç•Œè®¤ä¸ºï¼Œè¦è®©æœºå™¨å®Œæˆç¿»è¯‘å’Œè¯­éŸ³è¯†åˆ«è¿™ç§äººç±»æ‰èƒ½åšçš„äº‹æƒ…ï¼Œå°±å¿…é¡»å…ˆè®©è®¡ç®—æœºç†è§£è‡ªç„¶è¯­è¨€ï¼Œè€Œåšåˆ°è¿™ç‚¹å°±è¦è®©æœºå™¨æœ‰ç±»ä¼¼äººç±»çš„æ™ºèƒ½ã€‚è¿™ä¸ªæ–¹æ³•è®ºè¢«ç§°ä¸ºâ€œé¸Ÿé£æ´¾â€ï¼ˆé€šè¿‡è§‚å¯Ÿé¸Ÿçš„é£è¡Œæ–¹å¼ï¼Œé‡‡ç”¨ä»¿ç”Ÿçš„æ€è·¯é€ å‡ºé£æœºï¼‰ã€‚ é‚£ä¹ˆæ€ä¹ˆè®©æœºå™¨ç†è§£è‡ªç„¶è¯­è¨€å‘¢ï¼Ÿå—ä¼ ç»Ÿè¯­è¨€å­¦çš„å½±å“ï¼Œä»–ä»¬è§‰å¾—è¦è®©æœºå™¨åšå¥½ä¸¤ä»¶äº‹ï¼šåˆ†æå¥å­è¯­æ³•å’Œè·å–è¯­ä¹‰ã€‚åˆ†æå¥å­è¯­æ³•å°±æ˜¯æŒ‰ç…§è¯­æ³•æŠŠå¥å­æ‹†åˆ†ï¼Œåˆ†æ¸…å®ƒçš„ä¸»è¯­ã€è°“è¯­ã€å®¾è¯­æ˜¯ä»€ä¹ˆï¼Œæ¯ä¸ªéƒ¨åˆ†çš„è¯æ€§æ˜¯ä»€ä¹ˆï¼Œç”¨ä»€ä¹ˆæ ‡ç‚¹ç¬¦å·ã€‚è€Œè¯­ä¹‰åˆ†æï¼Œå°±æ˜¯å¼„æ¸…å¥å­è¦è¡¨è¾¾çš„å…·ä½“æ„æ€ã€‚è¯­æ³•è§„åˆ™å¾ˆå®¹æ˜“ç”¨è®¡ç®—æœºç®—æ³•æè¿°ï¼Œè¿™è®©äººä»¬è§‰å¾—åŸºäºè§„åˆ™çš„æ–¹æ³•æ˜¯å¯¹çš„ã€‚ä½†æ˜¯è¿™ç§æ–¹æ³•å¾ˆå¿«å°±é™·å…¥å›°å¢ƒï¼Œå› ä¸ºåŸºäºè¯­æ³•çš„åˆ†æå™¨å¤„ç†ä¸äº†å¤æ‚å¥å­ï¼ŒåŒæ—¶ï¼Œè¯çš„å¤šä¹‰æ€§æ— æ³•ç”¨è§„åˆ™è¡¨è¿°ï¼Œä¾‹å¦‚ä¸‹é¢çš„ä¾‹å­ï¼š The pen is in the box. å’Œ The box is in the pen.ç¬¬äºŒå¥è¯è®©éè‹±è¯­æ¯è¯­çš„äººå¾ˆéš¾ç†è§£ï¼Œç›’å­æ€ä¹ˆåœ¨é’¢ç¬”é‡Œå‘¢ï¼Ÿå…¶å®åœ¨è¿™é‡Œï¼Œpenæ˜¯å›´æ çš„æ„æ€ã€‚è¿™é‡Œpenæ˜¯é’¢ç¬”è¿˜æ˜¯å›´æ ï¼Œé€šè¿‡ä¸Šä¸‹æ–‡å·²ç»ä¸èƒ½è§£å†³ï¼Œè€Œéœ€è¦å¸¸è¯†ï¼Œå³é’¢ç¬”å¯ä»¥æ”¾åœ¨ç›’å­é‡Œï¼Œä½†æ˜¯ç›’å­æ¯”é’¢ç¬”å¤§ï¼Œæ‰€ä»¥ä¸èƒ½æ”¾åœ¨ç›’å­é‡Œï¼Œäºæ˜¯penåœ¨è¿™é‡Œæ˜¯å›´æ çš„æ„æ€ï¼Œç›’å­å¯ä»¥æ”¾åœ¨å›´æ é‡Œã€‚ åŸºäºç»Ÿè®¡çš„è¯­è¨€å¤„ç†è´¾é‡Œå°¼å…‹ï¼ˆJelinekï¼‰æŠŠè¯­éŸ³è¯†åˆ«é—®é¢˜å½“ä½œé€šä¿¡é—®é¢˜ï¼Œå¹¶ç”¨ä¸¤ä¸ªéšå«é©¬å°”å¯å¤«æ¨¡å‹ï¼ˆå£°å­¦å’Œè¯­è¨€æ¨¡å‹ï¼‰æ¦‚æ‹¬äº†è¯­éŸ³è¯†åˆ«ï¼Œæ¨åŠ¨äº†åŸºäºç»Ÿè®¡çš„è¯­è¨€å¤„ç†æ–¹æ³•ã€‚ åœ¨è¯­éŸ³è¯†åˆ«ä¸­ï¼Œè®¡ç®—æœºéœ€è¦çŸ¥é“ä¸€ä¸ªæ–‡å­—åºåˆ—æ˜¯å¦èƒ½æ„æˆä¸€ä¸ªå¤§å®¶ç†è§£è€Œä¸”æœ‰æ„ä¹‰çš„å¥å­ã€‚æ—©æœŸçš„åšæ³•æ˜¯åˆ¤æ–­ç»™å‡ºçš„å¥å­æ˜¯å¦åˆä¹è¯­æ³•ï¼Œç”±å‰æ–‡å¯çŸ¥è¿™æ¡è·¯èµ°ä¸é€šã€‚è´¾é‡Œå°¼å…‹ä»å¦å¤–è§’åº¦çœ‹è¿™ä¸ªé—®é¢˜ï¼šé€šè¿‡è®¡ç®—ä¸€ä¸ªå¥å­å‡ºç°çš„æ¦‚ç‡å¤§å°æ¥åˆ¤æ–­å®ƒçš„åˆç†æ€§ï¼Œäºæ˜¯è¯­éŸ³è¯†åˆ«é—®é¢˜è½¬æ¢æˆè®¡ç®—æ¦‚ç‡é—®é¢˜ï¼Œæ ¹æ®è¿™ä¸ªæ€è·¯ï¼Œè´¾é‡Œå°¼å…‹å»ºç«‹äº†ç»Ÿè®¡è¯­è¨€æ¨¡å‹ã€‚ å‡å®šSè¡¨ç¤ºæŸä¸€ä¸ªæœ‰æ„ä¹‰çš„å¥å­ï¼Œç”±ä¸€è¿ä¸²ç‰¹å®šé¡ºåºæ’åˆ—çš„è¯w1,w2,w3â€¦ç»„æˆã€‚æˆ‘ä»¬æƒ³çŸ¥é“Såœ¨æ–‡æœ¬ä¸­å‡ºç°çš„å¯èƒ½æ€§ï¼Œè®¡ç®—Sçš„æ¦‚ç‡P(S)ï¼Œæ ¹æ®æ¡ä»¶æ¦‚ç‡å…¬å¼ï¼š å…¶ä¸­P(w1)ä¸ºw1å‡ºç°çš„æ¦‚ç‡ï¼ŒP(w2|w1)ä¸ºå·²çŸ¥ç¬¬ä¸€ä¸ªè¯å‡ºç°çš„æ¡ä»¶ä¸‹ï¼Œç¬¬äºŒä¸ªè¯å‡ºç°çš„æ¦‚ç‡ï¼Œä»¥æ­¤ç±»æ¨ã€‚å‰é¢å‡ ä¸ªæ¦‚ç‡å®¹æ˜“è®¡ç®—ï¼Œä½†æ˜¯åé¢çš„æ¦‚ç‡éšç€å˜é‡å¢å¤šï¼Œå˜å¾—ä¸å¯è®¡ç®—ã€‚åœ¨è¿™é‡Œéœ€è¦åº”ç”¨é©¬å°”å¯å¤«å‡è®¾æ¥ç®€åŒ–è®¡ç®—ã€‚é©¬å°”å¯å¤«å‡è®¾å‡å®šå½“å‰çŠ¶æ€åªä¸å‰ä¸€ä¸ªçŠ¶æ€æœ‰å…³ï¼Œå³Wiå‡ºç°çš„æ¦‚ç‡åªåŒå®ƒå‰é¢çš„è¯æœ‰å…³Wi-1ï¼Œäºæ˜¯ä¸Šé¢çš„å…¬å¼å¯ä»¥ç®€åŒ–ä¸ºï¼š æ¥ä¸‹æ¥çš„é—®é¢˜æ˜¯ä¼°ç®—æ¡ä»¶æ¦‚ç‡P(Wi|Wi-1)ï¼Œç”±æ¡ä»¶æ¦‚ç‡å…¬å¼å¾—ï¼š è€Œä¼°è®¡è”åˆæ¦‚ç‡P(Wi-1, Wi)å’ŒP(Wi-1)å¯ä»¥ç»Ÿè®¡è¯­æ–™åº“å¾—åˆ°ï¼Œé€šè¿‡è®¡ç®—(Wi-1, Wi)è¿™å¯¹è¯åœ¨è¯­æ–™åº“ä¸­å‰åç›¸é‚»å‡ºç°çš„æ¬¡æ•°Cï¼Œä»¥åŠWi-1å•ç‹¬å‡ºç°çš„æ¬¡æ•°ï¼Œå°±å¯å¾—åˆ°è¿™äº›è¯æˆ–è€…äºŒå…ƒç»„çš„ç›¸å¯¹é¢‘åº¦ã€‚æ ¹æ®å¤§æ•°å®šç†ï¼Œåªè¦ç»Ÿè®¡é‡è¶³å¤Ÿï¼Œç›¸å¯¹é¢‘åº¦å°±ç­‰äºæ¦‚ç‡ï¼Œäºæ˜¯ äºæ˜¯å¤æ‚çš„è¯­åºåˆç†æ€§é—®é¢˜ï¼Œå˜æˆäº†ç®€å•çš„æ¬¡æ•°ç»Ÿè®¡é—®é¢˜ã€‚ ä¸Šå¼å¯¹åº”çš„ç»Ÿè®¡è¯­è¨€æ¨¡å‹æ˜¯äºŒå…ƒæ¨¡å‹ï¼Œå®é™…åº”ç”¨ä¸­ï¼Œgoogleç¿»è¯‘ç”¨åˆ°å››å…ƒæ¨¡å‹ã€‚ ä¸­æ–‡åˆ†è¯å¯¹äºè¥¿æ–¹æ‹¼éŸ³è¯­è¨€æ¥è¯´ï¼Œè¯ä¹‹é—´æœ‰æ˜ç¡®çš„åˆ†ç•Œç¬¦ï¼ˆç©ºæ ¼ï¼‰ï¼Œä½†æ˜¯ä¸­ã€æ—¥ã€éŸ©ã€æ³°ç­‰è¯­è¨€æ²¡æœ‰ã€‚å› æ­¤ï¼Œé¦–å…ˆè¦å¯¹å¥å­è¿›è¡Œåˆ†è¯ï¼Œæ‰èƒ½åšè¿›ä¸€æ­¥è‡ªç„¶è¯­è¨€å¤„ç†ã€‚å¯¹ä¸€ä¸ªå¥å­æ­£ç¡®çš„åˆ†è¯ç»“æœå¦‚ä¸‹ï¼š åˆ†è¯å‰ï¼šä¸­å›½èˆªå¤©å®˜å‘˜åº”é‚€åˆ°ç¾å›½ä¸å¤ªç©ºæ€»ç½²å®˜å‘˜å¼€ä¼šã€‚åˆ†è¯åï¼šä¸­å›½/èˆªå¤©/å®˜å‘˜/åº”é‚€/åˆ°/ç¾å›½/ä¸/å¤ªç©º/æ€»ç½²/å®˜å‘˜/å¼€ä¼š/ã€‚ æœ€å®¹æ˜“æƒ³åˆ°çš„åˆ†è¯æ–¹æ³•æ˜¯â€œæŸ¥å­—å…¸â€ï¼Œå³æŠŠä¸€ä¸ªå¥å­ä»å·¦åˆ°å³æ‰«æä¸€éï¼Œé‡åˆ°å­—å…¸é‡Œæœ‰çš„è¯å°±æ ‡å‡ºæ¥ï¼Œé‡åˆ°å¤åˆè¯å°±æ‰¾æœ€é•¿åŒ¹é…ï¼Œé‡åˆ°ä¸è®¤è¯†çš„å­—ä¸²å°±åˆ†å‰²æˆå•å­—ã€‚è¿™ä¸ªæ–¹æ³•èƒ½è§£å†³ä¸ƒå…«æˆçš„é—®é¢˜ï¼Œä½†æ˜¯é‡åˆ°æœ‰äºŒä¹‰æ€§çš„åˆ†å‰²å°±æ— èƒ½ä¸ºåŠ›äº†ï¼Œä¾‹å¦‚â€œå‘å±•ä¸­å›½å®¶â€ï¼Œæ­£ç¡®çš„åˆ†å‰²æ˜¯â€œå‘å±•-ä¸­-å›½å®¶â€ï¼Œä½†æ˜¯æŒ‰ç…§æŸ¥å­—å…¸æ³•å°±ä¼šåˆ†æˆâ€œå‘å±•-ä¸­å›½-å®¶â€ã€‚å¦å¤–ï¼Œå¹¶ä¸æ˜¯æœ€é•¿åŒ¹é…éƒ½ä¸€å®šæ­£ç¡®ï¼Œä¾‹å¦‚â€œä¸Šæµ·å¤§å­¦åŸä¹¦åº—â€ï¼Œæ­£ç¡®çš„åˆ†å‰²æ˜¯â€œä¸Šæµ·-å¤§å­¦åŸ-ä¹¦åº—â€ï¼Œè€Œä¸æ˜¯â€œä¸Šæµ·å¤§å­¦-åŸ-ä¹¦åº—â€ã€‚ æŒ‰ç…§å‰æ–‡çš„æˆåŠŸæ€è·¯ï¼Œä¾é è¯­æ³•è§„åˆ™æ— æ³•è§£å†³åˆ†è¯çš„äºŒä¹‰æ€§é—®é¢˜ï¼Œè¿˜æ˜¯å¾—é ç»Ÿè®¡è¯­è¨€æ¨¡å‹ã€‚ å‡è®¾ä¸€ä¸ªå¥å­Sæœ‰nç§åˆ†è¯æ–¹æ³•ï¼Œåˆ©ç”¨å‰æ–‡çš„ç»Ÿè®¡è¯­è¨€æ¨¡å‹ï¼Œåˆ†åˆ«è®¡ç®—å‡ºæ¯ç§åˆ†è¯æ–¹æ³•çš„æ¦‚ç‡ï¼Œæ¦‚ç‡æœ€å¤§çš„å³ä¸ºæœ€å¥½çš„åˆ†è¯æ–¹æ³•ã€‚å› ä¸ºç©·ä¸¾æ‰€æœ‰çš„åˆ†è¯æ–¹æ³•è®¡ç®—é‡å¤ªå¤§ï¼Œæ‰€ä»¥å¯ä»¥æŠŠå®ƒçœ‹æˆæ˜¯ä¸€ä¸ªåŠ¨æ€è§„åˆ’é—®é¢˜ï¼Œå¹¶åˆ©ç”¨ç»´ç‰¹æ¯”ç®—æ³•å¿«é€Ÿæ‰¾åˆ°æœ€ä½³åˆ†è¯ã€‚å…·ä½“åº”ç”¨æ—¶è¿˜è¦è€ƒè™‘åˆ†è¯çš„é¢—ç²’åº¦ã€‚ æ‹¼éŸ³è¾“å…¥æ³•æ‹¼éŸ³è¾“å…¥æ³•ä¸­çš„æ•°å­¦ä¸­æ–‡è¾“å…¥æ³•ç»å†äº†ä»¥è‡ªç„¶éŸ³èŠ‚ç¼–ç è¾“å…¥ï¼Œåˆ°åæ—ç¬”ç”»æ‹†å­—è¾“å…¥ï¼Œå†å›å½’è‡ªç„¶éŸ³èŠ‚è¾“å…¥çš„è¿‡ç¨‹ã€‚è¾“å…¥æ³•è¾“å…¥æ±‰å­—çš„å¿«æ…¢å–å†³äºå¯¹æ±‰å­—ç¼–ç çš„å¹³å‡é•¿åº¦ï¼Œä¹Ÿå°±æ˜¯å‡»é”®æ¬¡æ•°ä¹˜ä»¥å¯»æ‰¾è¿™ä¸ªé”®éœ€è¦çš„æ—¶é—´ã€‚å•çº¯åœ°å‡å°‘ç¼–ç é•¿åº¦æœªå¿…èƒ½æé«˜è¾“å…¥é€Ÿåº¦ï¼Œå› ä¸ºå¯»æ‰¾ä¸€ä¸ªé”®çš„æ—¶é—´ä¼šå¢é•¿ã€‚ å°†æ±‰å­—è¾“å…¥åˆ°è®¡ç®—æœºä¸­ï¼Œæ˜¯å°†äººèƒ½çœ‹æ‡‚çš„ä¿¡æ¯ç¼–ç å˜æˆè®¡ç®—æœºçº¦å®šçš„ç¼–ç ï¼ˆUnicodeæˆ–UTF-8ï¼‰çš„è¿‡ç¨‹ã€‚å¯¹æ±‰å­—çš„ç¼–ç åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼šå¯¹æ‹¼éŸ³çš„ç¼–ç å’Œæ¶ˆé™¤ï¼ˆä¸€éŸ³å¤šå­—ï¼‰æ­§ä¹‰ã€‚é”®ç›˜ä¸Šå¯ä½¿ç”¨çš„æ˜¯26ä¸ªå­—æ¯å’Œ10ä¸ªæ•°å­—é”®ï¼Œæœ€ç›´æ¥çš„æ–¹å¼æ˜¯è®©26ä¸ªå­—æ¯å¯¹åº”æ‹¼éŸ³ï¼Œç”¨10ä¸ªæ•°å­—æ¶ˆé™¤æ­§ä¹‰æ€§ã€‚åªæœ‰å½“ä¸¤ä¸ªç¼–ç éƒ½ç¼©çŸ­æ—¶ï¼Œæ±‰å­—çš„è¾“å…¥æ‰èƒ½å¤Ÿå˜å¿«ã€‚æ—©æœŸçš„è¾“å…¥æ³•å¸¸å¸¸åªæ³¨é‡ç¬¬ä¸€éƒ¨åˆ†è€Œå¿½ç•¥ç¬¬äºŒéƒ¨åˆ†ï¼Œä¾‹å¦‚åŒæ‹¼è¾“å…¥æ³•å’Œäº”ç¬”è¾“å…¥æ³•ã€‚ æ¯ä¸€ä¸ªæ‹¼éŸ³å¯¹åº”å¤šä¸ªæ±‰å­—ï¼ŒæŠŠä¸€ä¸ªæ‹¼éŸ³ä¸²å¯¹åº”çš„æ±‰å­—ç”±å·¦å‘å³è¿èµ·æ¥ï¼Œå°±æ˜¯ä¸€å¼ æœ‰å‘å›¾ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œy1,y2,y3â€¦æ˜¯è¾“å…¥çš„æ‹¼éŸ³ä¸²ï¼ŒW11,W12,W13æ˜¯ç¬¬ä¸€ä¸ªéŸ³çš„å€™é€‰æ±‰å­—ï¼ˆåé¢çš„æ–‡å­—æè¿°ç”¨W1ä»£æ›¿ï¼‰ï¼Œä»¥æ­¤ç±»æ¨ã€‚ä»ç¬¬ä¸€ä¸ªå­—åˆ°æœ€åä¸€ä¸ªå­—å¯ä»¥ç»„æˆå¾ˆå¤šå¥å­ï¼Œæ¯ä¸ªå¥å­å¯¹åº”å›¾ä¸­çš„ä¸€æ¡è·¯å¾„ã€‚ æ‹¼éŸ³è¾“å…¥æ³•å°±æ˜¯è¦æ ¹æ®ä¸Šä¸‹æ–‡åœ¨ç»™å®šçš„æ‹¼éŸ³æ¡ä»¶ä¸‹æ‰¾åˆ°æœ€ä¼˜çš„å¥å­ï¼Œå³æ±‚ ï¼ˆArgæ˜¯argumentçš„ç¼©å†™ï¼ŒArg Maxä¸ºè·å¾—æœ€å¤§å€¼çš„ä¿¡æ¯ä¸²ï¼‰åŒ–ç®€è¿™ä¸ªæ¦‚ç‡éœ€è¦ç”¨åˆ°éšå«é©¬å°”å¯å¤«æ¨¡å‹ï¼ˆè§2.2ä»‹ç»ï¼‰ï¼Œæˆ‘ä»¬æŠŠæ‹¼éŸ³ä¸²çœ‹æˆèƒ½è§‚å¯Ÿåˆ°çš„â€œæ˜¾çŠ¶æ€â€ï¼Œå€™é€‰æ±‰å­—çœ‹æˆâ€œéšçŠ¶æ€â€ï¼Œç„¶åæ±‚åœ¨è¿™ä¸ªâ€œæ˜¾çŠ¶æ€â€ä¸‹çš„â€œéšçŠ¶æ€â€æ¦‚ç‡ã€‚å¸¦å…¥ä¸‹æ–‡ä¸­çš„éšå«é©¬å°”å¯å¤«æ¨¡å‹å…¬å¼ï¼ˆ2.3ï¼‰ï¼Œå¼ï¼ˆ2.1ï¼‰åŒ–ç®€ä¸ºï¼š åŒ–ç®€è¿ä¹˜ï¼Œ éœ€è¦å°†ç­‰å¼ä¸¤è¾¹å–å¯¹æ•°å¾— ä¹˜æ³•å˜æˆäº†åŠ æ³•ã€‚æˆ‘ä»¬å®šä¹‰ä¸¤ä¸ªè¯ä¹‹é—´çš„è·ç¦» è¿™æ ·ï¼Œå¯»æ‰¾æœ€å¤§æ¦‚ç‡é—®é¢˜å˜æˆäº†å¯»æ‰¾æœ€çŸ­è·¯å¾„é—®é¢˜ã€‚ éšå«é©¬å°”å¯å¤«æ¨¡å‹ä¸Šæ–‡ä»‹ç»è¿‡é©¬å°”å¯å¤«å‡è®¾ï¼ˆç ”ç©¶éšæœºè¿‡ç¨‹ä¸­çš„ä¸€ä¸ªå‡è®¾ï¼‰ï¼Œå³åœ¨éšæœºçŠ¶æ€åºåˆ—ä¸­ï¼Œå‡è®¾å…¶ä¸­çš„ä¸€ä¸ªçŠ¶æ€åªäºå‰ä¸€ä¸ªçŠ¶æ€æœ‰å…³ã€‚å¦‚å¤©æ°”é¢„æŠ¥ï¼Œå‡è®¾ä»Šå¤©çš„å¤©æ°”åªä¸æ˜¨å¤©æœ‰å…³ï¼Œè¿™æ ·å°±èƒ½å¾—åˆ°è¿‘ä¼¼è§£ï¼š é©¬å°”å¯å¤«é“¾ ç¬¦åˆè¿™ä¸ªå‡è®¾çš„éšæœºè¿‡ç¨‹ç§°ä¸ºé©¬å°”å¯å¤«è¿‡ç¨‹ï¼Œä¹Ÿå«é©¬å°”å¯å¤«é“¾ã€‚éšå«é©¬å°”å¯å¤«æ¨¡å‹æ˜¯é©¬å°”å¯å¤«é“¾çš„ä¸€ä¸ªæ‰©å±•ï¼šä»»æ„æ—¶åˆ»tçš„çŠ¶æ€Stæ˜¯ä¸å¯è§çš„ï¼Œä½†åœ¨æ¯ä¸ªæ—¶åˆ»ä¼šè¾“å‡ºOtï¼Œ Otä»…å’ŒStç›¸å…³ï¼Œè¿™å«ç‹¬ç«‹è¾“å‡ºå‡è®¾ï¼Œæ•°å­¦å…¬å¼å¦‚ä¸‹ï¼š P(Ot|St)æˆ‘ä»¬å¯ä»¥é€šè¿‡è§‚å¯Ÿå¾—åˆ°ã€‚ éšé©¬å°”å¯å¤«æ¨¡å‹ è§£å†³é—®é¢˜é€šå¸¸æ˜¯é€šè¿‡å·²çŸ¥æ±‚æœªçŸ¥ï¼Œæˆ‘ä»¬è¦é€šè¿‡è§‚å¯Ÿåˆ°$o_t$æ±‚å‡º$s_t$çš„æ¦‚ç‡ï¼Œå³æ±‚ ç”±æ¡ä»¶æ¦‚ç‡å…¬å¼å¯å¾—ï¼š å› ä¸ºè§‚å¯Ÿåˆ°çš„çŠ¶æ€Oä¸€æ—¦äº§ç”Ÿå°±ä¸ä¼šå˜äº†ï¼Œæ‰€ä»¥å®ƒæ˜¯ä¸€ä¸ªå¯å¿½ç•¥çš„å¸¸æ•°ï¼Œä¸Šå¼å¯ä»¥åŒ–ç®€ä¸º å› ä¸º å¼(2.2)å¯ä»¥åŒ–ç®€ä¸º ä¿¡æ¯è®ºï¼šä¿¡æ¯çš„åº¦é‡å’Œä½œç”¨ä¿¡æ¯ç†µé¦™å†œåœ¨ä»–çš„è®ºæ–‡â€œé€šä¿¡çš„æ•°å­¦åŸç†â€[æƒ³åˆ°ç‰›é¡¿çš„â€œè‡ªç„¶å“²å­¦ä¸æ•°å­¦åŸç†â€]ï¼Œæå‡ºäº†ä¿¡æ¯ç†µï¼ˆshangï¼‰ï¼ŒæŠŠä¿¡æ¯å’Œæ•°å­—è”ç³»èµ·æ¥ï¼Œè§£å†³äº†ä¿¡æ¯çš„åº¦é‡ï¼Œå¹¶é‡åŒ–å‡ºä¿¡æ¯çš„ä½œç”¨ã€‚ ä¸€æ¡ä¿¡æ¯çš„ä¿¡æ¯é‡å’Œå®ƒçš„ä¸ç¡®å®šæ€§æ­£ç›¸å…³ï¼Œä¿¡æ¯ç†µçº¦ç­‰äºä¸ç¡®å®šæ€§çš„å¤šå°‘ã€‚é¦™å†œç»™å‡ºçš„ä¿¡æ¯ç†µå…¬å¼ä¸º P(x)ä¸ºxçš„æ¦‚ç‡åˆ†å¸ƒã€‚ ä¿¡æ¯ç†µçš„å…¬å¼ä¸ºä»€ä¹ˆå–è´Ÿæ•°ï¼Ÿå› ä¸ºæ¦‚ç‡å°äº1ï¼Œå°æ•°æ±‚å¾—çš„å¯¹æ•°æ˜¯è´Ÿæ•°ï¼Œç»™æ•´ä¸ªå…¬å¼åŠ ä¸Šè´Ÿå·ï¼Œæœ€ç»ˆçš„ç»“æœä¸ºæ­£ã€‚ ä¸‹é¢ä¸¾ä¾‹è¯´æ˜ä¿¡æ¯ç†µå…¬å¼ä¸ºä»€ä¹ˆä¼šç”¨åˆ°logå’Œæ¦‚ç‡ã€‚ çŒœä¸­ä¸–ç•Œæ¯å† å†›éœ€è¦å¤šå°‘æ¬¡ï¼Ÿè¶³çƒä¸–ç•Œæ¯å…±32ä¸ªçƒé˜Ÿï¼Œç»™ä»–ä»¬ç¼–å·1-32å·ï¼Œç¬¬ä¸€æ¬¡çŒœå† å†›æ˜¯å¦åœ¨1-16å·ä¹‹ä¸­ï¼Œå¦‚æœå¯¹äº†å°±ä¼šæ¥ç€çŒœæ˜¯å¦åœ¨1-8å·ï¼Œå¦‚æœé”™äº†å°±çŸ¥é“å† å†›åœ¨9-16å·ï¼Œç¬¬ä¸‰æ¬¡çŒœæ˜¯å¦åœ¨9-12å·ï¼Œè¿™æ ·åªéœ€è¦5æ¬¡å°±èƒ½çŒœä¸­ï¼Œlog32 = 5ã€‚è¿™é‡Œé‡‡ç”¨çš„æ˜¯æŠ˜åŠæŸ¥æ‰¾ï¼Œæ‰€ä»¥å–å¯¹æ•°ã€‚ ä½†å®é™…æƒ…å†µä¸éœ€è¦çŒœ5æ¬¡ï¼Œå› ä¸ºçƒé˜Ÿæœ‰å¼ºå¼±ï¼Œå¯ä»¥å…ˆæŠŠå¤ºå† çƒ­é—¨åˆ†ä¸€ç»„ï¼Œå‰©ä¸‹çš„åˆ†ä¸€ç»„ï¼Œé—®å† å†›æ˜¯å¦åœ¨çƒ­é—¨ç»„ä¸­ï¼Œå†ç»§ç»­è¿™ä¸ªè¿‡ç¨‹ï¼ŒæŒ‰ç…§å¤ºå† æ¦‚ç‡å¯¹å‰©ä¸‹çš„çƒé˜Ÿåˆ†ç»„ã€‚å¼•å…¥æ¦‚ç‡å°±ä¼šè®©æŸ¥æ‰¾æ•°æ›´å°‘ï¼Œä¹Ÿå°±æ˜¯ä¸ç¡®å®šæ€§æ›´å°ï¼Œä¿¡æ¯ç†µæ›´å°ã€‚å¯ä»¥è®¡ç®—ï¼Œå½“æ¯æ”¯çƒé˜Ÿå¤ºå† æ¦‚ç‡ç›¸ç­‰æ—¶ï¼ˆ1/32ï¼‰ï¼Œä¿¡æ¯ç†µçš„ç»“æœä¸º5ã€‚ æ¡ä»¶å¢’ï¼šå‡å®šXå’ŒYæ˜¯ä¸¤ä¸ªéšæœºå˜é‡ï¼ŒXæ˜¯æˆ‘ä»¬è¦äº†è§£çš„ï¼Œå·²çŸ¥Xçš„éšæœºåˆ†å¸ƒP(X)ï¼Œäºæ˜¯Xçš„ç†µä¸ºï¼š å‡å®šæˆ‘ä»¬è¿˜çŸ¥é“Yçš„ä¸€äº›æƒ…å†µï¼ŒåŒ…æ‹¬å®ƒå’ŒXä¸€èµ·å‡ºç°çš„æ¦‚ç‡ï¼Œå³è”åˆæ¦‚ç‡åˆ†å¸ƒï¼Œä»¥åŠåœ¨Yå–ä¸åŒå€¼å‰æä¸‹Xçš„æ¦‚ç‡åˆ†å¸ƒï¼Œå³æ¡ä»¶æ¦‚ç‡åˆ†å¸ƒï¼Œäºæ˜¯åœ¨Yæ¡ä»¶ä¸‹Xçš„æ¡ä»¶ç†µä¸ºï¼š å¯è¯æ˜H(X|Y) &lt;H(X), å³å¼•å…¥ç›¸å…³ä¿¡æ¯åï¼Œä¸ç¡®å®šæ€§ä¸‹é™äº†ã€‚ äº’ä¿¡æ¯ä¿¡æ¯ä¹‹é—´çš„ç›¸å…³æ€§å¦‚æœåº¦é‡å‘¢ï¼Ÿ é¦™å†œæå‡ºäº†ç”¨äº’ä¿¡æ¯åº¦é‡ä¸¤ä¸ªéšæœºäº‹ä»¶çš„ç›¸å…³æ€§ã€‚ä¾‹å¦‚ï¼Œâ€œå¥½é—·çƒ­â€å’Œâ€œè¦ä¸‹é›¨äº†â€çš„äº’ä¿¡æ¯å¾ˆé«˜ã€‚Xä¸Yçš„äº’ä¿¡æ¯å…¬å¼å¦‚ä¸‹ï¼š ç»è¿‡æ¼”ç®—ï¼Œå¯å¾—åˆ° åªè¦æœ‰è¶³å¤Ÿçš„è¯­æ–™åº“ï¼ŒP(x,y), P(x) å’ŒP(y)æ˜¯å¾ˆå®¹æ˜“è®¡ç®—çš„ã€‚ æœºå™¨ç¿»è¯‘ä¸­æœ€éš¾çš„ä¸¤ä¸ªé—®é¢˜ä¹‹ä¸€æ˜¯äºŒä¹‰æ€§ï¼Œå¦‚Bush æ—¢å¯ä»¥æ˜¯æ€»ç»Ÿå¸ƒä»€ï¼Œä¹Ÿå¯ä»¥æ˜¯çŒæœ¨ä¸›ï¼ŒKerryæ—¢å¯ä»¥æ˜¯å›½åŠ¡å¿å…‹é‡Œï¼Œä¹Ÿå¯ä»¥æ˜¯å°æ¯ç‰›ã€‚å¦‚ä½•æ­£ç¡®çš„ç¿»è¯‘ï¼Ÿä¸€ç§æ€è·¯æ˜¯é€šè¿‡è¯­æ³•è¾¨åˆ«ï¼Œä½†æ•ˆæœä¸å¥½ï¼› å¦ä¸€ç§æ€è·¯æ˜¯ç”¨äº’ä¿¡æ¯ï¼Œä»å¤§é‡æ–‡æœ¬ä¸­æ‰¾å‡ºå’Œæ€»ç»Ÿå¸ƒä»€ä¸€èµ·å‡ºç°çš„è¯è¯­ï¼Œå¦‚æ€»ç»Ÿã€ç¾å›½ã€å›½ä¼šç­‰ï¼Œå†ç”¨åŒæ ·çš„æ–¹æ³•æ‰¾å‡ºå’ŒçŒæœ¨ä¸›ä¸€èµ·å‡ºç°çš„è¯ï¼Œå¦‚åœŸå£¤ã€æ¤ç‰©ç­‰ï¼Œæœ‰äº†è¿™ä¸¤ç»„è¯ï¼Œåœ¨ç¿»è¯‘Bushæ—¶ï¼Œçœ‹çœ‹ä¸Šä¸‹æ–‡ä¸­å“ªç±»è¯æ›´å¤šå°±å¯ä»¥äº†ã€‚ ç›¸å¯¹ç†µ/äº¤å‰ç†µç›¸å¯¹ç†µï¼ˆKL Divergenceï¼‰ï¼Œè¡¡é‡ä¸¤ä¸ªå–å€¼ä¸ºæ­£çš„å‡½æ•°çš„ç›¸ä¼¼æ€§: ç»“è®ºï¼š ä¸¤ä¸ªå®Œå…¨ç›¸ç­‰çš„å‡½æ•°ï¼Œç›¸å¯¹ç†µä¸ºé›¶ï¼› ç›¸å¯¹ç†µè¶Šå¤§ï¼Œä¸¤ä¸ªå‡½æ•°å·®å¼‚è¶Šå¤§ã€‚ å¯¹äºæ¦‚ç‡åˆ†å¸ƒå‡½æ•°ï¼Œæˆ–è€…æ¦‚ç‡å¯†åº¦å‡½æ•°ï¼Œç›¸å¯¹ç†µå¯ä»¥åº¦é‡ä¸¤ä¸ªéšæœºåˆ†å¸ƒçš„å·®å¼‚æ€§ã€‚ åœ¨è‡ªç„¶è¯­è¨€å¤„ç†ä¸­ï¼Œå¸¸ç”¨ç›¸å¯¹ç†µè®¡ç®—ä¸¤ä¸ªå¸¸ç”¨è¯åœ¨ä¸åŒæ–‡æœ¬ä¸­çš„æ¦‚ç‡åˆ†å¸ƒï¼Œçœ‹ä»–ä»¬æ˜¯å¦åŒä¹‰ï¼›æˆ–è€…æ ¹æ®ä¸¤ç¯‡æ–‡ç« ä¸­ä¸åŒè¯çš„åˆ†å¸ƒï¼Œè¡¡é‡å®ƒä»¬çš„å†…å®¹æ˜¯å¦ç›¸ç­‰ã€‚åˆ©ç”¨ç›¸å¯¹ç†µï¼Œå¯ä»¥å¾—åˆ°ä¿¡æ¯æ£€ç´¢ä¸­æœ€é‡è¦çš„æ¦‚å¿µï¼šè¯é¢‘ç‡-é€†å‘æ–‡æ¡£é¢‘ç‡ï¼ˆTF-IDFï¼‰ï¼Œåœ¨åé¢çš„æœç´¢ç« èŠ‚ä¼šå¯¹å®ƒè¯¦ç»†ä»‹ç»ã€‚ æœç´¢è·å–ç½‘é¡µï¼šç½‘ç»œçˆ¬è™«æŠŠæ•´ä¸ªäº’è”ç½‘çœ‹ä½œä¸€å¼ å¤§å›¾ï¼Œæ¯ä¸ªç½‘é¡µå°±æ˜¯å›¾ä¸­çš„ä¸€ä¸ªèŠ‚ç‚¹ï¼Œè¶…é“¾æ¥æ˜¯è¿æ¥èŠ‚ç‚¹çš„å¼§ã€‚é€šè¿‡ç½‘ç»œçˆ¬è™«ï¼Œç”¨å›¾çš„éå†ç®—æ³•ï¼Œå°±èƒ½è‡ªåŠ¨åœ°è®¿é—®åˆ°æ¯ä¸ªç½‘é¡µå¹¶æŠŠå®ƒä»¬å­˜èµ·æ¥ã€‚ ç½‘ç»œçˆ¬è™«æ˜¯è¿™æ ·å·¥ä½œï¼šå‡å®šä»ä¸€å®¶é—¨æˆ·ç½‘ç«™çš„é¦–é¡µå‡ºå‘ï¼Œå…ˆä¸‹è½½è¿™ä¸ªç½‘é¡µï¼Œå†é€šè¿‡è¿™ä¸ªç½‘é¡µåˆ†æå‡ºé‡Œé¢åŒ…å«çš„æ‰€æœ‰è¶…é“¾æ¥ï¼Œæ¥ä¸‹æ¥è®¿é—®å¹¶ä¸‹è½½è¿™äº›è¶…é“¾æ¥æŒ‡å‘çš„ç½‘é¡µã€‚è®©è®¡ç®—æœºä¸åŒåœ°åšä¸‹å»ï¼Œå°±èƒ½ä¸‹è½½æ•´ä¸ªäº’è”ç½‘ã€‚ è¿˜éœ€è¦ç”¨ä¸€ä¸ªè®°äº‹æœ¬ï¼ˆå“ˆå¸Œè¡¨ï¼‰è®°å½•ä¸‹è½½äº†å“ªäº›ç½‘é¡µé¿å…é‡å¤ä¸‹è½½ã€‚ å·¥ç¨‹å®ç°é—®é¢˜ï¼š éå†ç®—æ³•é‡‡ç”¨å¹¿åº¦ä¼˜å…ˆè¿˜æ˜¯æ·±åº¦ä¼˜å…ˆï¼Ÿæœç´¢å¼•æ“è¦åšåˆ°åœ¨æœ‰é™çš„æ—¶é—´å†…ï¼Œæœ€å¤šåœ°çˆ¬ä¸‹æœ€é‡è¦çš„ç½‘é¡µã€‚æ˜¾ç„¶å„ä¸ªç½‘ç«™æœ€é‡è¦çš„æ˜¯å®ƒçš„é¦–é¡µï¼Œé‚£ä¹ˆå°±åº”è¯¥å…ˆä¸‹è½½æ‰€æœ‰ç½‘ç«™çš„é¦–é¡µã€‚å¦‚æœæŠŠçˆ¬è™«å†æ‰©å¤§ä¸€ç‚¹ï¼Œå°±è¦ç»§ç»­ä¸‹è½½é¦–é¡µç›´æ¥é“¾æ¥çš„ç½‘é¡µï¼Œå› ä¸ºè¿™äº›ç½‘é¡µæ˜¯ç½‘ç«™è®¾è®¡è€…è‡ªå·±è®¤ä¸ºç›¸å½“é‡è¦çš„ç½‘é¡µã€‚åœ¨è¿™ä¸ªå‰æä¸‹ï¼Œä¼¼ä¹åº”è¯¥é‡‡ç”¨å¹¿åº¦ä¼˜å…ˆã€‚ ä½†æ˜¯è¿˜è¦è€ƒè™‘ç½‘ç»œé€šä¿¡çš„â€œæ¡æ‰‹â€é—®é¢˜ã€‚ç½‘ç»œçˆ¬è™«æ¯æ¬¡è®¿é—®ç½‘ç«™æœåŠ¡å™¨æ—¶ï¼Œéƒ½è¦é€šè¿‡â€œæ¡æ‰‹â€å»ºç«‹è¿æ¥ï¼ˆTCPåè®®ï¼‰ï¼Œå¦‚æœé‡‡ç”¨å¹¿åº¦ä¼˜å…ˆï¼Œæ¯ä¸ªç½‘ç«™å…ˆè½®æµä¸‹è½½æ‰€æœ‰é¦–é¡µï¼Œå†å›è¿‡å¤´æ¥ä¸‹è½½ç¬¬äºŒçº§ç½‘é¡µï¼Œè¿™æ ·å°±è¦é¢‘ç¹çš„è®¿é—®ç½‘ç«™ï¼Œå¢åŠ â€œæ¡æ‰‹â€è€—æ—¶ã€‚ å®é™…çš„ç½‘ç»œçˆ¬è™«æ˜¯ç”±æˆç™¾ä¸Šåƒå°æœåŠ¡å™¨ç»„æˆçš„åˆ†å¸ƒå¼ç³»ç»Ÿï¼Œç”±è°ƒåº¦ç³»ç»Ÿå†³å®šç½‘é¡µä¸‹è½½çš„é¡ºåºï¼Œå¯¹äºæŸä¸ªç½‘ç«™ï¼Œä¸€èˆ¬æ˜¯ç”±ç‰¹å®šçš„ä¸€å°æˆ–å‡ å°æœåŠ¡å™¨ä¸“é—¨ä¸‹è½½ï¼Œè¿™äº›æœåŠ¡å™¨å…ˆä¸‹è½½å®Œä¸€ä¸ªç½‘ç«™å†è¿›å…¥ä¸‹ä¸€ä¸ªç½‘ç«™ï¼Œè¿™æ ·å¯ä»¥å‡å°‘æ¡æ‰‹æ¬¡æ•°ï¼ˆæ·±åº¦ä¼˜å…ˆï¼‰ã€‚å…·ä½“åˆ°æ¯ä¸ªç½‘ç«™ï¼Œé‡‡ç”¨å¹¿åº¦ä¼˜å…ˆï¼Œå…ˆä¸‹è½½é¦–é¡µï¼Œå†ä¸‹è½½é¦–é¡µç›´æ¥é“¾æ¥çš„ç½‘é¡µã€‚ é¡µé¢åˆ†æå’Œè¶…é“¾æ¥ï¼ˆURLï¼‰æå–æ—©æœŸçš„ç½‘é¡µéƒ½æ˜¯ç›´æ¥ç”¨HTMLä¹¦å†™ï¼ŒURLä»¥æ–‡æœ¬çš„å½¢å¼æ”¾åœ¨ç½‘é¡µä¸­ï¼Œå‰åæœ‰æ˜æ˜¾æ ‡è¯†ï¼Œå¾ˆå®¹æ˜“æå–å‡ºæ¥ã€‚ä½†ç°åœ¨å¾ˆå¤šç½‘é¡µéƒ½æ˜¯ç”¨è„šæœ¬è¯­è¨€ï¼ˆå¦‚JavaScriptï¼‰ç”Ÿæˆï¼ŒURLä¸æ˜¯ç›´æ¥å¯è§çš„æ–‡æœ¬ï¼Œæ‰€ä»¥ç½‘ç»œçˆ¬è™«è¦æ¨¡æ‹Ÿæµè§ˆå™¨è¿è¡Œç½‘é¡µåæ‰èƒ½å¾—åˆ°éšå«çš„URLï¼Œä½†å¾ˆå¤šç½‘é¡µçš„è„šæœ¬å†™çš„ä¸è§„èŒƒï¼Œå¾ˆéš¾è§£æï¼Œè¿™å°±å¯¼è‡´è¿™æ ·çš„ç½‘é¡µæ— æ³•è¢«æœç´¢å¼•æ“æ”¶å½•ã€‚ ç»´æŠ¤è¶…é“¾æ¥å“ˆå¸Œè¡¨åœ¨ä¸€å°æœåŠ¡å™¨ä¸Šå»ºç«‹å’Œç»´æŠ¤ä¸€å¼ å“ˆå¸Œè¡¨å¹¶ä¸æ˜¯éš¾äº‹ï¼Œä½†å¦‚æœåŒæ—¶æœ‰æˆåƒä¸Šä¸‡å°æœåŠ¡å™¨ä¸€èµ·ä¸‹è½½ç½‘é¡µï¼Œç»´æŠ¤ä¸€å¼ ç»Ÿä¸€çš„å“ˆå¸Œè¡¨å°±ä¼šé‡åˆ°å¾ˆå¤šé—®é¢˜ï¼š é¦–å…ˆï¼Œè¿™å¼ å“ˆå¸Œè¡¨ä¼šå¤§åˆ°å­˜ä¸ä¸‹æ¥ï¼›å…¶æ¬¡ï¼Œæ¯å°æœåŠ¡å™¨ä¸‹è½½å‰å’Œä¸‹è½½åéƒ½è¦è®¿é—®å“ˆå¸Œè¡¨ï¼Œäºæ˜¯å“ˆå¸Œè¡¨æœåŠ¡å™¨çš„é€šä¿¡å°±æˆäº†æ•´ä¸ªçˆ¬è™«ç³»ç»Ÿçš„ç“¶é¢ˆã€‚è§£å†³åŠæ³•æ˜¯ï¼šæ˜ç¡®åˆ†å·¥ï¼Œå°†æŸä¸ªåŒºé—´çš„URLåˆ†ç»™ç‰¹å®šçš„å‡ å°æœåŠ¡å™¨ï¼Œé¿å…æ‰€æœ‰æœåŠ¡å™¨å¯¹åŒä¸€ä¸ªURLåšåˆ¤æ–­ï¼›æ‰¹é‡è¯¢é—®å“ˆå¸Œè¡¨ï¼Œå‡å°‘é€šä¿¡æ¬¡æ•°ï¼Œæ¯æ¬¡æ›´æ–°ä¸€å¤§æ‰¹å“ˆå¸Œè¡¨çš„å†…å®¹ã€‚ ç½‘é¡µæ£€ç´¢ï¼šå¸ƒå°”ä»£æ•°æœ€ç®€å•çš„ç´¢å¼•ç»“æ„æ˜¯ç”¨ä¸€ä¸ªå¾ˆé•¿çš„äºŒè¿›åˆ¶æ•°è¡¨ç¤ºä¸€ä¸ªå…³é”®å­—æ˜¯å¦åœ¨æ¯ä¸ªç½‘é¡µä¸­ï¼Œæœ‰å¤šå°‘ä¸ªç½‘é¡µå°±æœ‰å¤šå°‘ä½æ•°ï¼Œæ¯ä¸€ä½å¯¹åº”ä¸€ä¸ªç½‘é¡µï¼Œ1ä»£è¡¨ç›¸åº”çš„ç½‘é¡µæœ‰è¿™ä¸ªå…³é”®å­—ï¼Œ0ä»£è¡¨æ²¡æœ‰ã€‚æ¯”å¦‚å…³é”®å­—â€œåŸå­èƒ½â€å¯¹åº”çš„äºŒè¿›åˆ¶æ•°æ˜¯0100 1000 1100 0001â€¦è¡¨ç¤ºï¼ˆä»å·¦åˆ°å³ï¼‰ç¬¬äºŒã€ç¬¬äº”ã€ç¬¬ä¹ã€ç¬¬åã€ç¬¬åå…­ä¸ªç½‘é¡µåŒ…å«è¿™ä¸ªå…³é”®å­—ã€‚å‡å®šå…³é”®å­—â€œåº”ç”¨â€å¯¹åº”çš„äºŒè¿›åˆ¶æ•°æ˜¯0010 1001 1000 0001â€¦ï¼Œé‚£ä¹ˆè¦æ‰¾åˆ°åŒæ—¶åŒ…å«â€œåŸå­èƒ½â€å’Œâ€œåº”ç”¨â€çš„ç½‘é¡µæ—¶ï¼Œåªéœ€è¦å°†è¿™ä¸¤ä¸ªäºŒè¿›åˆ¶æ•°è¿›è¡Œå¸ƒå°”ANDè¿ç®—ï¼Œç»“æœæ˜¯0000 1000 0000 0001â€¦è¡¨ç¤ºç¬¬äº”å’Œç¬¬åå…­ä¸ªç½‘é¡µæ»¡è¶³è¦æ±‚ã€‚ è¿™ä¸ªäºŒè¿›åˆ¶æ•°éå¸¸é•¿ï¼Œä½†æ˜¯è®¡ç®—æœºåšå¸ƒå°”è¿ç®—éå¸¸å¿«ï¼Œç°åœ¨æœ€ä¾¿å®œçš„å¾®æœºï¼Œåœ¨ä¸€ä¸ªæŒ‡ä»¤å‘¨æœŸè¿›è¡Œ32ä½å¸ƒå°”è¿ç®—ï¼Œä¸€ç§’é’Ÿåäº¿æ¬¡ä»¥ä¸Šã€‚ ä¸ºäº†ä¿è¯å¯¹ä»»ä½•æœç´¢éƒ½èƒ½æä¾›ç›¸å…³ç½‘é¡µï¼Œä¸»è¦çš„æœç´¢å¼•æ“éƒ½æ˜¯å¯¹æ‰€æœ‰è¯è¿›è¡Œç´¢å¼•ï¼Œå‡å¦‚äº’è”ç½‘ä¸Šæœ‰100äº¿ä¸ªæœ‰æ„ä¹‰çš„ç½‘é¡µï¼Œè¯æ±‡è¡¨å¤§å°æ˜¯30ä¸‡ï¼Œé‚£ä¹ˆè¿™ä¸ªç´¢å¼•è‡³å°‘æ˜¯100äº¿x30ä¸‡=3000ä¸‡äº¿ã€‚è€ƒè™‘åˆ°å¤§å¤šæ•°çš„è¯åªå‡ºç°åœ¨ä¸€éƒ¨åˆ†æ–‡æœ¬ä¸­ï¼Œå‹ç¼©æ¯”æ˜¯100ï¼š1ï¼Œä¹Ÿæ˜¯30ä¸‡äº¿çš„é‡çº§ã€‚ä¸ºäº†ç½‘é¡µæ’åæ–¹ä¾¿ï¼Œç´¢å¼•ä¸­è¿˜è¦å­˜å…¶ä»–é™„åŠ ä¿¡æ¯ï¼Œå¦‚æ¯ä¸ªè¯å‡ºç°çš„ä½ç½®ï¼Œæ¬¡æ•°ç­‰ç­‰ã€‚å› æ­¤æ•´ä¸ªç´¢å¼•å°±å˜å¾—éå¸¸å¤§ï¼Œéœ€è¦é€šè¿‡åˆ†å¸ƒå¼å­˜å‚¨åˆ°ä¸åŒæœåŠ¡å™¨ä¸Šï¼ˆæ ¹æ®ç½‘é¡µç¼–å·åˆ’åˆ†ä¸ºå¾ˆå¤šå°å—ï¼Œæ ¹æ®ç½‘é¡µé‡è¦æ€§å»ºç«‹é‡è¦ç´¢å¼•å’Œéé‡è¦ç´¢å¼•ï¼‰ã€‚ åº¦é‡ç½‘é¡µå’ŒæŸ¥è¯¢çš„ç›¸å…³æ€§ï¼šTF-IDFæˆ‘ä»¬ä»¥æŸ¥æ‰¾åŒ…å«â€œåŸå­èƒ½çš„åº”ç”¨â€ç½‘é¡µä¸¾ä¾‹ï¼Œâ€œåŸå­èƒ½çš„åº”ç”¨â€å¯ä»¥åˆ†æˆä¸‰ä¸ªå…³é”®è¯ï¼šåŸå­èƒ½ã€çš„ã€åº”ç”¨ã€‚å‡­ç›´è§‰ï¼Œæˆ‘ä»¬è®¤ä¸ºåŒ…å«è¿™ä¸‰ä¸ªå…³é”®è¯è¾ƒå¤šçš„ç½‘é¡µï¼Œæ¯”åŒ…å«å®ƒä»¬è¾ƒå°‘çš„ç½‘é¡µç›¸å…³ã€‚ä½†è¿™å¹¶ä¸å¯å–ï¼Œå› ä¸ºè¿™æ ·çš„è¯ï¼Œå†…å®¹é•¿çš„ç½‘é¡µæ¯”å†…å®¹çŸ­çš„ç½‘é¡µå ä¾¿å®œï¼Œæ‰€ä»¥è¦æ ¹æ®ç½‘é¡µé•¿åº¦å¯¹å…³é”®è¯çš„æ¬¡æ•°è¿›è¡Œå½’ä¸€åŒ–ï¼Œç”¨å…³é”®è¯çš„æ¬¡æ•°ï¼Œé™¤ä»¥ç½‘é¡µçš„æ€»å­—æ•°ï¼Œè¿™ä¸ªå•†å«åšâ€œå…³é”®è¯çš„é¢‘ç‡â€æˆ–â€œå•æ–‡æœ¬é¢‘ç‡â€ï¼ˆTFï¼šTerm Frequencyï¼‰ã€‚æ¯”å¦‚ï¼ŒæŸä¸ªç½‘é¡µä¸Šæœ‰1000è¯ï¼Œå…¶ä¸­â€œåŸå­èƒ½â€â€œçš„â€â€œåº”ç”¨â€åˆ†åˆ«å‡ºç°äº†2æ¬¡ã€35æ¬¡ã€5æ¬¡ï¼Œé‚£ä¹ˆå®ƒä»¬çš„è¯é¢‘å°±æ˜¯0.002ã€0.035ã€0.005ï¼Œå°†è¿™ä¸‰ä¸ªæ•°ç›¸åŠ å°±æ˜¯ç›¸åº”ç½‘é¡µå’ŒæŸ¥è¯¢â€œåŸå­èƒ½çš„åº”ç”¨â€çš„å•æ–‡æœ¬é¢‘ç‡ã€‚æ‰€ä»¥ï¼Œåº¦é‡ç½‘é¡µå’ŒæŸ¥è¯¢çš„ç›¸å…³æ€§ï¼Œä¸€ä¸ªç®€å•çš„æ–¹æ³•å°±æ˜¯ç›´æ¥ä½¿ç”¨å„ä¸ªå…³é”®è¯åœ¨ç½‘é¡µä¸­å‡ºç°çš„æ€»é¢‘ç‡ã€‚ ä½†æ˜¯è¿™ä¹Ÿæœ‰ä¸å‡†ç¡®çš„åœ°æ–¹ï¼Œä¾‹å¦‚ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œâ€œçš„â€å äº†æ€»è¯é¢‘çš„80%ä»¥ä¸Šï¼Œä½†æ˜¯å®ƒå¯¹ç¡®å®šç½‘é¡µçš„ä¸»é¢˜å‡ ä¹æ²¡ä»€ä¹ˆç”¨ï¼Œæˆ‘ä»¬å«è¿™æ ·çš„è¯ä¸ºåœæ­¢è¯ï¼ˆstop wordï¼‰ï¼Œç±»ä¼¼çš„è¿˜æœ‰â€œæ˜¯â€â€œå’Œâ€ç­‰ã€‚ å¦å¤–â€œåº”ç”¨â€æ˜¯å¾ˆæ™®é€šçš„è¯ï¼Œè€Œâ€œåŸå­èƒ½â€æ˜¯ä¸“ä¸šè¯ï¼Œåè€…åœ¨ç›¸å…³æ€§æ’åä¸­æ¯”å‰è€…é‡è¦ã€‚å› æ­¤éœ€è¦ç»™æ¯ä¸ªè¯ç»™ä¸€ä¸ªæƒé‡ï¼Œæƒé‡çš„è®¾å®šæ»¡è¶³ä¸¤ä¸ªæ¡ä»¶ï¼š ä¸€ä¸ªè¯é¢„æµ‹ä¸»é¢˜çš„èƒ½åŠ›è¶Šå¼ºï¼Œæƒé‡å°±è¶Šå¤§ï¼› åœæ­¢è¯æƒé‡ä¸ºé›¶ã€‚ åœ¨ä¿¡æ¯æ£€ç´¢ä¸­ï¼Œä½¿ç”¨æœ€å¤šçš„æ˜¯â€œé€†æ–‡æœ¬é¢‘ç‡æŒ‡æ•°â€ï¼ˆIDFï¼šInverse Document Frequencyï¼‰ï¼Œå…¬å¼ä¸º ï¼ˆDæ˜¯å…¨éƒ¨ç½‘é¡µæ•°ï¼ŒDwä¸ºå…³é”®è¯wå‡ºç°çš„ç½‘é¡µä¸ªæ•°ï¼‰ã€‚æœ€ç»ˆç¡®å®šæŸ¥è¯¢ç›¸å…³æ€§ï¼Œæ˜¯åˆ©ç”¨TFå’ŒIDFçš„åŠ æƒæ±‚å’Œã€‚ ï¼ˆIDFå…¶å®æ˜¯åœ¨ç‰¹å®šæ¡ä»¶ä¸‹å…³é”®è¯æ¦‚ç‡åˆ†å¸ƒçš„äº¤å‰ç†µï¼‰ æœç´¢ç»“æœé¡µæ’åºï¼šPage Rankç®—æ³•è¿™æ˜¯æ‹‰é‡ŒÂ·ä½©å¥‡å’Œè°¢å°”ç›–Â·å¸ƒæ—å‘æ˜çš„è®¡ç®—ç½‘é¡µè‡ªèº«è´¨é‡çš„æ•°å­¦æ¨¡å‹ï¼Œgoogleå‡­å€Ÿè¯¥ç®—æ³•ï¼Œä½¿æœç´¢çš„ç›¸å…³æ€§æœ‰äº†è´¨çš„é£è·ƒï¼Œåœ†æ»¡è§£å†³äº†ä»¥å¾€æœç´¢é¡µä¸­æ’åºä¸å¥½çš„é—®é¢˜ã€‚è¯¥ç®—æ³•çš„æ ¸å¿ƒæ€æƒ³ä¸ºï¼šå¦‚æœä¸€ä¸ªç½‘é¡µè¢«å¾ˆå¤šå…¶ä»–ç½‘é¡µæ‰€é“¾æ¥ï¼Œè¯´æ˜å®ƒæ”¶åˆ°æ™®éçš„æ‰¿è®¤å’Œä¿¡èµ–ï¼Œé‚£ä¹ˆå®ƒçš„æ’åå°±é«˜ã€‚å½“ç„¶ï¼Œåœ¨å…·ä½“åº”ç”¨ä¸­è¿˜è¦åŠ ä¸Šæƒé‡ï¼Œç»™æ’åé«˜çš„ç½‘é¡µé“¾æ¥æ›´é«˜çš„æƒé‡ã€‚è¿™é‡Œæœ‰ä¸€ä¸ªæ€ªåœˆï¼Œè®¡ç®—æœç´¢ç»“æœç½‘é¡µæ’åè¿‡ç¨‹ä¸­éœ€è¦ç”¨åˆ°ç½‘é¡µæœ¬èº«çš„æ’åï¼Œè¿™ä¸æ˜¯â€œå…ˆæœ‰é¸¡è¿˜æ˜¯å…ˆæœ‰è›‹çš„é—®é¢˜â€å—ï¼Ÿ è°¢å°”ç›–Â·å¸ƒæ—è§£å†³äº†è¿™ä¸ªé—®é¢˜ï¼Œä»–æŠŠè¿™ä¸ªé—®é¢˜å˜æˆäº†ä¸€ä¸ªäºŒç»´çŸ©é˜µé—®é¢˜ï¼Œå…ˆå‡å®šæ‰€æœ‰ç½‘é¡µæ’åç›¸åŒï¼ˆ1/Nï¼‰ï¼Œåœ¨æ ¹æ®è¿™ä¸ªåˆå§‹å€¼ä¸æ–­è¿­ä»£æ’åï¼Œæœ€åèƒ½æ”¶æ•›åˆ°çœŸå®æ’åã€‚ æ–°é—»åˆ†ç±»ï¼šä½™å¼¦å®šç†googleæœ‰æ–°é—»é¢‘é“ï¼Œé‡Œé¢çš„å†…å®¹æ˜¯ç”±è®¡ç®—æœºèšåˆã€æ•´ç†å¹¶åˆ†ç±»å„ç½‘ç«™å†…å®¹ã€‚ä»¥å‰é—¨æˆ·ç½‘ç«™çš„å†…å®¹æ˜¯ç”±ç¼–è¾‘åœ¨è¯»æ‡‚ä¹‹åï¼Œå†æ ¹æ®ä¸»é¢˜åˆ†ç±»ã€‚ä½†æ˜¯è®¡ç®—æœºæ ¹æœ¬è¯»ä¸æ‡‚æ–°é—»ï¼Œå®ƒåªä¼šè®¡ç®—ï¼Œæ‰€ä»¥è¦è®©è®¡ç®—æœºåˆ†ç±»æ–°é—»ï¼Œé¦–å…ˆå°±è¦æŠŠæ–‡å­—å˜æˆå¯è®¡ç®—çš„æ•°å­—ï¼Œå†è®¾è®¡ä¸€ä¸ªç®—æ³•æ¥è®¡ç®—ä»»æ„ä¸¤ç¯‡æ–°é—»çš„ç›¸ä¼¼æ€§ã€‚ è®¡ç®—ä¸€ç¯‡æ–°é—»ä¸­æ‰€æœ‰å®è¯çš„TF-IDFå€¼ï¼Œå†æŠŠè¿™äº›å€¼æŒ‰ç…§å¯¹åº”çš„å®è¯åœ¨è¯æ±‡è¡¨çš„ä½ç½®ä¾æ¬¡æ’åˆ—ï¼Œå°±å¾—åˆ°ä¸€ä¸ªå‘é‡ã€‚ä¾‹å¦‚è¯æ±‡è¡¨ä¸­æœ‰64000ä¸ªè¯ï¼Œå…¶ç¼–å·å’Œè¯å¦‚å·¦ä¸‹è¡¨æ‰€ç¤ºï¼Œåœ¨æŸä¸€ç¯‡æ–°é—»ä¸­ï¼Œè¿™64000ä¸ªè¯çš„TF-IDFå€¼å¦‚å³ä¸‹è¡¨æ‰€ç¤ºï¼Œè¿™64000ä¸ªæ•°å°±ç»„æˆäº†ä¸€ä¸ª64000ç»´çš„å‘é‡ï¼Œæˆ‘ä»¬å°±ç”¨è¿™ä¸ªå‘é‡ä»£è¡¨è¿™ç¯‡æ–°é—»ï¼Œæˆä¸ºè¿™ç¯‡æ–°é—»çš„ç‰¹å¾å‘é‡ã€‚æ¯ç¯‡æ–°é—»éƒ½æœ‰ä¸€ä¸ªç‰¹å¾å‘é‡ï¼Œå‘é‡ä¸­çš„æ¯ä¸ªæ•°ä»£è¡¨å¯¹åº”çš„è¯å¯¹è¿™ç¯‡æ–°é—»ä¸»é¢˜çš„è´¡çŒ®ã€‚ åŒä¸€ç±»çš„æ–°é—»ï¼Œä¸€å®šæŸäº›ä¸»é¢˜è¯ç”¨çš„è¾ƒå¤šï¼Œä¸¤ç¯‡ç›¸ä¼¼çš„æ–°é—»ï¼Œå®ƒä»¬çš„ç‰¹å¾å‘é‡ä¸€å®šåœ¨æŸå‡ ä¸ªçº¬åº¦çš„å€¼æ¯”è¾ƒå¤§ã€‚å¦‚æœä¸¤ä¸ªå‘é‡çš„æ–¹å‘ä¸€è‡´ï¼Œå°±è¯´æ˜æ–°é—»çš„ç”¨è¯æ¯”ä¾‹åŸºæœ¬ä¸€è‡´ï¼Œæˆ‘ä»¬é‡‡ç”¨ä½™å¼¦å®šç†è®¡ç®—ä¸¤ä¸ªå‘é‡é—´çš„å¤¹è§’ï¼š æ–°é—»åˆ†ç±»ç®—æ³•åˆ†ä¸ºæœ‰ç›®æ ‡å’Œæ— ç›®æ ‡ï¼šç¬¬ä¸€ç§æ˜¯å·²çŸ¥ä¸€äº›æ–°é—»ç±»åˆ«çš„ç‰¹å¾å‘é‡ï¼Œæ‹¿å®ƒåˆ†åˆ«å’Œæ‰€æœ‰å¾…åˆ†ç±»çš„æ–°é—»è®¡ç®—ä½™å¼¦ç›¸ä¼¼æ€§ï¼Œå¹¶åˆ†åˆ°å¯¹åº”çš„ç±»åˆ«ä¸­ï¼Œè¿™äº›å·²çŸ¥çš„æ–°é—»ç±»åˆ«ç‰¹å¾å‘é‡æ—¢å¯ä»¥æ‰‹å·¥å»ºç«‹ï¼Œä¹Ÿå¯ä»¥è‡ªåŠ¨å»ºç«‹ï¼› ç¬¬äºŒç§æ˜¯æ²¡æœ‰åˆ†å¥½ç±»çš„ç‰¹å¾å‘é‡åšå‚è€ƒï¼Œå®ƒé‡‡ç”¨è‡ªåº•å‘ä¸Šçš„èšç±»æ–¹æ³•ï¼Œè®¡ç®—æ‰€æœ‰æ–°é—»ä¸¤ä¸¤ä¹‹é—´çš„ä½™å¼¦ç›¸ä¼¼æ€§ï¼ŒæŠŠç›¸ä¼¼æ€§å¤§äºä¸€ä¸ªé˜ˆå€¼çš„æ–°é—»åˆ†ä½œä¸€ä¸ªå°ç±»ï¼Œå†æ¯”è¾ƒå„å°ç±»ä¹‹é—´çš„ä½™å¼¦ç›¸ä¼¼æ€§ï¼Œå°±è¿™æ ·ä¸æ–­å¾…åœ¨èšåˆï¼Œä¸€ç›´åˆ°æŸä¸€ç±»å› ä¸ºå¤ªå¤§è€Œå¯¼è‡´é‡Œé¢çš„æ–°é—»ç›¸ä¼¼æ€§å¾ˆå°æ—¶åœæ­¢ã€‚]]></content>
      <categories>
        <category>æ•°å­¦</category>
      </categories>
      <tags>
        <tag>ç»Ÿè®¡ç®—æ³•</tag>
        <tag>NLP</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä¼˜é›…é«˜æ•ˆåœ°ä½¿ç”¨windows]]></title>
    <url>%2F2018%2F02%2F26%2F%E4%BC%98%E9%9B%85%E9%AB%98%E6%95%88%E5%9C%B0%E4%BD%BF%E7%94%A8windows%2F</url>
    <content type="text"><![CDATA[å·¥æ¬²å–„å…¶äº‹ï¼Œå¿…å…ˆåˆ©å…¶å™¨ï¼ ã€æ—¥å¸¸å·¥å…·ã€‘æ–‡ä»¶æœç´¢ Listaryï¼šWindowsæ–‡ä»¶æµè§ˆå¢å¼ºå·¥å…·ï¼Œdouble-ctrlè°ƒç”¨ï¼Œå¹¶ä¸”å¯ä»¥åœ¨(Xftpï¼Œclover ç­‰ç­‰)çª—å£ä¸­ä½¿ç”¨ï¼Œæå…¶æ–¹ä¾¿ï¼ Woxï¼šå…è´¹å¼€æºçš„æ•ˆç‡å¯åŠ¨å™¨,ä¸ä»…å¯ä»¥æœç´¢æ–‡ä»¶è¿˜å¯ä»¥æµè§ˆç½‘é¡µï¼ŒAlt+Spaceè°ƒç”¨ï¼Œä»¥åŠå®šåˆ¶çš„æ’ä»¶(wox-plugin)ï¼Œå ªæ¯”MACä¸Šçš„ Alfred è§†é¢‘æ’­æ”¾ Potplayerï¼šæ‹¥æœ‰å¼ºå¤§çš„å†…ç½®è§£ç å™¨ï¼Œä¸ç”¨é¢å¤–é’ˆå¯¹æŸç±»è§†é¢‘å»ä¸‹è½½äº† ä¸‹è½½ç¥å™¨ IDM(cracked version)ï¼š å…¨å®‡å®™æœ€å¿«çš„ä¸‹è½½å™¨!å”¯ä¸€ç¼ºé™·æ˜¯ä¸æ”¯æŒP2Pï¼Œæƒ³ä¸‹è½½ç£åŠ›æˆ–è€…BTå¯ä»¥å…ˆç”¨ç™¾åº¦äº‘ç½‘ç›˜çš„ç¦»çº¿åŠŸèƒ½ï¼Œå†é€šè¿‡æ²¹çŒ´è„šæœ¬æŠ“å–é“¾æ¥è¿›è¡Œä¸‹è½½ã€‚ EagleGetï¼šä¸‹è½½åè‡ªåŠ¨å®‰è£…Chromeæ‰©å±•æ¢æµ‹è§†é¢‘ï¼Œç¼ºé™·ä¹Ÿæ˜¯ä¸æ”¯æŒBT/ç£åŠ›é“¾æ¥ï¼Œæ–¹æ³•åŒä¸Š ç¡•é¼ ï¼šä¸»è¦æ˜¯ä¸‹è½½ç½‘ç«™çš„è§†é¢‘ï¼Œä¸è¿‡ç°åœ¨ä¸æ”¯æŒåƒè…¾è®¯è§†é¢‘ä¹‹ç±»çš„å¤§ç½‘ç«™äº† PDFé˜…è¯» ç¦æ˜•é˜…è¯»å™¨ï¼šåŠŸèƒ½ç®—æ¯”è¾ƒé½å…¨äº†(ä¼šå ç”¨ç«¯å£4000) ABBYY_FineReaderï¼šPDFè½¬WORD å†™ä½œå·¥å…· snipasteï¼šå¼€æºã€å…è´¹çš„å›½äº§æˆªå›¾ç¥å™¨ã€‚æ¯”QQæˆªå›¾å·¥å…·æ¸…æ™°å¾ˆå¤šã€‚ Yu writerï¼šwindowsä¸Šå¥½ç”¨çš„markdownå·¥å…·ï¼ Dittoï¼šå‰ªåˆ‡æ¿å·¥å…·ï¼Œä¿å­˜æ‰€æœ‰å¤åˆ¶è¿‡çš„æ–‡å­—å’Œå›¾ç‰‡ï¼Œç”¨ctrl+`è°ƒç”¨ Pasteasyï¼šå…¨å¹³å°è·¨è®¾å¤‡å¤åˆ¶ç²˜è´´ ç´ æåº“ OfficePLUSï¼šå¾®è½¯Officeå®˜æ–¹åœ¨çº¿æ¨¡æ¿ç½‘ç«™ï¼ Iconfontï¼šé˜¿é‡Œå·´å·´çŸ¢é‡å›¾æ ‡åº“ Free Images - Pixabay icons8ï¼šiconç´ æåº“ NASA IMAGEï¼šNASAç´ æåº“ pixabay:é«˜æ¸…å…è´¹å›¾ç‰‡ç´ æåº“ PPTåˆ¶ä½œ Nordri Toolsï¼šè¶…çº§å¥½ç”¨çš„pptæ’ä»¶ Photozoom proï¼šåˆ©ç”¨æ’å€¼ç®—æ³•æé«˜å›¾ç‰‡åˆ†è¾¨ç‡ PPTé¥æ§å™¨ï¼šä»£æ›¿é¥æ§ç¬” FILEminimizerï¼špptå‹ç¼©ç¥å™¨ Screen to Gif: Gifåˆ¶ä½œè½¯ä»¶ Tagulï¼šæ–‡å­—äº‘ç”Ÿæˆå™¨ æ€ç»´å¯¼å›¾ Xmindï¼šä»˜è´¹ï¼Œå…¨å¹³å°ï¼Œæ¨¡æ¿å¤šï¼Œæ”¯æŒé±¼éª¨å›¾ã€äºŒç»´å›¾ã€æ ‘å½¢å›¾ç­‰æ ¼å¼ï¼Œå¯ä»¥ä¸EvernoteåŒæ­¥ å¹•å¸ƒï¼šç¬”è®°ä¸€é”®ç”Ÿæˆæ€ç»´å¯¼å›¾ è§†é¢‘å½•åˆ¶ OBS Studioï¼šåŠŸèƒ½é½å…¨çš„è§†é¢‘å½•åˆ¶å·¥å…·ï¼Œç›´æ’­å¿…å¤‡ Adobe Premiere Pro CCï¼šè§†é¢‘å‰ªè¾‘å·¥å…· æ–‡ä»¶æ•´ç† Q-dirï¼šéœ€è¦åœ¨æ–‡ä»¶å¤¹ä¹‹é—´ç§»åŠ¨æ–‡ä»¶çš„æ—¶å€™ï¼Œè¿™ä¸ªæ•´ç†ç¥å™¨å°±èƒ½æ´¾ä¸Šç”¨åœºäº†ï¼ Clover 3ï¼šä¸ºèµ„æºç®¡ç†å™¨æ·»åŠ å¤šæ ‡ç­¾é¡µåŠŸèƒ½ï¼Œå¯ä»¥å°†å¸¸ç”¨æ–‡ä»¶å¤¹æ·»åŠ ä¸ºä¹¦ç­¾ Goodsyneï¼šå¼ºå¤§çš„æ•°æ®åŒæ­¥å·¥å…· bandzipï¼šwin10ä¸‹å¥½ç”¨çš„å‹ç¼©è½¯ä»¶ å¿«é€Ÿå¯åŠ¨ TrueLaunchBarï¼šå¯¹å¿«é€Ÿå¯åŠ¨é¡¹è¿›è¡Œåˆ†ç»„ï¼›å…è®¸ä½ æŠŠä»»ä½•æ–‡ä»¶å¤¹ç»„ç»‡æˆèœå•çš„å½¢å¼ï¼›å®ç°å‰ªåˆ‡æ¿ç®¡ç†ã€æ€§èƒ½ç›‘è§†ç­‰åŠŸèƒ½ Wgesturesï¼šå…¨å±€é¼ æ ‡æ‰‹åŠ¿ï¼ ã€ç³»ç»Ÿå¼€å‘ä¸ä¼˜åŒ–å·¥å…·ã€‘æ¡Œé¢ä¼˜åŒ– Fencesï¼šä»˜è´¹,æ¡Œé¢æ–‡ä»¶åˆ†ç±»æ•´ç†è½¯ä»¶ Wallpapaerï¼šåŠ¨æ€å£çº¸è½¯ä»¶ï¼Œè£…é€¼ç¥å™¨ï¼ å±ä¿ Fliqloï¼šæ•°å­—æ—¶é’Ÿçš„å±å¹•ä¿æŠ¤ï¼Œé€¼æ ¼æ»¡æ»¡ Fluxï¼š è§†åŠ›ä¿æŠ¤ï¼Œé€šè¿‡æ ¹æ®æ—¶é—´è°ƒèŠ‚å±å¹•é¢œè‰²ï¼Œå‡å°‘è“å…‰å¯¹è§†åŠ›çš„å½±å“ ç³»ç»Ÿç®¡ç† PowerToolï¼šæŸ¥çœ‹ç³»ç»Ÿè¿›ç¨‹ç­‰ä¿¡æ¯ï¼Œå®‰å…¨ä¿®å¤ï¼ Dism++ï¼šç®€æ´çš„ç³»ç»Ÿç®¡ç†è½¯ä»¶ï¼Œé›†æˆäº†å¾ˆå¤šå°å·¥å…·ï¼Œè¿˜å¯ä»¥ç³»ç»Ÿå¤‡ä»½ Ccleanerï¼šç³»ç»Ÿæ¸…ç†å·¥å…· æ–‡ä»¶ä¿®æ”¹ Bulk Rename Utilityï¼šæ‰¹é‡é‡å‘½åå·¥å…· remove empty directoriesï¼šåˆ é™¤ç©ºæ–‡ä»¶å¤¹ï¼Œå¼ºè¿«ç—‡çš„ç¦éŸ³ ç³»ç»Ÿå®‰è£… æ¸…åå¤§å­¦å¼€æºè½¯ä»¶é•œåƒç«™ï¼šå¯ä»¥ä¸‹è½½åˆ°Linuxé•œåƒæ–‡ä»¶ä»¥åŠpythonç¬¬ä¸‰æ–¹åº“æ–‡ä»¶ç­‰ï¼Œé€Ÿåº¦å¾ˆå¿«ï¼ Ultraisoï¼šåˆ¶ä½œå¯åŠ¨ç›˜ ç½‘ç»œ Fiddlerï¼šæŠ“åŒ…å·¥å…· æ–‡æœ¬ç¼–è¾‘å™¨ Sublime Text3ï¼šæ–‡æœ¬ç¥å™¨ Atomï¼šä¸­æ–‡å‹å¥½ï¼Œæ¸²æŸ“æ’ä»¶å¤š IDE Pycharmï¼šç¤¾åŒºç‰ˆå…è´¹ï¼ŒPythonå¼€å‘å¿…å¤‡ Anacondaï¼šé›†æˆäº†pythonç§‘å­¦è®¡ç®—çš„ç¬¬ä¸‰æ–¹åº“ï¼Œå†…ç½®spyderå’Œjupyter notebook IntelliJ IDEAï¼šå‰ç«¯å¿…å¤‡IDE Cmderï¼šmonokaié…è‰²ä¸»é¢˜ï¼Œå®Œç¾ä»£æ›¿åŸç”Ÿcmd ã€chromeæ’ä»¶ã€‘å¼€å‘å¿…å¤‡ Vimium(é”®ç›˜æµè§ˆæ’ä»¶) JSONView(jsonæ•°æ®è¿›è¡Œè½¬ç å’Œæ ¼å¼åŒ–) Proxy SwitchyOmega (ä»£ç†) Qiniu upload files (ä¸ƒç‰›å›¾åºŠæ’ä»¶) Markdown Here (è½¬åŒ–ä¸ºmarkdownæ ¼å¼ï¼‰ The QR Code Extension (äºŒç»´ç ç”Ÿæˆå™¨) æ—¥å¸¸ç®¡ç† Extensity (æ‰©å±•ç®¡ç†å·¥å…·) LastPass (å¯†ç ç®¡ç†å™¨) æµè§ˆä¼˜åŒ– ä¹¦ç­¾ä¾§è¾¹æ  Imtranslatorï¼ˆç¿»è¯‘ï¼‰ Imagus (æ‚¬åœæ”¾å¤§å›¾ç‰‡) OneTab (å†…å­˜ä¼˜åŒ–ç¥å™¨) Better History (æŸ¥çœ‹å†å²è®°å½•) Sexy Undo Close Tab (æ¢å¤å…³é—­ç½‘é¡µ) Infinity (æ–¹ä¾¿çš„æ–°æ ‡ç­¾é¡µå®šåˆ¶) CrxMouse Chrome Gestures (é¼ æ ‡æ‰‹åŠ¿ã€è¶…çº§æ‹–æ‹½) Tampermonkey (æ²¹çŒ´ï¼šè„šæœ¬ç®¡ç†å¹³å°ï¼Œç¥å™¨ï¼ï¼) IE Tab (æ‰“å¼€ç”¨IEå†…æ ¸æ”¯æŒçš„ç½‘é¡µï¼Œå¸¸ç”¨äºé“¶è¡Œæ”¯ä»˜ç¯å¢ƒ) Listen 1 (é›†æˆå„å¤§å¹³å°çš„éŸ³ä¹ï¼Œå†ä¹Ÿä¸ç”¨ä¸ºéŸ³ä¹ç‰ˆæƒçš„é—®é¢˜å¤´ç–¼äº†) ä¸‹è½½&amp;æ”¶è— å°è±¡ç¬”è®°è£å‰ª ç½‘é¡µæˆªå›¾ï¼šæ³¨é‡Š&amp;å½•å± RSS Subscription Extension Eagleget Free Download]]></content>
      <categories>
        <category>Software</category>
      </categories>
      <tags>
        <tag>Windows</tag>
        <tag>Chrome</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Sublime Text3 å¿«æ·é”®]]></title>
    <url>%2F2018%2F02%2F22%2Fsublime%E5%BF%AB%E6%8D%B7%E9%94%AE%2F</url>
    <content type="text"><![CDATA[é€‰æ‹©ç±»Ctrl + D é€‰æ‹©å•æ–‡æœ¬ Alt + F3 é€‰ä¸­æ–‡ä»¶æ‰€æœ‰ç›¸åŒæ–‡æœ¬ Ctrl + L é€‰ä¸­æ•´è¡Œ Ctrl + shift + M é€‰ä¸­æ‹¬å·ä¸­æ–‡æœ¬ï¼ˆä¸æœç‹—æœ‰çƒ­é”®å†²çªï¼‰ Ctrl + M å…‰æ ‡ç§»åŠ¨ç»“æŸæˆ–å¼€å§‹ä½ç½® Ctrl + Enter åœ¨ä¸‹ä¸€è¡Œæ’å…¥æ–°è¡Œ Ctrl + Shift + Enter åœ¨ä¸Šä¸€è¡Œæ’å…¥æ–°è¡Œ Ctrl + Shift + [ é€‰ä¸­ï¼ŒæŠ˜å ä»£ç  Ctrl + Shift + ] é€‰ä¸­ï¼Œå±•å¼€ä»£ç  Ctrl + K + 0 å±•å¼€æ‰€æœ‰æŠ˜å ä»£ç  Ctrl + â†/â†’ å¿«é€Ÿç§»åŠ¨å…‰æ ‡ shift + â†‘/â†“ å‘ä¸Š/å‘ä¸‹é€‰ä¸­å¤šè¡Œ Shift + â†/â†’ å‘å·¦/å‘å³é€‰ä¸­æ–‡æœ¬ Ctrl + Shift + â†/â†’ å‘å·¦/å‘å³å¿«é€Ÿé€‰æ‹©æ–‡æœ¬ ç¼–è¾‘ç±»Ctrl + J åˆå¹¶å¤šè¡Œä»£ç ä¸ºä¸€è¡Œ Ctrl + Shift + D å¤åˆ¶æ•´è¡Œï¼Œæ’å…¥åˆ°ä¸‹ä¸€è¡Œ Tab å‘å³ç¼©è¿› &amp; Shift + Tab å‘å·¦ç¼©è¿› Ctrl + K + K ä»å…‰æ ‡å¤„å¼€å§‹åˆ é™¤ä»£ç è‡³è¡Œå°¾ã€‚ Ctrl + Shift + K åˆ é™¤æ•´è¡Œã€‚ Ctrl + / æ³¨é‡Šå•è¡Œã€‚ Ctrl + Shift + / æ³¨é‡Šå¤šè¡Œã€‚ Ctrl + K + U/L è½¬æ¢å¤§/å°å†™ã€‚ Ctrl + Z æ’¤é”€ Ctrl + Y æ¢å¤æ’¤é”€ Ctrl + F2 è®¾ç½®ä¹¦ç­¾ Ctrl + T å·¦å³å­—æ¯äº’æ¢ã€‚ F6 å•è¯æ£€æµ‹æ‹¼å†™ æœç´¢ç±»Ctrl + F æ–‡ä»¶å†…æœç´¢ Ctrl + shift + F æ–‡ä»¶å¤¹å†…æœç´¢ Ctrl + P æŒ‰ç±»åˆ«æœç´¢ã€‚ä¸¾ä¸ªæ —å­ï¼š1ã€è¾“å…¥å½“å‰é¡¹ç›®ä¸­çš„æ–‡ä»¶åï¼›å¿«é€Ÿæœç´¢æ–‡ä»¶ï¼Œ2ã€è¾“å…¥@å’Œå…³é”®å­—ï¼ŒæŸ¥æ‰¾æ–‡ä»¶ä¸­å‡½æ•°åï¼›3ã€è¾“å…¥ï¼šå’Œæ•°å­—ï¼Œè·³è½¬åˆ°æ–‡ä»¶ä¸­è¯¥è¡Œä»£ç ï¼Œ4ã€è¾“å…¥#å’Œå…³é”®å­—ï¼ŒæŸ¥æ‰¾å˜é‡åã€‚ Ctrl + G æ•°å­—å®šä½æœç´¢ Ctrl + R å‡½æ•°å®šä½æœç´¢ Ctrl + ï¼š å˜é‡ã€å±æ€§åå®šä½æœç´¢ Ctrl + Shift + P æ‰“å¼€å‘½ä»¤æ¡†ã€‚åœºæ™¯æ —å­ï¼šæ‰“å¼€å‘½åæ¡†ï¼Œè¾“å…¥å…³é”®å­—ï¼Œè°ƒç”¨sublime textæˆ–æ’ä»¶çš„åŠŸèƒ½ï¼Œä¾‹å¦‚ä½¿ç”¨packageå®‰è£…æ’ä»¶ã€‚ æ˜¾ç¤ºç±»Ctrl + Tab æŒ‰æµè§ˆé¡ºåºåˆ‡æ¢çª—å£ Ctrl + PageDown å‘å·¦åˆ‡æ¢å½“å‰çª—å£çš„æ ‡ç­¾é¡µ Ctrl + PageUp å‘å³åˆ‡æ¢å½“å‰çª—å£çš„æ ‡ç­¾é¡µã€‚ Alt + Shift + â€œ1/2/3â€ åˆ†å± Ctrl + K + B å¼€å¯/å…³é—­ä¾§è¾¹æ ã€‚ F11 å…¨å±æ¨¡å¼ Shift + F11 å…æ‰“æ‰°æ¨¡å¼]]></content>
      <categories>
        <category>ç¼–è¾‘å™¨</category>
      </categories>
      <tags>
        <tag>Sublime</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Hello World]]></title>
    <url>%2F2018%2F02%2F16%2Fhello-world%2F</url>
    <content type="text"><![CDATA[Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new "My New Post" More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment]]></content>
      <categories>
        <category>ç½‘é¡µé…ç½®</category>
      </categories>
      <tags>
        <tag>HEXO</tag>
      </tags>
  </entry>
</search>
